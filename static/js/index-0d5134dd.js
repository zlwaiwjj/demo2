import{w as F}from"./runtime-dom.esm-bundler-7421a035.js";import{s as K}from"./vue3-danmaku.esm-ff3f7188.js";import{h as w,r as p,J as V,o as Y,a0 as G,a3 as Q,j as y,v as b,x as n,l as a,B as e,D as s,C as B,P as j,u as P}from"./runtime-core.esm-bundler-1f6332ae.js";const k=[{avatar:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIADIAMgMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAFBAYBAgMAB//aAAgBAQAAAAD7HU4ObhMC3AnlYvY8ISwA+6WDOd4/RA96FVeF66BOVWB3TsAOgZC27wv/xAAYAQEBAQEBAAAAAAAAAAAAAAACAwQAAf/aAAgBAhAAAAC3sw8uyRDQPV//xAAYAQADAQEAAAAAAAAAAAAAAAAAAgMBBP/aAAgBAxAAAACQ7LfmoUTNvFf/xAA0EAACAQMBBAcHAwUAAAAAAAABAgMABBESBRMxQRAhIjJRYbEUIzRCUnOBM3KSU2KRoeH/2gAIAQEAAT8AmmSCJpHOAoq6vZp8lmITkgonSQCMZxikkdGDxsVbxFbK2l7TGUkwHQfy6Ln4if7jetbcdglvH9TFv40hD71CGzlQpAyACRkt4VcxojxOdIj06GzwA5VKkilGUdjUcNxD9XlwI5g1Bfm0u4nC5UHDeYNWu0LS4B3D6mHHIwaufiJ/uN61tm6Et6GPCIbv8mtqi4gtrFkzjeuxIGRq+TP4orI1jpK+8MHAfVprYcM8kVysmoIGiwG8UfVgVcwh1ecDGiYcvlNWk7W9zDKucqwyPEVOczzfvb1q/wBkXWqR4Sja8nDHGCajAEagHIAx/jourmK0haaV9KrWyrFZLRZJ07MqNhc8Q3M/irfZFlaOGQF2HzOc1cACeYD+o3r0XptYEJKAyMx06TgsxOaupr+MhkIQk6TlfPlkVNCIxBc3A9onLjRG/WtWV1BPFlRp09TpzBHLoufiJ/uN69G05JLxt8C2ksQpTiAMHIq0mQz6HnMnZwurBwBRhKTLLK5Y6Oz/AGf9qwla3u4TykBRh/sdFx8RN9xvWpri43Unv5O6fmNSSSCHGtsb0DGfKrFm3zdZ7o9RUskhMnbbu+NLJJrh7bfqJz869onxjfSY/callk3knvG7x51//8QAIxEAAgEEAQMFAAAAAAAAAAAAAQIRAAMSMRAEIXETMjNBUf/aAAgBAgEBPwBMUTNv3tSdQrgZDYpwMmx0N8PdFv0iBMAyKS4QroF99JcxDhhMntwxgUCoJIER90jZCeG2PBpvjNWtHzx//8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAERASAyEyM0GBkf/aAAgBAwEBPwBtmbURuErdRb1W/nCIW3vqMgJVr8YyWVIyvYG/5CKwJze36jY//9k=",name:"美绪",text:"马什么梅？"},{avatar:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIADIAMgMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAABQIDBAEGB//aAAgBAQAAAAD65hzG3WLcATfCbHYQ9IY0uiEfRkU1IOr+RoUG1ornWj7Y6//EABgBAQADAQAAAAAAAAAAAAAAAAQAAgUD/9oACAECEAAAACEf3IJba51tGDNq/wD/xAAYAQEAAwEAAAAAAAAAAAAAAAAEAQMFAv/aAAgBAxAAAABSg0MWQdj+c6VozP/EAC0QAAIBAwMBBgUFAAAAAAAAAAECEQADBBASMUEiUVJhcZEFExQhgSAyQoKx/9oACAEBAAE/AKu5oEi2A3meKOXf8cfgV9Xe2kEgyOeCKsZSXAqs0XP91z7+wC3MSCzeg/RbuG06uO8T6a5kNkOOu0CpUXWQMdo4kQRPQihPd9tH+4jXIw0yDukq0RNHFu2/iOVku0pfx7foHt91MttbMyN7njqQDo3BPkdWEqRJEjkV8QOV2LVq2xBBlkoq+y181CrgHn1nXHffZQ+UH8aEwCaEoJP9qzbe+ySOUO7XCuxca2f5CR6jS477H7bftPWt7+NvekdzbWXYyo60rvtXtHgda3v4j71Yd/qLPaPJ6+Vb38be9f/EACYRAAECBAQHAQAAAAAAAAAAAAECAwAEEBIREzFSITNBQlFhgXL/2gAIAQIBAT8AffKDYjXqYznd5hhwuI46ijjOOaSfaYUm232Ik9F/KKQFRMN2LHgiJVdrmG6s32fYa5iP0Kf/xAAmEQABAgQFBAMAAAAAAAAAAAABAgMAEBESBBNCUoEhMTNhUXFy/9oACAEDAQE/AGGAoXK4EZLWwQ+2G19Oxk28RlhI9GEqur9xi9HMm3C2qtAfRhhy9J+axiUXIrtnhdfEOeNf5Mv/2Q==",name:"博士",text:"马东什么？"},{avatar:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIADIAMgMBIgACEQEDEQH/xAAxAAACAgMBAAAAAAAAAAAAAAAABgQFAQIHAwEBAAMBAAAAAAAAAAAAAAAAAwABAgT/2gAMAwEAAhADEAAAAI7CsPnN1VeZ0okpTbSWASKzwmMPRy3PuuWhpv4KvQ7pcJYTUb+hdLQYWJoaVU+RU3jcXiaoegAhWOAPeeaBd1wGtf/EAC4QAAIBAwIEBAUFAQAAAAAAAAECAwAEEQUhBhASMRMiQWEUI3KBoSAzQlFSkv/aAAgBAQABPwDTxidHHbdTyZGjdkcYYelBGKM4HlUgH7/osXInRfQsK0q18abxGHkj/JrV0KXrEfzUGtLiE0F1G48r4GfcVJDJFI0TbMp52W91D9VXt42mWQCu0QUqHZQC7SyDIRA22QO5NXkFyLeFpnWRggYsMZw/+ioAPsRVlOtrpsshx+6d2OFGw3J/oVK897YR6nbfORCTkp0OVQ7lRk5Aq5gMZSVR8qVepfbPpy0jDSRyEZxIg/6JrjKJytlEEJ63uJD7ttXB6Tn41bhW8Mwxxjqzt3OBWrx+Bw9fQsRvIgBzjYutcP3F8upWVmZZltvjFPQW22BqeAJpHh+kWyeyhsL+KXS9RcB1WLpYZGSc4NcKwxTrcRy+qrj2IJIqe3S5AEsSOAcgMobB+9Lb9KhVAAHYCntRIjI6hkYYZWGQRUGm2ltMssVsiSKCAVGMZqWFZ4fDY4XYn7ULaEgF182N/Me9cIuI3kY9gFodLAEHINFgKDKdqwK1LVotOMSsnWz5JAPYUeJZyTiKMVwv2n+la08npcZOBjke3LVWZtRuizE4kI5f/8QAIBEBAAIBAgcAAAAAAAAAAAAAAQARAwIQEiAhMTJBcf/aAAgBAgEBPwDL5HzkadfX0RDjmTSUJtks1MqWpVypk7uxt//EACARAQABAwMFAAAAAAAAAAAAAAEAAhEhAxATEiIxYXH/2gAIAQMBAT8A0m1L9l+2++Sg9sF45p1N7M6iUJYwM5GYW4ZmZT4Njb//2Q==",name:"柚子",text:"什么冬梅？"}],v=["1","2","3","4","5","6","7","8","9"],x=()=>v.map((f,o)=>{const g=o%3;return{avatar:k[g].avatar,name:k[g].name,text:f}}),J={class:"card-header"},T={class:"font-medium"},W={class:"flex gap-5"},H={class:"danmu-item"},z=["src"],O={class:"main"},N={class:"ml-5"},_={class:"ml-5"},L={class:"ml-5"},Z={class:"flex"},X=w({name:"Danmaku"}),eA=w({...X,setup(f){const o=p(),g=p(x()),d=p("");let r=0;const u=V({channels:5,useSlot:!0,loop:!0,speeds:200,fontSize:20,top:10,right:0,debounce:100,randomChannel:!0});Y(()=>{window.onresize=()=>c()}),G(()=>{window.onresize=null});function C(l){switch(l){case"play":o.value.play();break;case"pause":o.value.pause();break;case"stop":o.value.stop();break;case"show":o.value.show();break;case"hide":o.value.hide();break;case"reset":o.value.reset();break}}function I(l){u.useSlot=l,g.value=l?x():v,setTimeout(()=>{o.value.stop(),o.value.play()})}function m(l){u.speeds<=10&&l===-10||(u.speeds+=l,o.value.reset())}function M(l){u.fontSize+=l,o.value.reset()}function E(l){!u.channels&&l===-1||(u.channels+=l)}function c(){r&&clearTimeout(r),r=window.setTimeout(()=>{o.value.resize()},500)}function D(){if(!d.value)return;const l=u.useSlot?{avatar:"https://i.loli.net/2021/01/17/xpwbm3jKytfaNOD.jpg",name:"你",text:d.value}:d.value;o.value.add(l),d.value=""}return(l,A)=>{const S=Q("el-link"),i=Q("el-button"),h=Q("el-input"),R=Q("el-card");return y(),b(R,null,{header:n(()=>[a("div",J,[a("span",T,[e(" 弹幕组件，采用开源的 "),s(S,{href:"https://github.com/hellodigua/vue-danmaku/tree/vue3",target:"_blank",style:{"font-size":"16px",margin:"0 4px 5px"}},{default:n(()=>[e(" vue3-danmaku ")]),_:1})])])]),default:n(()=>[a("div",W,[s(P(K),j({ref_key:"danmaku",ref:o,class:"demo",danmus:g.value,"onUpdate:danmus":A[0]||(A[0]=t=>g.value=t),isSuspend:""},u),{dm:n(({danmu:t,index:U})=>[a("div",H,[a("img",{class:"img",src:t.avatar},null,8,z),a("span",null,B(U)+B(t.name)+"：",1),a("span",null,B(t.text),1)])]),_:1},16,["danmus"]),a("div",O,[a("p",null,[e(" 播放： "),s(i,{onClick:A[1]||(A[1]=t=>C("play"))},{default:n(()=>[e("播放")]),_:1}),s(i,{onClick:A[2]||(A[2]=t=>C("pause"))},{default:n(()=>[e("暂停")]),_:1}),s(i,{onClick:A[3]||(A[3]=t=>C("stop"))},{default:n(()=>[e("停止")]),_:1})]),a("p",null,[e(" 模式： "),s(i,{onClick:A[4]||(A[4]=t=>I(!0))},{default:n(()=>[e("弹幕 slot")]),_:1}),s(i,{onClick:A[5]||(A[5]=t=>I(!1))},{default:n(()=>[e("普通文本")]),_:1})]),a("p",null,[e(" 显示： "),s(i,{onClick:A[6]||(A[6]=t=>C("show"))},{default:n(()=>[e("显示")]),_:1}),s(i,{onClick:A[7]||(A[7]=t=>C("hide"))},{default:n(()=>[e("隐藏")]),_:1})]),a("p",null,[e(" 速度： "),s(i,{onClick:A[8]||(A[8]=t=>m(-10))},{default:n(()=>[e("减速")]),_:1}),s(i,{onClick:A[9]||(A[9]=t=>m(10))},{default:n(()=>[e("增速")]),_:1}),a("span",N,"当前速度："+B(u.speeds)+"像素/s",1)]),a("p",null,[e(" 字号： "),s(i,{disabled:u.useSlot,onClick:A[10]||(A[10]=t=>M(-1))},{default:n(()=>[e(" 缩小 ")]),_:1},8,["disabled"]),s(i,{disabled:u.useSlot,onClick:A[11]||(A[11]=t=>M(1))},{default:n(()=>[e(" 放大 ")]),_:1},8,["disabled"]),a("span",_,"当前字号："+B(u.fontSize)+"px",1)]),a("p",null,[e(" 轨道： "),s(i,{onClick:A[12]||(A[12]=t=>E(-1))},{default:n(()=>[e("-1")]),_:1}),s(i,{onClick:A[13]||(A[13]=t=>E(1))},{default:n(()=>[e("+1")]),_:1}),s(i,{onClick:A[14]||(A[14]=t=>E(-u.channels))},{default:n(()=>[e(" 填满 ")]),_:1}),a("span",L,"当前轨道："+B(u.channels),1)]),a("p",Z,[s(h,{type:"text",placeholder:"输入评论后，回车发送弹幕",modelValue:d.value,"onUpdate:modelValue":A[15]||(A[15]=t=>d.value=t),onKeyup:F(D,["enter"])},null,8,["modelValue","onKeyup"])])])])]),_:1})}}});export{eA as default};
