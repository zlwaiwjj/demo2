import{H as a,d as E}from"./index-e24b4c59.js";import{c as o,$ as s,o as C}from"./index-16541afb.js";import{J as f,r as u}from"./runtime-core.esm-bundler-1f6332ae.js";const d=/^\d{6}$/,v=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,I=f({password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):v.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):C().verifyCode!==r?e(new Error(o(s("login.verifyCodeCorrectReg")))):e()},trigger:"blur"}]}),A=f({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):a(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):d.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}]}),m=f({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):a(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):d.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):v.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}]}),l=u(!1),t=u(null),g=u(""),x=()=>({isDisabled:l,timer:t,text:g,start:async(e,w,n=60)=>{if(!e)return;const R=E(n,!0);await e.validateField(w,p=>{p&&(clearInterval(t.value),t.value=setInterval(()=>{n>0?(g.value=`${n}`,l.value=!0,n-=1):(g.value="",l.value=!1,clearInterval(t.value),n=R)},1e3))})},end:()=>{g.value="",l.value=!1,clearInterval(t.value)}});export{m as a,I as l,A as p,x as u};
