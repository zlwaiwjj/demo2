import{g as NC}from"./_commonjsHelpers-042e6b4d.js";import{u as DC}from"./hooks-57129334.js";import{a as xm}from"./runtime-dom.esm-bundler-7421a035.js";import{h as zi,r as gn,o as Zm,u as sr,a3 as Ci,j as on,k as fo,l as mn,F as Jm,X as Qm,D as Ko,x as Vo,q as Sm,n as qm,A as eb,C as jC,v as rd,B as Pm,b6 as CC,b4 as RC}from"./runtime-core.esm-bundler-1f6332ae.js";import{_ as ud}from"./_plugin-vue_export-helper-c27b6911.js";import{V as IC}from"./styles-eba6eda4.js";import{g as sd}from"./index-e24b4c59.js";import{S as _C}from"./set-up-729eb907.js";import"./index-e84875e6.js";import"./vue.runtime.esm-bundler-14b8c028.js";import"./vue.runtime.esm-bundler-7c6ab200.js";const BC=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],LC={flowElementList:BC};var Ye={},zC={get exports(){return Ye},set exports(m){Ye=m}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return u[l].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(l,f,y){i.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:y})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,f){if(f&1&&(l=i(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var b in l)i.d(y,b,function(S){return l[S]}.bind(null,b));return y},i.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(f,"a",f),f},i.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(l,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ii}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return lr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Hi}),i.d(c,"h",function(){return Jn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Sr}),i.d(c,"k",function(){return Xr}),i.d(c,"l",function(){return Dr}),i.d(c,"m",function(){return xr}),i.d(c,"n",function(){return yl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return xl}),i.d(c,"q",function(){return oi}),i.d(c,"r",function(){return ml}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Qi}),i.d(c,"u",function(){return dl}),i.d(c,"v",function(){return bl}),i.d(c,"w",function(){return Ol}),i.d(c,"x",function(){return Pn}),i.d(c,"y",function(){return Cr}),i.d(c,"z",function(){return kt}),i.d(c,"A",function(){return yr}),i.d(c,"B",function(){return Tn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Sl}),i.d(c,"E",function(){return ni}),i.d(c,"F",function(){return hl}),i.d(c,"G",function(){return cl}),i.d(c,"H",function(){return Wi}),i.d(c,"I",function(){return Ml}),i.d(c,"J",function(){return Pr}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return El}),i.d(c,"M",function(){return wn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var S={};Object.freeze(S);function x(){return++Ge.mobxGuid}function P(d){throw w(!1,d),"X"}function w(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function M(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var j=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function _(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(J(d)||kt(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function U(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ie(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function oe(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function ee(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return _(N)&&N[O]===!0}}function J(d){return d instanceof Map}function ue(d){return d instanceof Set}function L(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function $(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var A=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+x()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return Xi(this)},d.prototype.reportChanged=function(){Tt(),nl(this),hr()},d.prototype.toString=function(){return this.name},d}(),Q=ee("Atom",W);function ce(d,h,O){h===void 0&&(h=j),O===void 0&&(O=j);var N=new W(d);return h!==j&&vl(N,h),O!==j&&ni(N,O),N}function Me(d,h){return d===h}function me(d,h){return Eo(d,h)}function Oe(d,h){return Eo(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Me,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function Le(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function _e(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)K.push(F.value)}catch(Te){fe={error:Te}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},q={};function he(d,h){var O=h?Y:q;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){U(d,ke,!0);var F=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=_e(F),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value,$e=N[Te];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Te,$e,ft){if(ft===!0)return h(fe,Te,$e,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];U(fe,k,Ve({},ct))}return fe[k][Te]={prop:Te,propertyCreator:h,descriptor:$e,decoratorTarget:fe,decoratorArguments:N},he(Te,d)};return ze(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return Pn(d)?d:Array.isArray(d)?mt.array(d,{name:O}):z(d)?mt.object(d,void 0,{name:O}):J(d)?mt.map(d,{name:O}):ue(d)?mt.set(d,{name:O}):d}function We(d,h,O){return d==null||yr(d)||Cr(d)||kt(d)||fr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):z(d)?mt.object(d,void 0,{name:O,deep:!1}):J(d)?mt.map(d,{name:O,deep:!1}):ue(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return Eo(d,h)?h:d}function ut(d){w(d);var h=pe(!0,function(N,F,K,fe,Te){var $e=K?K.initializer?K.initializer.call(N):K.value:void 0;ai(N).addObservableProp(F,$e,d)}),O=(typeof l<"u"&&l.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function Be(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),At=ut(We),dt=ut(nt),bt=ut(ve);function ne(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(Pn(d))return d;var N=z(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):J(d)?mt.map(d,h):ue(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Yt("box");var O=Be(h);return new sn(d,ne(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Yt("array");var O=Be(h);return Cl(d,ne(O),O.name)},map:function(d,h){arguments.length>2&&Yt("map");var O=Be(h);return new ii(d,ne(O),O.name)},set:function(d,h){arguments.length>2&&Yt("set");var O=Be(h);return new sa(d,ne(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Yt("object");var N=Be(O);if(N.proxy===!1)return oi({},d,h,N);var F=Zi(N),K=oi({},void 0,void 0,N),fe=Nn(K);return Ji(fe,d,h,F),fe},ref:dt,shallow:At,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Yt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var pr=pe(!1,function(d,h,O,N,F){var K=O.get,fe=O.set,Te=F[0]||{};ai(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Te))}),Vt=pr({equals:Ee.structural}),xr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new On(F)};xr.struct=Vt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var rr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof rr}function Ue(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,K=0;K<F;K++){var fe=N[K];if(En(fe)){if(Ge.disableErrorBoundaries)fe.get();else try{fe.get()}catch{return we(O),Xe(h),!0}if(d.dependenciesState===qe.STALE)return we(O),Xe(h),!0}}return vt(d),we(O),Xe(h),!1}}}function ot(){return Ge.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&P(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var F=Ge.trackingDerivation;Ge.trackingDerivation=d;var K;if(Ge.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new rr(fe)}return Ge.trackingDerivation=F,H(d),Xe(N),K}function H(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Te=O[fe];Te.diffValue===0&&(Te.diffValue=1,F!==fe&&(O[F]=Te),F++),Te.dependenciesState>N&&(N=Te.dependenciesState)}for(O.length=F,d.newObserving=null,K=h.length;K--;){var Te=h[K];Te.diffValue===0&&kr(Te,d),Te.diffValue=0}for(;F--;){var Te=O[F];Te.diffValue===1&&(Te.diffValue=0,rl(Te,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)kr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{we(h)}}function re(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function we(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Xe(d){Ge.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Zt=0,Jt=1,Xn=Object.getOwnPropertyDescriptor(function(){},"name");Xn&&Xn.configurable;function $r(d,h,O){var N=function(){return Fi(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function Fi(d,h,O,N){var F=Sr();try{return h.apply(O,N)}catch(K){throw F.error=K,K}finally{Hi(F)}}function Sr(d,h,O){var N=Rt(),F=0,K=re();Tt();var fe=bn(!0),Te=De(!0),$e={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Te,notifySpy:N,startTime:F,actionId:Jt++,parentActionId:Zt};return Zt=$e.actionId,$e}function Hi(d){Zt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Zt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),Un(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),hr(),we(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function lr(d,h){var O=bn(d),N;try{N=h()}finally{Un(O)}return N}function bn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function Un(d){Ge.allowStateChanges=d}var sn=function(d){Le(h,d);function h(O,N,F,K,fe){F===void 0&&(F="ObservableValue@"+x()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Te=d.call(this,F)||this;return Te.enhancer=N,Te.name=F,Te.equals=fe,Te.hasUnreportedChange=!1,Te.value=N(O,void 0,F),K&&Rt(),Te}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==Ge.UNCHANGED){var F=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Tr(this)){var N=Mr(this,{object:this,type:"update",newValue:O});if(!N)return Ge.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?Ge.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),vr(this)&&Qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Vn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Yn=ee("ObservableValue",sn),On=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new rr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,w(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+x(),h.set&&(this.setter=$r(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){il(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ue(this)&&(this.warnAboutUntrackedRead(),Tt(),this.value=this.computeValue(!1),hr()):(Xi(this),Ue(this)&&this.trackAndCompute()&&ol(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else w(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||je(h)||je(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new rr(N)}return Ge.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,K=void 0;return Dr(function(){var fe=N.get();if(!F||O){var Te=re();h({type:"update",object:N,newValue:fe,oldValue:K}),we(Te)}F=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),En=ee("ComputedValue",On),po=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),tl={};function ho(){return typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:tl}var vo=!0,Gi=!1,Ge=function(){var d=ho();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(vo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new po().version&&(vo=!1),vo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new po):(setTimeout(function(){Gi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new po)}();function $i(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Gi=!0,vo&&(--ho().__mobxInstanceCount===0&&(ho().__mobxGlobals=void 0),Ge=new po)}function rl(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function kr(d,h){d.observers.delete(h),d.observers.size===0&&ki(d)}function ki(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Tt(){Ge.inBatch++}function hr(){if(--Ge.inBatch===0){Yi();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof On&&O.suspend())}Ge.pendingUnobservations=[]}}function Xi(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&ki(d),!1)}function nl(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function ol(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function il(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale())}))}function yo(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Pt.BREAK){var O=[];Ui(Qi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof On?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Ui(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return Ui(N,h,O+1)})}var ln=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+x()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Yi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Tt(),this._isScheduled=!1,Ue(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}hr()}},d.prototype.track=function(h){if(!this.isDisposed){Tt(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),hr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),Ge.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Tt(),V(this),hr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),wl(this,h)},d}(),ei=100,ti=function(d){return d()};function Yi(){Ge.inBatch>0||Ge.isRunningReactions||ti(al)}function al(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===ei&&(console.error("Reaction doesn't converge to a stable state after "+ei+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}Ge.isRunningReactions=!1}var go=ee("Reaction",ln);function ul(d){var h=ti;ti=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function pd(d){}function hd(d){}function vd(d){}function Wi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function sl(){P(!1)}function Ki(d){return function(h,O,N){if(N){if(N.value)return{value:$r(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $r(d,F.call(this))}}}return ll(d).apply(this,arguments)}}function ll(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){U(this,O,Xr(d,F))}})}}function fl(d,h,O,N){return N===!0?(ri(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ri(this,h,O.value||O.initializer.call(this)),this[h]},set:sl}:{enumerable:!1,configurable:!0,set:function(F){ri(this,h,F)},get:function(){}}}var Xr=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return $r(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return $r(h,O);if(arguments.length===1&&typeof h=="string")return Ki(h);if(F===!0)U(h,O,$r(h.name||O,N.value,this));else return Ki(O).apply(null,arguments)};Xr.bound=fl;function cl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return Fi(O,N,this,void 0)}function dl(d){return typeof d=="function"&&d.isMobxAction===!0}function ri(d,h,O){U(d,h,$r(h,O.bind(d)))}function Dr(d,h){h===void 0&&(h=S);var O=h&&h.name||d.name||"Autorun@"+x(),N=!h.scheduler&&!h.delay,F;if(N)F=new ln(O,function(){this.track(Te)},h.onError,h.requiresObservable);else{var K=xn(h),fe=!1;F=new ln(O,function(){fe||(fe=!0,K(function(){fe=!1,F.isDisposed||F.track(Te)}))},h.onError,h.requiresObservable)}function Te(){d(F)}return F.schedule(),F.getDisposer()}var pl=function(d){return d()};function xn(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:pl}function hl(d,h,O){O===void 0&&(O=S);var N=O.name||"Reaction@"+x(),F=Xr(N,O.onError?Wn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=xn(O),Te=!0,$e=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new ln(N,function(){Te||K?xt():$e||($e=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if($e=!1,!Ot.isDisposed){var _t=!1;Ot.track(function(){var Xt=d(Ot);_t=Te||!ct(ft,Xt),ft=Xt}),Te&&O.fireImmediately&&F(ft,Ot),!Te&&_t===!0&&F(ft,Ot),Te&&(Te=!1)}}return Ot.schedule(),Ot.getDisposer()}function Wn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function vl(d,h,O){return Vi("onBecomeObserved",d,h,O)}function ni(d,h,O){return Vi("onBecomeUnobserved",d,h,O)}function Vi(d,h,O,N){var F=typeof N=="function"?wr(h,O):wr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(K):F[fe]=new Set([K]);var Te=F[d];return typeof Te!="function"?P(!1):function(){var $e=F[fe];$e&&($e.delete(K),$e.size===0&&delete F[fe])}}function yl(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Te=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&$i(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=$e,Ge.allowStateChanges=!($e===!0||$e==="strict")}O!==void 0&&(Ge.computedRequiresReaction=!!O),fe!==void 0&&(Ge.reactionRequiresObservable=!!fe),Te!==void 0&&(Ge.observableRequiresReaction=!!Te,Ge.allowStateReads=!Ge.observableRequiresReaction),N!==void 0&&(Ge.computedConfigurable=!!N),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!F),K&&ul(K)}function oi(d,h,O,N){N=Be(N);var F=Zi(N);return xe(d),ai(d,N.name,F.enhancer),h&&Ji(d,h,O,F),d}function Zi(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function Ji(d,h,O,N){var F,K,fe,Te;Tt();try{var Te=A(h);try{for(var $e=_e(Te),ft=$e.next();!ft.done;ft=$e.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?pr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ft&&!ft.done&&(K=$e.return)&&K.call($e)}finally{if(F)throw F.error}}}finally{hr()}}function Qi(d,h){return qi(wr(d,h))}function qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(qi)),h}var gl=0;function ea(){this.message="FLOW_CANCELLED"}ea.prototype=Object.create(Error.prototype);function ml(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++gl,K=Xr(h+" - runid: "+F+" - init",d).apply(O,N),fe,Te=void 0,$e=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Mt){Te=void 0;var gr;try{gr=Xr(h+" - runid: "+F+" - yield "+Ot++,K.next).call(K,Mt)}catch(Dn){return ct(Dn)}Xt(gr)}function _t(Mt){Te=void 0;var gr;try{gr=Xr(h+" - runid: "+F+" - yield "+Ot++,K.throw).call(K,Mt)}catch(Dn){return ct(Dn)}Xt(gr)}function Xt(Mt){if(Mt&&typeof Mt.then=="function"){Mt.then(Xt,ct);return}return Mt.done?ft(Mt.value):(Te=Promise.resolve(Mt.value),Te.then(xt,_t))}xt(void 0)});return $e.cancel=Xr(h+" - runid: "+F+" - cancel",function(){try{Te&&ta(Te);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(j,j),ta(ct),fe(new ea)}catch(Ot){fe(Ot)}}),$e}}function ta(d){typeof d.cancel=="function"&&d.cancel()}function ra(d,h){if(d==null)return!1;if(h!==void 0){if(yr(d)===!1||!d[R].values.has(h))return!1;var O=wr(d,h);return En(O)}return En(d)}function bl(d){return arguments.length>1?P(!1):ra(d)}function Ol(d,h){return typeof h!="string"?P(!1):ra(d,h)}function Sn(d,h){return d==null?!1:h!==void 0?yr(d)?d[R].values.has(h):!1:yr(d)||!!d[R]||Q(d)||go(d)||En(d)}function Pn(d){return arguments.length!==1&&P(!1),Sn(d)}function Tn(d){return yr(d)?d[R].getKeys():kt(d)||fr(d)?Array.from(d.keys()):Cr(d)?d.map(function(h,O){return O}):P(!1)}function El(d){return yr(d)?Tn(d).map(function(h){return d[h]}):kt(d)?Tn(d).map(function(h){return d.get(h)}):fr(d)?Array.from(d.values()):Cr(d)?d.slice():P(!1)}function xl(d){return yr(d)?Tn(d).map(function(h){return[h,d[h]]}):kt(d)?Tn(d).map(function(h){return[h,d.get(h)]}):fr(d)?Array.from(d.entries()):Cr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function na(d,h,O){if(arguments.length===2&&!fr(d)){Tt();var N=h;try{for(var F in N)na(d,F,N[F])}finally{hr()}return}if(yr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(kt(d))d.set(h,O);else if(fr(d))d.add(h);else if(Cr(d))typeof h!="number"&&(h=parseInt(h,10)),w(h>=0,"Not a valid index: '"+h+"'"),Tt(),h>=d.length&&(d.length=h+1),d[h]=O,hr();else return P(!1)}function Sl(d,h,O,N){return typeof O=="function"?Pl(d,h,O,N):mo(d,h,O)}function mo(d,h,O){return Jn(d).observe(h,O)}function Pl(d,h,O,N){return Jn(d,h).observe(O,N)}var Tl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Mn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Ur(d,h,O){if(!h.recurseEverything&&!Pn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Yn(d))return Ur(d.get(),h,O);Pn(d)&&Tn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(Cr(d)||Array.isArray(d)){var F=Mn(O,d,[],h),K=d.map(function(_t){return Ur(_t,h,O)});F.length=K.length;for(var fe=0,Te=K.length;fe<Te;fe++)F[fe]=K[fe];return F}if(fr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=Mn(O,d,new Set,h);return d.forEach(function(_t){$e.add(Ur(_t,h,O))}),$e}else{var ft=Mn(O,d,[],h);return d.forEach(function(_t){ft.push(Ur(_t,h,O))}),ft}if(kt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Mn(O,d,new Map,h);return d.forEach(function(_t,Xt){ct.set(Xt,Ur(_t,h,O))}),ct}else{var Ot=Mn(O,d,{},h);return d.forEach(function(_t,Xt){Ot[Xt]=Ur(_t,h,O)}),Ot}var xt=Mn(O,d,{},h);return L(d).forEach(function(_t){xt[_t]=Ur(d[_t],h,O)}),xt}function Ml(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Tl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Ur(d,h,O)}function wl(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=Al(d);if(!N)return P(!1);N.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+N.name+"' tracing enabled"),N.isTracing=O?Pt.BREAK:Pt.LOG}function Al(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Pr(d,h){h===void 0&&(h=void 0),Tt();try{return d.apply(h)}finally{hr()}}function wn(d,h,O){return arguments.length===1||h&&typeof h=="object"?Nl(d,h):Kn(d,h,O||{})}function Kn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+x();var F=$r(O.name+"-effect",h),K=Dr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return K}function Nl(d,h){var O,N=new Promise(function(F,K){var fe=Kn(d,F,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function bo(d){return d[R]}function Oo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var An={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=bo(d);return Oo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=bo(d),N=O.values.get(h);if(N instanceof W){var F=N.get();return F===void 0&&O.has(h),F}return Oo(h)&&O.has(h),d[h]},set:function(d,h,O){return Oo(h)?(na(d,h,O),!0):!1},deleteProperty:function(d,h){if(!Oo(h))return!1;var O=bo(d);return O.remove(h),!0},ownKeys:function(d){var h=bo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Nn(d){var h=new Proxy(d,An);return d[R].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Vn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),M(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Mr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),F=0,K=N.length;F<K&&(h=N[F](h),w(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{we(O)}}function vr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Zn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),M(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Qt(d,h){var O=re(),N=d.changeListeners;if(N){N=N.slice();for(var F=0,K=N.length;F<K;F++)N[F](h);we(O)}}var Dl=1e4,jl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?jr.get.call(d,h):typeof h=="string"&&!isNaN(h)?jr.get.call(d,parseInt(h)):jr.hasOwnProperty(h)?jr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&jr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:jr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Cl(d,h,O,N){O===void 0&&(O="ObservableArray@"+x()),N===void 0&&(N=!1);var F=new oa(O,h,N);ie(F.values,R,F);var K=new Proxy(F.values,jl);if(F.proxy=K,d&&d.length){var fe=bn(!0);F.spliceWithArray(0,0,d),Un(fe)}return K}var oa=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+x()),this.enhancer=function(F,K){return O(F,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Tr(this)){var fe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function($e){return F.enhancer($e,void 0)});var Te=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Te),this.dehanceValues(Te)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<Dl)return(F=this.values).splice.apply(F,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&Rt(),K=vr(this),fe=K||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&Qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&Rt(),K=vr(this),fe=K||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&Qt(this,fe)},d}(),jr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(h,O){var N=this,F=this[R];F.atom.reportObserved();var K=F.dehanceValues(F.values);return K[d](function(fe,Te){return h.call(O,fe,Te,N)},O)})}),["reduce","reduceRight"].forEach(function(d){jr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,K,fe){return K=O.dehanceValue(K),N(F,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Rl=ee("ObservableArrayAdministration",oa);function Cr(d){return _(d)&&Rl(d[R])}var ia,aa={},ii=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+x()),this.enhancer=O,this.name=N,this[ia]=aa,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!Ge.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new sn(this._has(h),nt,this.name+"."+$(h)+"?",!1);this._hasMap.set(h,F),ni(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Tr(this)){var F=Mr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Tr(this)){var N=Mr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=Rt(),K=vr(this),N=K||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Pr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Te=O._data.get(h);Te.setNewValue(void 0),O._data.delete(h)}),K&&Qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==Ge.UNCHANGED){var F=Rt(),K=vr(this),fe=K||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&Qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Pr(function(){var Te=new sn(O,N.enhancer,N.name+"."+$(h),!1);N._data.set(h,Te),O=Te.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=Rt(),K=vr(this),fe=K||F?{type:"add",object:this,name:h,newValue:O}:null;K&&Qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:[K,h.get(K)]}}})},d.prototype[ia=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var K=_e(this),fe=K.next();!fe.done;fe=K.next()){var Te=Se(fe.value,2),$e=Te[0],ft=Te[1];h.call(O,ft,$e,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return kt(h)&&(h=h.toJS()),Pr(function(){var N=bn(!0);try{z(h)?L(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var K=Se(F,2),fe=K[0],Te=K[1];return O.set(fe,Te)}):J(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,K){return O.set(K,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{Un(N)}}),this},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,N;try{for(var F=_e(h.keys()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Pr(function(){var N,F,K,fe,Te=X(h),$e=new Map,ft=!1;try{for(var ct=_e(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Te.has(xt)){var _t=O.delete(xt);if(_t)ft=!0;else{var Xt=O._data.get(xt);$e.set(xt,Xt)}}}}catch(fn){N={error:fn}}finally{try{Ot&&!Ot.done&&(F=ct.return)&&F.call(ct)}finally{if(N)throw N.error}}try{for(var Mt=_e(Te.entries()),gr=Mt.next();!gr.done;gr=Mt.next()){var Dn=Se(gr.value,2),xt=Dn[0],Xt=Dn[1],ya=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var ga=O._data.get(xt);$e.set(xt,ga),ya||(ft=!0)}}}catch(fn){K={error:fn}}finally{try{gr&&!gr.done&&(fe=Mt.return)&&fe.call(Mt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==$e.size)O._keysAtom.reportChanged();else for(var ma=O._data.keys(),ba=$e.keys(),si=ma.next(),jn=ba.next();!si.done;){if(si.value!==jn.value){O._keysAtom.reportChanged();break}si=ma.next(),jn=ba.next()}O._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=_e(this),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];N[typeof Te=="symbol"?Te:$(Te)]=$e}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return $(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d}(),kt=ee("ObservableMap",ii),ua,Il={},sa=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+x()),this.name=N,this[ua]=Il,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,K){return O(F,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,N;try{for(var F=_e(h._data.values()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var K=_e(this),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value;h.call(O,Te,Te,this)}}catch($e){N={error:$e}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Tr(this)){var N=Mr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Pr(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=Rt(),K=vr(this),N=K||F?{type:"add",object:this,newValue:h}:null;K&&Qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var N=Mr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=Rt(),K=vr(this),N=K||F?{type:"delete",object:this,oldValue:h}:null;return Pr(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&Qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return xo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return xo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return fr(h)&&(h=h.toJS()),Pr(function(){var N=bn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):ue(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{Un(N)}}),this},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[ua=R,Symbol.iterator]=function(){return this.values()},d}(),fr=ee("ObservableSet",sa),la=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof On){F.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=F.prepareNewValue(O),O!==Ge.UNCHANGED){var fe=vr(this),Te=Rt(),K=fe||Te?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&Qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new sn(F,nt,this.name+"."+$(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new sn(O,N,this.name+"."+$(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,_l(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+$(O),this.values.set(O,new On(N)),(h===F||oe(h,O))&&Object.defineProperty(h,O,Bl(O))},d.prototype.remove=function(h){if(this.values.has(h)){var O=this.target;if(Tr(this)){var N=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{Tt();var F=vr(this),K=Rt(),fe=this.values.get(h),Te=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var N=F||K?{type:"remove",object:this.proxy||O,oldValue:Te,name:h}:null;F&&Qt(this,N)}finally{hr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=vr(this),F=Rt(),K=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&Qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=_e(this.values),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];$e instanceof sn&&N.push(Te)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function ai(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];z(d)||(h=(d.constructor.name||"ObservableObject")+"@"+x()),h||(h="ObservableObject@"+x());var N=new la(d,new Map,$(h),O);return U(d,R,N),N}var fa=Object.create(null),ca=Object.create(null);function _l(d){return fa[d]||(fa[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function da(d){var h=d[R];return h||(xe(d),d[R])}function Bl(d){return ca[d]||(ca[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return da(this).read(d)},set:function(h){da(this).write(d,h)}})}var Ll=ee("ObservableObjectAdministration",la);function yr(d){return _(d)?(xe(d),Ll(d[R])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Cr(d))return h!==void 0&&P(!1),d[R].atom;if(fr(d))return d[R];if(kt(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],yr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(Q(d)||En(d)||go(d))return d}else if(typeof d=="function"&&go(d[R]))return d[R];return P(!1)}function Jn(d,h){if(d||P("Expecting some object"),h!==void 0)return Jn(wr(d,h));if(Q(d)||En(d)||go(d)||kt(d)||fr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function zl(d,h){var O;return h!==void 0?O=wr(d,h):yr(d)||kt(d)||fr(d)?O=Jn(d):O=wr(d),O.name}var pa=Object.prototype.toString;function Eo(d,h,O){return O===void 0&&(O=-1),Qn(d,h,O)}function Qn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=pa.call(d);if(fe!==pa.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=ha(d),h=ha(h);var Te=fe==="[object Array]";if(!Te){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,ft=h.constructor;if($e!==ft&&!(typeof $e=="function"&&$e instanceof $e&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ct=N.length;ct--;)if(N[ct]===d)return F[ct]===h;if(N.push(d),F.push(h),Te){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Qn(d[ct],h[ct],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(Fl(h,xt)&&Qn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function ha(d){return Cr(d)?d.slice():J(d)||kt(d)||ue(d)||fr(d)?Array.from(d.entries()):d}function Fl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function xo(d){return d[Symbol.iterator]=ui,d}function ui(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var va=ho();typeof l>"u"&&(va.process={}),va.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wi,extras:{getDebugName:zl},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return oe}),i.d(c,"b",function(){return ie}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return U}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return _e}),i.d(c,"k",function(){return A});var l,f,y,b,S,x,P,w={},M=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,Y){for(var q in Y)k[q]=Y[q];return k}function _(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function z(k,Y,q){var he,xe,pe,ze={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];if(arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return X(k,ze,he,xe,null)}function X(k,Y,q,he,xe){var pe={type:k,props:Y,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe??++y};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function U(){return{current:null}}function ie(k){return k.children}function oe(k,Y){this.props=k,this.context=Y}function ee(k,Y){if(Y==null)return k.__?ee(k.__,k.__.__k.indexOf(k)+1):null;for(var q;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ee(k):null}function J(k){var Y,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return J(k)}}function ue(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!L.__r++||x!==f.debounceRendering)&&((x=f.debounceRendering)||S)(L)}function L(){for(var k;L.__r=b.length;)k=b.sort(function(Y,q){return Y.__v.__b-q.__v.__b}),b=[],k.some(function(Y){var q,he,xe,pe,ze,tt;Y.__d&&(ze=(pe=(q=Y).__v).__e,(tt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze??ee(pe),pe.__h),Pe(he,pe),pe.__e!=ze&&J(pe)))})}function $(k,Y,q,he,xe,pe,ze,tt,We,nt){var ve,ut,rt,Be,Qe,At,dt,bt=he&&he.__k||M,ne=bt.length;for(q.__k=[],ve=0;ve<Y.length;ve++)if((Be=q.__k[ve]=(Be=Y[ve])==null||typeof Be=="boolean"?null:typeof Be=="string"||typeof Be=="number"||typeof Be=="bigint"?X(null,Be,null,null,Be):Array.isArray(Be)?X(ie,{children:Be},null,null,null):Be.__b>0?X(Be.type,Be.props,Be.key,null,Be.__v):Be)!=null){if(Be.__=q,Be.__b=q.__b+1,(rt=bt[ve])===null||rt&&Be.key==rt.key&&Be.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<ne;ut++){if((rt=bt[ut])&&Be.key==rt.key&&Be.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,Be,rt=rt||w,xe,pe,ze,tt,We,nt),Qe=Be.__e,(ut=Be.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,Be),dt.push(ut,Be.__c||Qe,Be)),Qe!=null?(At==null&&(At=Qe),typeof Be.type=="function"&&Be.__k===rt.__k?Be.__d=We=I(Be,We,k):We=R(k,Be,rt,bt,Qe,We),typeof q.type=="function"&&(q.__d=We)):We&&rt.__e==We&&We.parentNode!=k&&(We=ee(rt))}for(q.__e=At,ve=ne;ve--;)bt[ve]!=null&&(typeof q.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==q.__d&&(q.__d=ee(he,ve+1)),Le(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,Y,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,Y=typeof he.type=="function"?I(he,Y,q):R(q,he,he,xe,he.__e,Y));return Y}function A(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){A(q,Y)}):Y.push(k)),Y}function R(k,Y,q,he,xe,pe){var ze,tt,We;if(Y.__d!==void 0)ze=Y.__d,Y.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,We=0;(tt=tt.nextSibling)&&We<he.length;We+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,Y,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,q[pe],he);for(pe in Y)xe&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===Y[pe]||ce(k,pe,Y[pe],q[pe],he)}function Q(k,Y,q){Y[0]==="-"?k.setProperty(Y,q):k[Y]=q==null?"":typeof q!="number"||j.test(Y)?q:q+"px"}function ce(k,Y,q,he,xe){var pe;e:if(Y==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)q&&Y in q||Q(k.style,Y,"");if(q)for(Y in q)he&&q[Y]===he[Y]||Q(k.style,Y,q[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=q,q?he||k.addEventListener(Y,pe?me:Me,pe):k.removeEventListener(Y,pe?me:Me,pe);else if(Y!=="dangerouslySetInnerHTML"){if(xe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=q??"";break e}catch{}typeof q=="function"||(q!=null&&(q!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,q):k.removeAttribute(Y))}}function Me(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,Y,q,he,xe,pe,ze,tt,We){var nt,ve,ut,rt,Be,Qe,At,dt,bt,ne,Ct,St=Y.type;if(Y.constructor!==void 0)return null;q.__h!=null&&(We=q.__h,tt=Y.__e=q.__e,Y.__h=null,pe=[tt]),(nt=f.__b)&&nt(Y);try{e:if(typeof St=="function"){if(dt=Y.props,bt=(nt=St.contextType)&&he[nt.__c],ne=nt?bt?bt.props.value:nt.__:he,q.__c?At=(ve=Y.__c=q.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(dt,ne):(Y.__c=ve=new oe(dt,ne),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=ne,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,Be=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,ne),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,ne)===!1||Y.__v===q.__v){ve.props=dt,ve.state=ve.__s,Y.__v!==q.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=q.__e,Y.__k=q.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,ne),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,Be,Qe)})}ve.context=ne,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,Be)),Ct=nt!=null&&nt.type===ie&&nt.key==null?nt.props.children:nt,$(k,Array.isArray(Ct)?Ct:[Ct],Y,q,he,xe,pe,ze,tt,We),ve.base=Y.__e,Y.__h=null,ve.__h.length&&ze.push(ve),At&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===q.__v?(Y.__k=q.__k,Y.__e=q.__e):Y.__e=Ee(q.__e,Y,q,he,xe,pe,ze,We);(nt=f.diffed)&&nt(Y)}catch(mt){Y.__v=null,(We||pe!=null)&&(Y.__e=tt,Y.__h=!!We,pe[pe.indexOf(tt)]=null),f.__e(mt,Y,q)}}function Pe(k,Y){f.__c&&f.__c(Y,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){f.__e(he,q.__v)}})}function Ee(k,Y,q,he,xe,pe,ze,tt){var We,nt,ve,ut=q.props,rt=Y.props,Be=Y.type,Qe=0;if(Be==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((We=pe[Qe])&&"setAttribute"in We==!!Be&&(Be?We.localName===Be:We.nodeType===3)){k=We,pe[Qe]=null;break}}if(k==null){if(Be===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",Be):document.createElement(Be,rt.is&&rt),pe=null,tt=!1}if(Be===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&l.call(k.childNodes),nt=(ut=q.props||w).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)Y.__k=[];else if(Qe=Y.props.children,$(k,Array.isArray(Qe)?Qe:[Qe],Y,q,he,xe&&Be!=="foreignObject",pe,ze,pe?pe[0]:q.__k&&ee(q,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&_(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||Be==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,Y,q){try{typeof k=="function"?k(Y):k.current=Y}catch(he){f.__e(he,q)}}function Le(k,Y,q){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Le(he[xe],Y,typeof k.type!="function");q||k.__e==null||_(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,q){return this.constructor(k,q)}function _e(k,Y,q){var he,xe,pe;f.__&&f.__(k,Y),xe=(he=typeof q=="function")?null:q&&q.__k||Y.__k,pe=[],Oe(Y,k=(!he&&q||Y).__k=z(ie,null,[k]),xe||w,w,Y.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:Y.firstChild?l.call(Y.childNodes):null,pe,!he&&q?q:xe?xe.__e:Y.firstChild,he),Pe(pe,k)}function Se(k,Y){_e(k,Y,Se)}function Ie(k,Y,q){var he,xe,pe,ze=C({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];return arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):q),X(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,Y){var q={__c:Y="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(ue)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}l=M.slice,f={__e:function(k,Y){for(var q,he,xe;Y=Y.__;)if((q=Y.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,oe.prototype.setState=function(k,Y){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),ue(this))},oe.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ue(this))},oe.prototype.render=ie,b=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(u,c,i){var l=i(116),f=i(44),y=i(178);l||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var l=i(39),f=i(83),y=i(70),b=i(56),S=i(111),x="Array Iterator",P=b.set,w=b.getterFor(x);u.exports=S(Array,"Array",function(M,j){P(this,{type:x,target:l(M),index:0,kind:j})},function(){var M=w(this),j=M.target,C=M.kind,_=M.index++;return!j||_>=j.length?(M.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:_,done:!1}:C=="values"?{value:j[_],done:!1}:{value:[_,j[_]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(3),S=i(57),x=i(27),P=x("iterator"),w=x("toStringTag"),M=b.values,j=function(_,z){if(_){if(_[P]!==M)try{S(_,P,M)}catch{_[P]=M}if(_[w]||S(_,w,z),f[z]){for(var X in b)if(_[X]!==b[X])try{S(_,X,b[X])}catch{_[X]=b[X]}}}};for(var C in f)j(l[C]&&l[C].prototype,C);j(y,"DOMTokenList")},function(u,c,i){var l=i(16),f=i(7),y=i(46),b=i(76),S=i(35),x=i(15),P=i(64),w=i(36),M=i(109),j=i(18),C=i(34),_=i(99),z=i(28),X=i(33),U=i(58),ie=i(88),oe=i(32),ee=i(38),J=i(39),ue=i(87),L=i(40),$=i(71),I=i(54),A=i(66),R=i(72),W=i(139),Q=i(112),ce=i(51),Me=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),Le=i(69),Ve=i(85),_e=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),Y=i(74).forEach,q=Ne("hidden"),he="Symbol",xe="prototype",pe=_e("toPrimitive"),ze=k.set,tt=k.getterFor(he),We=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,Be=y("JSON","stringify"),Qe=ce.f,At=Me.f,dt=W.f,bt=me.f,ne=x([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Yt=Ee("symbol-to-string-registry"),pr=Ee("wks"),Vt=!rt||!rt[xe]||!rt[xe].findChild,xr=w&&j(function(){return I(At({},"a",{get:function(){return At(this,"a",{value:7}).a}})).a!=7})?function(te,re,we){var De=Qe(We,re);De&&delete We[re],At(te,re,we),De&&te!==We&&At(We,re,De)}:At,qe=function(te,re){var we=Ct[te]=I(ve);return ze(we,{type:he,tag:te,description:re}),w||(we.description=re),we},Pt=function(re,we,De){re===We&&Pt(St,we,De),oe(re);var Xe=ue(we);return oe(De),C(Ct,Xe)?(De.enumerable?(C(re,q)&&re[q][Xe]&&(re[q][Xe]=!1),De=I(De,{enumerable:$(0,!1)})):(C(re,q)||At(re,q,$(1,{})),re[q][Xe]=!0),xr(re,Xe,De)):At(re,Xe,De)},rr=function(re,we){oe(re);var De=J(we),Xe=A(De).concat(lt(De));return Y(Xe,function(vt){(!w||S(Ue,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,we){return we===void 0?I(re):rr(I(re),we)},Ue=function(re){var we=ue(re),De=S(bt,this,we);return this===We&&C(Ct,we)&&!C(St,we)?!1:De||!C(this,we)||!C(Ct,we)||C(this,q)&&this[q][we]?De:!0},ot=function(re,we){var De=J(re),Xe=ue(we);if(!(De===We&&C(Ct,Xe)&&!C(St,Xe))){var vt=Qe(De,Xe);return vt&&C(Ct,Xe)&&!(C(De,q)&&De[q][Xe])&&(vt.enumerable=!0),vt}},Je=function(re){var we=dt(J(re)),De=[];return Y(we,function(Xe){!C(Ct,Xe)&&!C(Le,Xe)&&ne(De,Xe)}),De},lt=function(re){var we=re===We,De=dt(we?St:J(re)),Xe=[];return Y(De,function(vt){C(Ct,vt)&&(!we||C(We,vt))&&ne(Xe,Ct[vt])}),Xe};if(M||(nt=function(){if(U(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),we=Ve(re),De=function(Xe){this===We&&S(De,St,Xe),C(this,q)&&C(this[q],we)&&(this[q][we]=!1),xr(this,we,$(1,Xe))};return w&&Vt&&xr(We,we,{configurable:!0,set:De}),qe(we,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=Ue,Me.f=Pt,ce.f=ot,R.f=W.f=Je,Q.f=lt,Se.f=function(te){return qe(_e(te),te)},w&&(At(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(We,"propertyIsEnumerable",Ue,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:nt}),Y(A(pr),function(te){Ie(te)}),l({target:he,stat:!0,forced:!M},{for:function(te){var re=L(te);if(C(mt,re))return mt[re];var we=nt(re);return mt[re]=we,Yt[we]=re,we},keyFor:function(re){if(!ie(re))throw ut(re+" is not a symbol");if(C(Yt,re))return Yt[re]},useSetter:function(){Vt=!0},useSimple:function(){Vt=!1}}),l({target:"Object",stat:!0,forced:!M,sham:!w},{create:je,defineProperty:Pt,defineProperties:rr,getOwnPropertyDescriptor:ot}),l({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),l({target:"Object",stat:!0,forced:j(function(){Q.f(1)})},{getOwnPropertySymbols:function(re){return Q.f(ee(re))}}),Be){var H=!M||j(function(){var te=nt();return Be([te])!="[null]"||Be({a:te})!="{}"||Be(Object(te))!="{}"});l({target:"JSON",stat:!0,forced:H},{stringify:function(re,we,De){var Xe=Oe(arguments),vt=we;if(!(!X(we)&&re===void 0||ie(re)))return _(we)||(we=function(Zt,Jt){if(z(vt)&&(Jt=S(vt,this,Zt,Jt)),!ie(Jt))return Jt}),Xe[1]=we,b(Be,null,Xe)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return S(V,this)})}ke(nt,he),Le[q]=!0},function(u,c,i){var l=i(146).charAt,f=i(40),y=i(56),b=i(111),S="String Iterator",x=y.set,P=y.getterFor(S);b(String,"String",function(w){x(this,{type:S,string:f(w),index:0})},function(){var M=P(this),j=M.string,C=M.index,_;return C>=j.length?{value:void 0,done:!0}:(_=l(j,C),M.index+=_.length,{value:_,done:!1})})},function(u,c,i){(function(l){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var l=i(16),f=i(36),y=i(7),b=i(15),S=i(34),x=i(28),P=i(58),w=i(40),M=i(37).f,j=i(134),C=y.Symbol,_=C&&C.prototype;if(f&&x(C)&&(!("description"in _)||C().description!==void 0)){var z={},X=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),I=P(_,this)?new C($):$===void 0?C():C($);return $===""&&(z[I]=!0),I};j(X,C),X.prototype=_,_.constructor=X;var U=String(C("test"))=="Symbol(test)",ie=b(_.toString),oe=b(_.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,J=b("".replace),ue=b("".slice);M(_,"description",{configurable:!0,get:function(){var $=oe(this),I=ie($);if(S(z,$))return"";var A=U?ue(I,7,-1):J(I,ee,"$1");return A===""?void 0:A}}),l({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var l=i(150);l("iterator")},function(u,c,i){i.d(c,"a",function(){return l.a}),i.d(c,"c",function(){return l.e}),i.d(c,"h",function(){return ue}),i.d(c,"i",function(){return U}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return Ue});var l=i(1),f,y,b,S=0,x=[],P=l.i.__b,w=l.i.__r,M=l.i.diffed,j=l.i.__c,C=l.i.unmount;function _(H,V){l.i.__h&&l.i.__h(y,H,S||V),S=0;var te=y.__H||(y.__H={__:[],__h:[]});return H>=te.__.length&&te.__.push({}),te.__[H]}function z(H){return S=1,X(Me,H)}function X(H,V,te){var re=_(f++,2);return re.t=H,re.__c||(re.__=[te?te(V):Me(void 0,V),function(we){var De=re.t(re.__[0],we);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function U(H,V){var te=_(f++,3);!l.i.__s&&ce(te.__H,V)&&(te.__=H,te.__H=V,y.__H.__h.push(te))}function ie(H,V){var te=_(f++,4);!l.i.__s&&ce(te.__H,V)&&(te.__=H,te.__H=V,y.__h.push(te))}function oe(H){return S=5,J(function(){return{current:H}},[])}function ee(H,V,te){S=6,ie(function(){typeof H=="function"?H(V()):H&&(H.current=V())},te==null?te:te.concat(H))}function J(H,V){var te=_(f++,7);return ce(te.__H,V)&&(te.__=H(),te.__H=V,te.__h=H),te.__}function ue(H,V){return S=8,J(function(){return H},V)}function L(H){var V=y.context[H.__c],te=_(f++,9);return te.c=H,V?(te.__==null&&(te.__=!0,V.sub(y)),V.props.value):H.__}function $(H,V){l.i.useDebugValue&&l.i.useDebugValue(V?V(H):H)}function I(){var H;for(x.sort(function(V,te){return V.__v.__b-te.__v.__b});H=x.pop();)if(H.__P)try{H.__H.__h.forEach(W),H.__H.__h.forEach(Q),H.__H.__h=[]}catch(V){H.__H.__h=[],l.i.__e(V,H.__v)}}l.i.__b=function(H){y=null,P&&P(H)},l.i.__r=function(H){w&&w(H),f=0;var V=(y=H.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(Q),V.__h=[])},l.i.diffed=function(H){M&&M(H);var V=H.__c;V&&V.__H&&V.__H.__h.length&&(x.push(V)!==1&&b===l.i.requestAnimationFrame||((b=l.i.requestAnimationFrame)||R)(I)),y=null},l.i.__c=function(H,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Q(re)})}catch(re){V.some(function(we){we.__h&&(we.__h=[])}),V=[],l.i.__e(re,te.__v)}}),j&&j(H,V)},l.i.unmount=function(H){C&&C(H);var V,te=H.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(we){V=we}}),V&&l.i.__e(V,te.__v))};var A=typeof requestAnimationFrame=="function";function R(H){var V,te=function(){clearTimeout(re),A&&cancelAnimationFrame(V),setTimeout(H)},re=setTimeout(te,100);A&&(V=requestAnimationFrame(te))}function W(H){var V=y,te=H.__c;typeof te=="function"&&(H.__c=void 0,te()),y=V}function Q(H){var V=y;H.__c=H.__(),y=V}function ce(H,V){return!H||H.length!==V.length||V.some(function(te,re){return te!==H[re]})}function Me(H,V){return typeof V=="function"?V(H):V}function me(H,V){for(var te in V)H[te]=V[te];return H}function Oe(H,V){for(var te in H)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&H[re]!==V[re])return!0;return!1}function Pe(H){this.props=H}function Ee(H,V){function te(we){var De=this.props.ref,Xe=De==we.ref;return!Xe&&De&&(De.call?De(null):De.current=null),V?!V(this.props,we)||!Xe:Oe(this.props,we)}function re(we){return this.shouldComponentUpdate=te,Object(l.e)(H,we)}return re.displayName="Memo("+(H.displayName||H.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new l.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(H,V){return Oe(this.props,H)||Oe(this.state,V)};var Ne=l.i.__b;l.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),Ne&&Ne(H)};var Le=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(H){function V(te,re){var we=me({},te);return delete we.ref,H(we,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=Le,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(H.displayName||H.name)+")",V}var _e=function(H,V){return H==null?null:Object(l.k)(Object(l.k)(H).map(V))},Se={map:_e,forEach:_e,count:function(H){return H?Object(l.k)(H).length:0},only:function(H){var V=Object(l.k)(H);if(V.length!==1)throw"Children.only";return V[0]},toArray:l.k},Ie=l.i.__e;l.i.__e=function(H,V,te){if(H.then){for(var re,we=V;we=we.__;)if((re=we.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(H,V)}Ie(H,V,te)};var ke=l.i.unmount;function k(H,V,te){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),H.__c.__H=null),(H=me({},H)).__c!=null&&(H.__c.__P===te&&(H.__c.__P=V),H.__c=null),H.__k=H.__k&&H.__k.map(function(re){return k(re,V,te)})),H}function Y(H,V,te){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(re){return Y(re,V,te)}),H.__c&&H.__c.__P===V&&(H.__e&&te.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=te)),H}function q(){this.__u=0,this.t=null,this.__b=null}function he(H){var V=H.__.__c;return V&&V.__e&&V.__e(H)}function xe(H){var V,te,re;function we(De){if(V||(V=H()).then(function(Xe){te=Xe.default||Xe},function(Xe){re=Xe}),re)throw re;if(!te)throw V;return Object(l.e)(te,De)}return we.displayName="Lazy",we.__f=!0,we}function pe(){this.u=null,this.o=null}l.i.unmount=function(H){var V=H.__c;V&&V.__R&&V.__R(),V&&H.__h===!0&&(H.type=null),ke&&ke(H)},(q.prototype=new l.a).__c=function(H,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var we=he(re.__v),De=!1,Xe=function(){De||(De=!0,te.__R=null,we?we(vt):vt())};te.__R=Xe;var vt=function(){if(!--re.__u){if(re.state.__e){var Jt=re.state.__e;re.__v.__k[0]=Y(Jt,Jt.__c.__P,Jt.__c.__O)}var Xn;for(re.setState({__e:re.__b=null});Xn=re.t.pop();)Xn.forceUpdate()}},Zt=V.__h===!0;re.__u++||Zt||re.setState({__e:re.__b=re.__v.__k[0]}),H.then(Xe,Xe)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(H,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var we=V.__e&&Object(l.e)(l.b,null,H.fallback);return we&&(we.__h=null),[Object(l.e)(l.b,null,V.__e?null:H.children),we]};var ze=function(H,V,te){if(++te[1]===te[0]&&H.o.delete(V),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(te=H.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;H.u=te=te[2]}};function tt(H){return this.getChildContext=function(){return H.context},H.children}function We(H){var V=this,te=H.i;V.componentWillUnmount=function(){Object(l.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),H.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,we){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(l.j)(Object(l.e)(tt,{context:V.context},H.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(H,V){return Object(l.e)(We,{__v:H,i:V})}(pe.prototype=new l.a).__e=function(H){var V=this,te=he(V.__v),re=V.o.get(H);return re[0]++,function(we){var De=function(){V.props.revealOrder?(re.push(we),ze(V,H,re)):we()};te?te(De):De()}},pe.prototype.render=function(H){this.u=null,this.o=new Map;var V=Object(l.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return H.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(V,te){ze(H,te,V)})};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document<"u",Be=function(H){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};function Qe(H,V,te){return V.__k==null&&(V.textContent=""),Object(l.j)(H,V),typeof te=="function"&&te(),H?H.__c:null}function At(H,V,te){return Object(l.h)(H,V),typeof te=="function"&&te(),H?H.__c:null}l.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(l.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(V){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:V})}})});var dt=l.i.event;function bt(){}function ne(){return this.cancelBubble}function Ct(){return this.defaultPrevented}l.i.event=function(H){return dt&&(H=dt(H)),H.persist=bt,H.isPropagationStopped=ne,H.isDefaultPrevented=Ct,H.nativeEvent=H};var St,mt={configurable:!0,get:function(){return this.class}},Yt=l.i.vnode;l.i.vnode=function(H){var V=H.type,te=H.props,re=te;if(typeof V=="string"){var we=V.indexOf("-")===-1;for(var De in re={},te){var Xe=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Xe==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!Be(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():we&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),re[De]=Xe)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),H.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}H.$$typeof=ve,Yt&&Yt(H)};var pr=l.i.__r;l.i.__r=function(H){pr&&pr(H),St=H.__c};var Vt={ReactCurrentDispatcher:{current:{readContext:function(H){return St.__n[H.__c].props.value}}}};function xr(H){return l.e.bind(null,H)}function qe(H){return!!H&&H.$$typeof===ve}function Pt(H){return qe(H)?l.c.apply(null,arguments):H}function rr(H){return!!H.__k&&(Object(l.j)(null,H),!0)}function je(H){return H&&(H.base||H.nodeType===1&&H)||null}var Ue=function(H,V){return H(V)},ot=function(H,V){return H(V)},Je=l.b,lt={useState:z,useReducer:X,useEffect:U,useLayoutEffect:ie,useRef:oe,useImperativeHandle:ee,useMemo:J,useCallback:ue,useContext:L,useDebugValue:$,version:"17.0.2",Children:Se,render:Qe,hydrate:At,unmountComponentAtNode:rr,createPortal:nt,createElement:l.e,createContext:l.d,createFactory:xr,cloneElement:Pt,createRef:l.f,Fragment:l.b,isValidElement:qe,findDOMNode:je,Component:l.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:Ue,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vt};c.d=lt},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(179),S=i(57),x=function(w){if(w&&w.forEach!==b)try{S(w,"forEach",b)}catch{w.forEach=b}};for(var P in f)f[P]&&x(l[P]&&l[P].prototype);x(y)},function(u,c,i){var l=i(16),f=i(97);l({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var l=i(16),f=i(18),y=i(38),b=i(96),S=i(137),x=f(function(){b(1)});l({target:"Object",stat:!0,forced:x,sham:!S},{getPrototypeOf:function(w){return b(y(w))}})},function(u,c,i){var l=i(16),f=i(46),y=i(76),b=i(199),S=i(157),x=i(32),P=i(33),w=i(54),M=i(18),j=f("Reflect","construct"),C=Object.prototype,_=[].push,z=M(function(){function ie(){}return!(j(function(){},[],ie)instanceof ie)}),X=!M(function(){j(function(){})}),U=z||X;l({target:"Reflect",stat:!0,forced:U,sham:U},{construct:function(oe,ee){S(oe),x(ee);var J=arguments.length<3?oe:S(arguments[2]);if(X&&!z)return j(oe,ee,J);if(oe==J){switch(ee.length){case 0:return new oe;case 1:return new oe(ee[0]);case 2:return new oe(ee[0],ee[1]);case 3:return new oe(ee[0],ee[1],ee[2]);case 4:return new oe(ee[0],ee[1],ee[2],ee[3])}var ue=[null];return y(_,ue,ee),new(y(b,oe,ue))}var L=J.prototype,$=w(P(L)?L:C),I=y(oe,$,ee);return P(I)?I:$}})},function(u,c){var i=Function.prototype,l=i.bind,f=i.call,y=l&&l.bind(f);u.exports=l?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var l=i(7),f=i(51).f,y=i(57),b=i(44),S=i(108),x=i(134),P=i(95);u.exports=function(w,M){var j=w.target,C=w.global,_=w.stat,z,X,U,ie,oe,ee;if(C?X=l:_?X=l[j]||S(j,{}):X=(l[j]||{}).prototype,X)for(U in M){if(oe=M[U],w.noTargetGet?(ee=f(X,U),ie=ee&&ee.value):ie=X[U],z=P(C?U:j+(_?".":"#")+U,w.forced),!z&&ie!==void 0){if(typeof oe==typeof ie)continue;x(oe,ie)}(w.sham||ie&&ie.sham)&&y(oe,"sham",!0),b(X,U,oe,w)}}},function(u,c,i){var l=i(16),f=i(7),y=i(99),b=i(100),S=i(33),x=i(67),P=i(43),w=i(39),M=i(61),j=i(27),C=i(75),_=i(101),z=C("slice"),X=j("species"),U=f.Array,ie=Math.max;l({target:"Array",proto:!0,forced:!z},{slice:function(ee,J){var ue=w(this),L=P(ue),$=x(ee,L),I=x(J===void 0?L:J,L),A,R,W;if(y(ue)&&(A=ue.constructor,b(A)&&(A===U||y(A.prototype))?A=void 0:S(A)&&(A=A[X],A===null&&(A=void 0)),A===U||A===void 0))return _(ue,$,I);for(R=new(A===void 0?U:A)(ie(I-$,0)),W=0;$<I;$++,W++)$ in ue&&M(R,W,ue[$]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var l=i(16),f=i(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var l=i(16),f=i(38),y=i(66),b=i(18),S=b(function(){y(1)});l({target:"Object",stat:!0,forced:S},{keys:function(P){return y(f(P))}})},function(u,c,i){var l=i(16),f=i(18),y=i(39),b=i(51).f,S=i(36),x=f(function(){b(1)}),P=!S||x;l({target:"Object",stat:!0,forced:P,sham:!S},{getOwnPropertyDescriptor:function(M,j){return b(y(M),j)}})},function(u,c,i){var l=i(16),f=i(74).filter,y=i(75),b=y("filter");l({target:"Array",proto:!0,forced:!b},{filter:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(16),f=i(36),y=i(135),b=i(39),S=i(51),x=i(61);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(w){for(var M=b(w),j=S.f,C=y(M),_={},z=0,X,U;C.length>z;)U=j(M,X=C[z++]),U!==void 0&&x(_,X,U);return _}})},function(u,c,i){var l=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,S=Function.prototype,x=y(S.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=y(P.exec),M="name";l&&!f&&b(S,M,{configurable:!0,get:function(){try{return w(P,x(this))[1]}catch{return""}}})},function(u,c,i){var l=i(16),f=i(182),y=i(118),b=!y(function(S){Array.from(S)});l({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var l=i(7),f=i(84),y=i(34),b=i(85),S=i(109),x=i(128),P=f("wks"),w=l.Symbol,M=w&&w.for,j=x?w:w&&w.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(S||typeof P[C]=="string")){var _="Symbol."+C;S&&y(w,C)?P[C]=w[C]:x&&M?P[C]=M(_):P[C]=j(_)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var l=i(16),f=i(7),y=i(18),b=i(99),S=i(33),x=i(38),P=i(43),w=i(61),M=i(119),j=i(75),C=i(27),_=i(65),z=C("isConcatSpreadable"),X=9007199254740991,U="Maximum allowed index exceeded",ie=f.TypeError,oe=_>=51||!y(function(){var L=[];return L[z]=!1,L.concat()[0]!==L}),ee=j("concat"),J=function(L){if(!S(L))return!1;var $=L[z];return $!==void 0?!!$:b(L)},ue=!oe||!ee;l({target:"Array",proto:!0,forced:ue},{concat:function($){var I=x(this),A=M(I,0),R=0,W,Q,ce,Me,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],J(me)){if(Me=P(me),R+Me>X)throw ie(U);for(Q=0;Q<Me;Q++,R++)Q in me&&w(A,R,me[Q])}else{if(R>=X)throw ie(U);w(A,R++,me)}return A.length=R,A}})},function(u,c,i){var l=i(16),f=i(198);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var l=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=l.a||f||Function("return this")();c.a=y},function(u,c,i){var l=i(7),f=i(33),y=l.String,b=l.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not an object")}},function(u,c,i){var l=i(28);u.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(u,c,i){var l=i(15),f=i(38),y=l({}.hasOwnProperty);u.exports=Object.hasOwn||function(S,x){return y(f(S),x)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var l=i(7),f=i(36),y=i(129),b=i(32),S=i(87),x=l.TypeError,P=Object.defineProperty;c.f=f?P:function(M,j,C){if(b(M),j=S(j),b(C),y)try{return P(M,j,C)}catch{}if("get"in C||"set"in C)throw x("Accessors not supported");return"value"in C&&(M[j]=C.value),M}},function(u,c,i){var l=i(7),f=i(45),y=l.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var l=i(81),f=i(45);u.exports=function(y){return l(f(y))}},function(u,c,i){var l=i(7),f=i(98),y=l.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var l=i(16),f=i(74).map,y=i(75),b=y("map");l({target:"Array",proto:!0,forced:!b},{map:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(l){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return S}),i.d(c,"b",function(){return x}),i.d(c,"a",function(){return w});var f=i(10),y=function(M,j){var C=typeof Symbol=="function"&&M[Symbol.iterator];if(!C)return M;var _=C.call(M),z,X=[],U;try{for(;(j===void 0||j-- >0)&&!(z=_.next()).done;)X.push(z.value)}catch(ie){U={error:ie}}finally{try{z&&!z.done&&(C=_.return)&&C.call(_)}finally{if(U)throw U.error}}return X};function b(){var M=y(Object(f.j)(0),2),j=M[1],C=Object(f.h)(function(){j(function(_){return _+1})},[]);return C}function S(M){if(!M||typeof M!="object")return!1;var j=Object.getPrototypeOf(M);return!j||j===Object.prototype}function x(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var P={};function w(){return typeof window<"u"?window:typeof l<"u"?l:typeof self<"u"?self:P}}).call(this,i(82))},function(u,c,i){var l=i(90);u.exports=function(f){return l(f.length)}},function(u,c,i){var l=i(7),f=i(28),y=i(34),b=i(57),S=i(108),x=i(92),P=i(56),w=i(94).CONFIGURABLE,M=P.get,j=P.enforce,C=String(String).split("String");(u.exports=function(_,z,X,U){var ie=U?!!U.unsafe:!1,oe=U?!!U.enumerable:!1,ee=U?!!U.noTargetGet:!1,J=U&&U.name!==void 0?U.name:z,ue;if(f(X)&&(String(J).slice(0,7)==="Symbol("&&(J="["+String(J).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||w&&X.name!==J)&&b(X,"name",J),ue=j(X),ue.source||(ue.source=C.join(typeof J=="string"?J:""))),_===l){oe?_[z]=X:S(z,X);return}else ie?!ee&&_[z]&&(oe=!0):delete _[z];oe?_[z]=X:b(_,z,X)})(Function.prototype,"toString",function(){return f(this)&&M(this).source||x(this)})},function(u,c,i){var l=i(7),f=l.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var l=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,S){return arguments.length<2?y(l[b]):l[b]&&l[b][S]}},function(u,c,i){var l=i(16),f=i(35),y=i(33),b=i(32),S=i(200),x=i(51),P=i(96);function w(M,j){var C=arguments.length<3?M:arguments[2],_,z;if(b(M)===C)return M[j];if(_=x.f(M,j),_)return S(_)?_.value:_.get===void 0?void 0:f(_.get,C);if(y(z=P(M)))return w(z,j,C)}l({target:"Reflect",stat:!0},{get:w})},function(u,c,i){(function(l){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,S=b&&typeof l=="object"&&l&&!l.nodeType&&l,x=S&&S.exports===b,P=x?f.a.Buffer:void 0,w=P?P.isBuffer:void 0,M=w||y.a;c.a=M}).call(this,i(121)(u))},function(u,c,i){(function(l){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,S=b&&b.exports===y,x=S&&f.a.process,P=function(){try{var w=b&&b.require&&b.require("util").types;return w||x&&x.binding&&x.binding("util")}catch{}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var l=i(15),f=l({}.toString),y=l("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var l=i(36),f=i(35),y=i(93),b=i(71),S=i(39),x=i(87),P=i(34),w=i(129),M=Object.getOwnPropertyDescriptor;c.f=l?M:function(C,_){if(C=S(C),_=x(_),w)try{return M(C,_)}catch{}if(P(C,_))return b(!f(y.f,C,_),C[_])}},function(u,c,i){var l=i(16),f=i(213).entries;l({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var l=i(46);u.exports=l("navigator","userAgent")||""},function(u,c,i){var l=i(32),f=i(168),y=i(110),b=i(69),S=i(133),x=i(86),P=i(91),w=">",M="<",j="prototype",C="script",_=P("IE_PROTO"),z=function(){},X=function(J){return M+C+w+J+M+"/"+C+w},U=function(J){J.write(X("")),J.close();var ue=J.parentWindow.Object;return J=null,ue},ie=function(){var J=x("iframe"),ue="java"+C+":",L;return J.style.display="none",S.appendChild(J),J.src=String(ue),L=J.contentWindow.document,L.open(),L.write(X("document.F=Object")),L.close(),L.F},oe,ee=function(){try{oe=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&oe?U(oe):ie():U(oe);for(var J=y.length;J--;)delete ee[j][y[J]];return ee()};b[_]=!0,u.exports=Object.create||function(ue,L){var $;return ue!==null?(z[j]=l(ue),$=new z,z[j]=null,$[_]=ue):$=ee(),L===void 0?$:f($,L)}},function(u,c,i){var l=i(7),f=i(28),y=i(89),b=l.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a function")}},function(u,c,i){var l=i(170),f=i(7),y=i(15),b=i(33),S=i(57),x=i(34),P=i(107),w=i(91),M=i(69),j="Object already initialized",C=f.TypeError,_=f.WeakMap,z,X,U,ie=function(I){return U(I)?X(I):z(I,{})},oe=function(I){return function(A){var R;if(!b(A)||(R=X(A)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(l||P.state){var ee=P.state||(P.state=new _),J=y(ee.get),ue=y(ee.has),L=y(ee.set);z=function(I,A){if(ue(ee,I))throw new C(j);return A.facade=I,L(ee,I,A),A},X=function(I){return J(ee,I)||{}},U=function(I){return ue(ee,I)}}else{var $=w("state");M[$]=!0,z=function(I,A){if(x(I,$))throw new C(j);return A.facade=I,S(I,$,A),A},X=function(I){return x(I,$)?I[$]:{}},U=function(I){return x(I,$)}}u.exports={set:z,get:X,has:U,enforce:ie,getterFor:oe}},function(u,c,i){var l=i(36),f=i(37),y=i(71);u.exports=l?function(b,S,x){return f.f(b,S,y(1,x))}:function(b,S,x){return b[S]=x,b}},function(u,c,i){var l=i(15);u.exports=l({}.isPrototypeOf)},function(u,c,i){var l=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:l(b)}},function(u,c,i){var l=i(173),f=i(177);l("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var l=i(87),f=i(37),y=i(71);u.exports=function(b,S,x){var P=l(S);P in b?f.f(b,P,y(0,x)):b[P]=x}},function(u,c,i){var l=i(15),f=i(55),y=l(l.bind);u.exports=function(b,S){return f(b),S===void 0?b:y?y(b,S):function(){return b.apply(S,arguments)}}},function(u,c,i){var l=i(16),f=i(214),y=i(83);l({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var l=i(7),f=i(53),y=l.process,b=l.Deno,S=y&&y.versions||b&&b.version,x=S&&S.v8,P,w;x&&(P=x.split("."),w=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!w&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(w=+P[1]))),u.exports=w},function(u,c,i){var l=i(131),f=i(110);u.exports=Object.keys||function(b){return l(b,f)}},function(u,c,i){var l=i(68),f=Math.max,y=Math.min;u.exports=function(b,S){var x=l(b);return x<0?f(x+S,0):y(x,S)}},function(u,c){var i=Math.ceil,l=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?l:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,l){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:l}}},function(u,c,i){var l=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(S){return l(S,y)}},function(u,c,i){var l=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(S,x,P){S&&!f(S=P?S:S.prototype,b)&&l(S,b,{configurable:!0,value:x})}},function(u,c,i){var l=i(62),f=i(15),y=i(81),b=i(38),S=i(43),x=i(119),P=f([].push),w=function(M){var j=M==1,C=M==2,_=M==3,z=M==4,X=M==6,U=M==7,ie=M==5||X;return function(oe,ee,J,ue){for(var L=b(oe),$=y(L),I=l(ee,J),A=S($),R=0,W=ue||x,Q=j?W(oe,A):C||U?W(oe,0):void 0,ce,Me;A>R;R++)if((ie||R in $)&&(ce=$[R],Me=I(ce,R,L),M))if(j)Q[R]=Me;else if(Me)switch(M){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Q,ce)}else switch(M){case 4:return!1;case 7:P(Q,ce)}return X?-1:_||z?z:Q}};u.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},function(u,c,i){var l=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(S){return y>=51||!l(function(){var x=[],P=x.constructor={};return P[b]=function(){return{foo:1}},x[S](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,l=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(l):function(){return y.apply(l,arguments)})},function(u,c,i){var l=i(16),f=i(15),y=i(81),b=i(39),S=i(120),x=f([].join),P=y!=Object,w=S("join",",");l({target:"Array",proto:!0,forced:P||!w},{join:function(j){return x(b(this),j===void 0?",":j)}})},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),S=i(154),x=i(32),P=i(45),w=i(156),M=i(123),j=i(90),C=i(40),_=i(59),z=i(113),X=i(124),U=i(102),ie=i(151),oe=i(18),ee=ie.UNSUPPORTED_Y,J=4294967295,ue=Math.min,L=[].push,$=y(/./.exec),I=y(L),A=y("".slice),R=!oe(function(){var W=/(?:)/,Q=W.exec;W.exec=function(){return Q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Q,ce){var Me;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Me=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?J:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!S(me))return f(Q,Pe,me,Ee);for(var Ne=[],Le=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,_e=new RegExp(me.source,Le+"g"),Se,Ie,ke;(Se=f(U,_e,Pe))&&(Ie=_e.lastIndex,!(Ie>Ve&&(I(Ne,A(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&l(L,Ne,z(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)_e.lastIndex===Se.index&&_e.lastIndex++;return Ve===Pe.length?(ke||!$(_e,""))&&I(Ne,""):I(Ne,A(Pe,Ve)),Ne.length>Ee?z(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Me=function(me,Oe){return me===void 0&&Oe===0?[]:f(Q,this,me,Oe)}:Me=Q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:_(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Me,C(Ee),Oe,Pe)},function(me,Oe){var Pe=x(this),Ee=C(me),Ne=ce(Me,Pe,Ee,Oe,Me!==Q);if(Ne.done)return Ne.value;var Le=w(Pe,RegExp),Ve=Pe.unicode,_e=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ee?"g":"y"),Se=new Le(ee?"^(?:"+Pe.source+")":Pe,_e),Ie=Oe===void 0?J:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return X(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,Y=[];k<Ee.length;){Se.lastIndex=ee?0:k;var q=X(Se,ee?A(Ee,k):Ee),he;if(q===null||(he=ue(j(Se.lastIndex+(ee?k:0)),Ee.length))===ke)k=M(Ee,k,Ve);else{if(I(Y,A(Ee,ke,k)),Y.length===Ie)return Y;for(var xe=1;xe<=q.length-1;xe++)if(I(Y,q[xe]),Y.length===Ie)return Y;k=ke=he}}return I(Y,A(Ee,ke)),Y}]},!R,ee)},function(u,c,i){var l=i(36),f=i(7),y=i(15),b=i(95),S=i(44),x=i(34),P=i(143),w=i(58),M=i(88),j=i(130),C=i(18),_=i(72).f,z=i(51).f,X=i(37).f,U=i(196),ie=i(159).trim,oe="Number",ee=f[oe],J=ee.prototype,ue=f.TypeError,L=y("".slice),$=y("".charCodeAt),I=function(Me){var me=j(Me,"number");return typeof me=="bigint"?me:A(me)},A=function(Me){var me=j(Me,"number"),Oe,Pe,Ee,Ne,Le,Ve,_e,Se;if(M(me))throw ue("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ie(me),Oe=$(me,0),Oe===43||Oe===45){if(Pe=$(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch($(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(Le=L(me,2),Ve=Le.length,_e=0;_e<Ve;_e++)if(Se=$(Le,_e),Se<48||Se>Ne)return NaN;return parseInt(Le,Ee)}}return+me};if(b(oe,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:ee(I(me)),Pe=this;return w(J,Pe)&&C(function(){U(Pe)})?P(Object(Oe),Pe,R):Oe},W=l?_(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Q=0,ce;W.length>Q;Q++)x(ee,ce=W[Q])&&!x(R,ce)&&X(R,ce,z(ee,ce));R.prototype=J,J.constructor=R,S(f,oe,R)}},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var l=i(7),f=i(15),y=i(18),b=i(50),S=l.Object,x=f("".split);u.exports=y(function(){return!S("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?x(P,""):S(P)}:S},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var l=i(27),f=i(54),y=i(37),b=l("unscopables"),S=Array.prototype;S[b]==null&&y.f(S,b,{configurable:!0,value:f(null)}),u.exports=function(x){S[b][x]=!0}},function(u,c,i){var l=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var l=i(15),f=0,y=Math.random(),b=l(1 .toString);u.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+b(++f+y,36)}},function(u,c,i){var l=i(7),f=i(33),y=l.document,b=f(y)&&f(y.createElement);u.exports=function(S){return b?y.createElement(S):{}}},function(u,c,i){var l=i(130),f=i(88);u.exports=function(y){var b=l(y,"string");return f(b)?b:b+""}},function(u,c,i){var l=i(7),f=i(46),y=i(28),b=i(58),S=i(128),x=l.Object;u.exports=S?function(P){return typeof P=="symbol"}:function(P){var w=f("Symbol");return y(w)&&b(w.prototype,x(P))}},function(u,c,i){var l=i(7),f=l.String;u.exports=function(y){try{return f(y)}catch{return"Object"}}},function(u,c,i){var l=i(68),f=Math.min;u.exports=function(y){return y>0?f(l(y),9007199254740991):0}},function(u,c,i){var l=i(84),f=i(85),y=l("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var l=i(15),f=i(28),y=i(107),b=l(Function.toString);f(y.inspectSource)||(y.inspectSource=function(S){return b(S)}),u.exports=y.inspectSource},function(u,c,i){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!l.call({1:2},1);c.f=y?function(S){var x=f(this,S);return!!x&&x.enumerable}:l},function(u,c,i){var l=i(36),f=i(34),y=Function.prototype,b=l&&Object.getOwnPropertyDescriptor,S=f(y,"name"),x=S&&function(){}.name==="something",P=S&&(!l||l&&b(y,"name").configurable);u.exports={EXISTS:S,PROPER:x,CONFIGURABLE:P}},function(u,c,i){var l=i(18),f=i(28),y=/#|\.prototype\./,b=function(M,j){var C=x[S(M)];return C==w?!0:C==P?!1:f(j)?l(j):!!j},S=b.normalize=function(M){return String(M).replace(y,".").toLowerCase()},x=b.data={},P=b.NATIVE="N",w=b.POLYFILL="P";u.exports=b},function(u,c,i){var l=i(7),f=i(34),y=i(28),b=i(38),S=i(91),x=i(137),P=S("IE_PROTO"),w=l.Object,M=w.prototype;u.exports=x?w.getPrototypeOf:function(j){var C=b(j);if(f(C,P))return C[P];var _=C.constructor;return y(_)&&C instanceof _?_.prototype:C instanceof w?M:null}},function(u,c,i){var l=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,S={},x;try{x=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),x(S,[]),b=S instanceof Array}catch{}return function(w,M){return f(w),y(M),b?x(w,M):w.__proto__=M,w}}():void 0)},function(u,c,i){var l=i(7),f=i(116),y=i(28),b=i(50),S=i(27),x=S("toStringTag"),P=l.Object,w=b(function(){return arguments}())=="Arguments",M=function(j,C){try{return j[C]}catch{}};u.exports=f?b:function(j){var C,_,z;return j===void 0?"Undefined":j===null?"Null":typeof(_=M(C=P(j),x))=="string"?_:w?b(C):(z=b(C))=="Object"&&y(C.callee)?"Arguments":z}},function(u,c,i){var l=i(50);u.exports=Array.isArray||function(y){return l(y)=="Array"}},function(u,c,i){var l=i(15),f=i(18),y=i(28),b=i(98),S=i(46),x=i(92),P=function(){},w=[],M=S("Reflect","construct"),j=/^\s*(?:class|function)\b/,C=l(j.exec),_=!j.exec(P),z=function(U){if(!y(U))return!1;try{return M(P,w,U),!0}catch{return!1}},X=function(U){if(!y(U))return!1;switch(b(U)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _||!!C(j,x(U))};u.exports=!M||f(function(){var U;return z(z.call)||!z(Object)||!z(function(){U=!0})||U})?X:z},function(u,c,i){var l=i(15);u.exports=l([].slice)},function(u,c,i){var l=i(35),f=i(15),y=i(40),b=i(184),S=i(151),x=i(84),P=i(54),w=i(56).get,M=i(185),j=i(186),C=x("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,z=_,X=f("".charAt),U=f("".indexOf),ie=f("".replace),oe=f("".slice),ee=function(){var $=/a/,I=/b*/g;return l(_,$,"a"),l(_,I,"a"),$.lastIndex!==0||I.lastIndex!==0}(),J=S.BROKEN_CARET,ue=/()??/.exec("")[1]!==void 0,L=ee||ue||J||M||j;L&&(z=function(I){var A=this,R=w(A),W=y(I),Q=R.raw,ce,Me,me,Oe,Pe,Ee,Ne;if(Q)return Q.lastIndex=A.lastIndex,ce=l(z,Q,W),A.lastIndex=Q.lastIndex,ce;var Le=R.groups,Ve=J&&A.sticky,_e=l(b,A),Se=A.source,Ie=0,ke=W;if(Ve&&(_e=ie(_e,"y",""),U(_e,"g")===-1&&(_e+="g"),ke=oe(W,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&X(W,A.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Me=new RegExp("^(?:"+Se+")",_e)),ue&&(Me=new RegExp("^"+Se+"$(?!\\s)",_e)),ee&&(me=A.lastIndex),Oe=l(_,Ve?Me:A,ke),Ve?Oe?(Oe.input=oe(Oe.input,Ie),Oe[0]=oe(Oe[0],Ie),Oe.index=A.lastIndex,A.lastIndex+=Oe[0].length):A.lastIndex=0:ee&&Oe&&(A.lastIndex=A.global?Oe.index+Oe[0].length:me),ue&&Oe&&Oe.length>1&&l(C,Oe[0],Me,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&Le)for(Oe.groups=Ee=P(null),Pe=0;Pe<Le.length;Pe++)Ne=Le[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=z},function(u,c,i){var l=i(16),f=i(7),y=i(67),b=i(68),S=i(43),x=i(38),P=i(119),w=i(61),M=i(75),j=M("splice"),C=f.TypeError,_=Math.max,z=Math.min,X=9007199254740991,U="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!j},{splice:function(oe,ee){var J=x(this),ue=S(J),L=y(oe,ue),$=arguments.length,I,A,R,W,Q,ce;if($===0?I=A=0:$===1?(I=0,A=ue-L):(I=$-2,A=z(_(b(ee),0),ue-L)),ue+I-A>X)throw C(U);for(R=P(J,A),W=0;W<A;W++)Q=L+W,Q in J&&w(R,W,J[Q]);if(R.length=A,I<A){for(W=L;W<ue-A;W++)Q=W+A,ce=W+I,Q in J?J[ce]=J[Q]:delete J[ce];for(W=ue;W>ue-A+I;W--)delete J[W-1]}else if(I>A)for(W=ue-A;W>L;W--)Q=W+A-1,ce=W+I-1,Q in J?J[ce]=J[Q]:delete J[ce];for(W=0;W<I;W++)J[W+L]=arguments[W+2];return J.length=ue-A+I,R}})},function(u,c,i){var l=i(16),f=i(201),y=i(202);l({target:"String",proto:!0,forced:y("anchor")},{anchor:function(S){return f(this,"a","name",S)}})},function(u,c,i){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,i(82))},function(u,c,i){(function(l){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,S=b&&b.exports===y,x=S?f.a.Buffer:void 0,P=x?x.allocUnsafe:void 0;function w(M,j){if(j)return M.slice();var C=M.length,_=P?P(C):new M.constructor(C);return M.copy(_),_}c.a=w}).call(this,i(121)(u))},function(u,c,i){var l=i(7),f=i(108),y="__core-js_shared__",b=l[y]||f(y,{});u.exports=b},function(u,c,i){var l=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(l,y,{value:b,configurable:!0,writable:!0})}catch{l[y]=b}return b}},function(u,c,i){var l=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var l=i(16),f=i(35),y=i(64),b=i(94),S=i(28),x=i(171),P=i(96),w=i(97),M=i(73),j=i(57),C=i(44),_=i(27),z=i(70),X=i(136),U=b.PROPER,ie=b.CONFIGURABLE,oe=X.IteratorPrototype,ee=X.BUGGY_SAFARI_ITERATORS,J=_("iterator"),ue="keys",L="values",$="entries",I=function(){return this};u.exports=function(A,R,W,Q,ce,Me,me){x(W,R,Q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!ee&&k in Ne)return Ne[k];switch(k){case ue:return function(){return new W(this,k)};case L:return function(){return new W(this,k)};case $:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=A.prototype,Le=Ne[J]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!ee&&Le||Oe(ce),_e=R=="Array"&&Ne.entries||Le,Se,Ie,ke;if(_e&&(Se=P(_e.call(new A)),Se!==Object.prototype&&Se.next&&(!y&&P(Se)!==oe&&(w?w(Se,oe):S(Se[J])||C(Se,J,I)),M(Se,Pe,!0,!0),y&&(z[Pe]=I))),U&&ce==L&&Le&&Le.name!==L&&(!y&&ie?j(Ne,"name",L):(Ee=!0,Ve=function(){return f(Le,this)})),ce)if(Ie={values:Oe(L),keys:Me?Ve:Oe(ue),entries:Oe($)},me)for(ke in Ie)(ee||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else l({target:R,proto:!0,forced:ee||Ee},Ie);return(!y||me)&&Ne[J]!==Ve&&C(Ne,J,Ve,{name:ce}),z[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var l=i(7),f=i(67),y=i(43),b=i(61),S=l.Array,x=Math.max;u.exports=function(P,w,M){for(var j=y(P),C=f(w,j),_=f(M===void 0?j:M,j),z=S(x(_-C,0)),X=0;C<_;C++,X++)b(z,X,P[C]);return z.length=X,z}},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(32),S=i(89),x=i(140),P=i(43),w=i(58),M=i(141),j=i(115),C=i(142),_=l.TypeError,z=function(U,ie){this.stopped=U,this.result=ie},X=z.prototype;u.exports=function(U,ie,oe){var ee=oe&&oe.that,J=!!(oe&&oe.AS_ENTRIES),ue=!!(oe&&oe.IS_ITERATOR),L=!!(oe&&oe.INTERRUPTED),$=f(ie,ee),I,A,R,W,Q,ce,Me,me=function(Pe){return I&&C(I,"normal",Pe),new z(!0,Pe)},Oe=function(Pe){return J?(b(Pe),L?$(Pe[0],Pe[1],me):$(Pe[0],Pe[1])):L?$(Pe,me):$(Pe)};if(ue)I=U;else{if(A=j(U),!A)throw _(S(U)+" is not iterable");if(x(A)){for(R=0,W=P(U);W>R;R++)if(Q=Oe(U[R]),Q&&w(X,Q))return Q;return new z(!1)}I=M(U,A)}for(ce=I.next;!(Me=y(ce,I)).done;){try{Q=Oe(Me.value)}catch(Pe){C(I,"throw",Pe)}if(typeof Q=="object"&&Q&&w(X,Q))return Q}return new z(!1)}},function(u,c,i){var l=i(98),f=i(59),y=i(70),b=i(27),S=b("iterator");u.exports=function(x){if(x!=null)return f(x,S)||f(x,"@@iterator")||y[l(x)]}},function(u,c,i){var l=i(27),f=l("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var l=i(7),f=i(58),y=l.TypeError;u.exports=function(b,S){if(f(S,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var l=i(27),f=l("iterator"),y=!1;try{var b=0,S={next:function(){return{done:!!b++}},return:function(){y=!0}};S[f]=function(){return this},Array.from(S,function(){throw 2})}catch{}u.exports=function(x,P){if(!P&&!y)return!1;var w=!1;try{var M={};M[f]=function(){return{next:function(){return{done:w=!0}}}},x(M)}catch{}return w}},function(u,c,i){var l=i(180);u.exports=function(f,y){return new(l(f))(y===0?0:y)}},function(u,c,i){var l=i(18);u.exports=function(f,y){var b=[][f];return!!b&&l(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var l=Object.create(i);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(u,c,i){i(19);var l=i(15),f=i(44),y=i(102),b=i(18),S=i(27),x=i(57),P=S("species"),w=RegExp.prototype;u.exports=function(M,j,C,_){var z=S(M),X=!b(function(){var ee={};return ee[z]=function(){return 7},""[M](ee)!=7}),U=X&&!b(function(){var ee=!1,J=/a/;return M==="split"&&(J={},J.constructor={},J.constructor[P]=function(){return J},J.flags="",J[z]=/./[z]),J.exec=function(){return ee=!0,null},J[z](""),!ee});if(!X||!U||C){var ie=l(/./[z]),oe=j(z,""[M],function(ee,J,ue,L,$){var I=l(ee),A=J.exec;return A===y||A===w.exec?X&&!$?{done:!0,value:ie(J,ue,L)}:{done:!0,value:I(ue,J,L)}:{done:!1}});f(String.prototype,M,oe[0]),f(w,z,oe[1])}_&&x(w[z],"sham",!0)}},function(u,c,i){var l=i(146).charAt;u.exports=function(f,y,b){return y+(b?l(f,y).length:1)}},function(u,c,i){var l=i(7),f=i(35),y=i(32),b=i(28),S=i(50),x=i(102),P=l.TypeError;u.exports=function(w,M){var j=w.exec;if(b(j)){var C=f(j,w,M);return C!==null&&y(C),C}if(S(w)==="RegExp")return f(x,w,M);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),S=i(18),x=i(32),P=i(28),w=i(68),M=i(90),j=i(40),C=i(45),_=i(123),z=i(59),X=i(197),U=i(124),ie=i(27),oe=ie("replace"),ee=Math.max,J=Math.min,ue=y([].concat),L=y([].push),$=y("".indexOf),I=y("".slice),A=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[oe]?/./[oe]("a","$0")==="":!1}(),Q=!S(function(){var ce=/./;return ce.exec=function(){var Me=[];return Me.groups={a:"7"},Me},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Me,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var Le=C(this),Ve=Ee==null?void 0:z(Ee,oe);return Ve?f(Ve,Ee,Le,Ne):f(Me,j(Le),Ee,Ne)},function(Pe,Ee){var Ne=x(this),Le=j(Pe);if(typeof Ee=="string"&&$(Ee,Oe)===-1&&$(Ee,"$<")===-1){var Ve=me(Me,Ne,Le,Ee);if(Ve.done)return Ve.value}var _e=P(Ee);_e||(Ee=j(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=U(Ne,Le);if(k===null||(L(ke,k),!Se))break;var Y=j(k[0]);Y===""&&(Ne.lastIndex=_(Le,M(Ne.lastIndex),Ie))}for(var q="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=j(k[0]),ze=ee(J(w(k.index),Le.length),0),tt=[],We=1;We<k.length;We++)L(tt,A(k[We]));var nt=k.groups;if(_e){var ve=ue([pe],tt,ze,Le);nt!==void 0&&L(ve,nt);var ut=j(l(Ee,void 0,ve))}else ut=X(pe,Le,ze,tt,nt,Ee);ze>=he&&(q+=I(Le,he,ze)+ut,he=ze+pe.length)}return q+I(Le,he)}]},!Q||!R||W)},function(u,c,i){var l=i(50),f=i(7);u.exports=l(f.process)=="process"},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var l=i(109);u.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var l=i(36),f=i(18),y=i(86);u.exports=!l&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var l=i(7),f=i(35),y=i(33),b=i(88),S=i(59),x=i(169),P=i(27),w=l.TypeError,M=P("toPrimitive");u.exports=function(j,C){if(!y(j)||b(j))return j;var _=S(j,M),z;if(_){if(C===void 0&&(C="default"),z=f(_,j,C),!y(z)||b(z))return z;throw w("Can't convert object to primitive value")}return C===void 0&&(C="number"),x(j,C)}},function(u,c,i){var l=i(15),f=i(34),y=i(39),b=i(132).indexOf,S=i(69),x=l([].push);u.exports=function(P,w){var M=y(P),j=0,C=[],_;for(_ in M)!f(S,_)&&f(M,_)&&x(C,_);for(;w.length>j;)f(M,_=w[j++])&&(~b(C,_)||x(C,_));return C}},function(u,c,i){var l=i(39),f=i(67),y=i(43),b=function(S){return function(x,P,w){var M=l(x),j=y(M),C=f(w,j),_;if(S&&P!=P){for(;j>C;)if(_=M[C++],_!=_)return!0}else for(;j>C;C++)if((S||C in M)&&M[C]===P)return S||C||0;return!S&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var l=i(46);u.exports=l("document","documentElement")},function(u,c,i){var l=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(S,x){for(var P=f(x),w=b.f,M=y.f,j=0;j<P.length;j++){var C=P[j];l(S,C)||w(S,C,M(x,C))}}},function(u,c,i){var l=i(46),f=i(15),y=i(72),b=i(112),S=i(32),x=f([].concat);u.exports=l("Reflect","ownKeys")||function(w){var M=y.f(S(w)),j=b.f;return j?x(M,j(w)):M}},function(u,c,i){var l=i(18),f=i(28),y=i(54),b=i(96),S=i(44),x=i(27),P=i(64),w=x("iterator"),M=!1,j,C,_;[].keys&&(_=[].keys(),"next"in _?(C=b(b(_)),C!==Object.prototype&&(j=C)):M=!0);var z=j==null||l(function(){var X={};return j[w].call(X)!==X});z?j={}:P&&(j=y(j)),f(j[w])||S(j,w,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:M}},function(u,c,i){var l=i(18);u.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var l=i(16),f=i(15),y=i(69),b=i(33),S=i(34),x=i(37).f,P=i(72),w=i(139),M=i(174),j=i(85),C=i(176),_=!1,z=j("meta"),X=0,U=function(L){x(L,z,{value:{objectID:"O"+X++,weakData:{}}})},ie=function(L,$){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!S(L,z)){if(!M(L))return"F";if(!$)return"E";U(L)}return L[z].objectID},oe=function(L,$){if(!S(L,z)){if(!M(L))return!0;if(!$)return!1;U(L)}return L[z].weakData},ee=function(L){return C&&_&&M(L)&&!S(L,z)&&U(L),L},J=function(){ue.enable=function(){},_=!0;var L=P.f,$=f([].splice),I={};I[z]=1,L(I).length&&(P.f=function(A){for(var R=L(A),W=0,Q=R.length;W<Q;W++)if(R[W]===z){$(R,W,1);break}return R},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},ue=u.exports={enable:J,fastKey:ie,getWeakData:oe,onFreeze:ee};y[z]=!0},function(u,c,i){var l=i(50),f=i(39),y=i(72).f,b=i(113),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(P){try{return y(P)}catch{return b(S)}};u.exports.f=function(w){return S&&l(w)=="Window"?x(w):y(f(w))}},function(u,c,i){var l=i(27),f=i(70),y=l("iterator"),b=Array.prototype;u.exports=function(S){return S!==void 0&&(f.Array===S||b[y]===S)}},function(u,c,i){var l=i(7),f=i(35),y=i(55),b=i(32),S=i(89),x=i(115),P=l.TypeError;u.exports=function(w,M){var j=arguments.length<2?x(w):M;if(y(j))return b(f(j,w));throw P(S(w)+" is not iterable")}},function(u,c,i){var l=i(35),f=i(32),y=i(59);u.exports=function(b,S,x){var P,w;f(b);try{if(P=y(b,"return"),!P){if(S==="throw")throw x;return x}P=l(P,b)}catch(M){w=!0,P=M}if(S==="throw")throw x;if(w)throw P;return f(P),x}},function(u,c,i){var l=i(28),f=i(33),y=i(97);u.exports=function(b,S,x){var P,w;return y&&l(P=S.constructor)&&P!==x&&f(w=P.prototype)&&w!==x.prototype&&y(b,w),b}},function(u,c,i){var l=i(44);u.exports=function(f,y,b){for(var S in y)l(f,S,y[S],b);return f}},function(u,c,i){var l=i(46),f=i(37),y=i(27),b=i(36),S=y("species");u.exports=function(x){var P=l(x),w=f.f;b&&P&&!P[S]&&w(P,S,{configurable:!0,get:function(){return this}})}},function(u,c,i){var l=i(15),f=i(68),y=i(40),b=i(45),S=l("".charAt),x=l("".charCodeAt),P=l("".slice),w=function(M){return function(j,C){var _=y(b(j)),z=f(C),X=_.length,U,ie;return z<0||z>=X?M?"":void 0:(U=x(_,z),U<55296||U>56319||z+1===X||(ie=x(_,z+1))<56320||ie>57343?M?S(_,z):U:M?P(_,z,z+2):(U-55296<<10)+(ie-56320)+65536)}};u.exports={codeAt:w(!1),charAt:w(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var l=i(86),f=l("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var l=i(27);c.f=l},function(u,c,i){var l=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(S){var x=l.Symbol||(l.Symbol={});f(x,S)||b(x,S,{value:y.f(S)})}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp,b=l(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),S=b||l(function(){return!y("a","y").sticky}),x=b||l(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:x,MISSED_STICKY:S,UNSUPPORTED_Y:b}},function(u,c,i){var l=i(16),f=i(132).includes,y=i(83);l({target:"Array",proto:!0},{includes:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var l=i(16),f=i(15),y=i(193),b=i(45),S=i(40),x=i(194),P=f("".indexOf);l({target:"String",proto:!0,forced:!x("includes")},{includes:function(M){return!!~P(S(b(this)),S(y(M)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(S){var x;return l(S)&&((x=S[b])!==void 0?!!x:f(S)=="RegExp")}},function(u,c){var i=u.exports={},l,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=y}catch{l=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch{f=b}})();function S(U){if(l===setTimeout)return setTimeout(U,0);if((l===y||!l)&&setTimeout)return l=setTimeout,setTimeout(U,0);try{return l(U,0)}catch{try{return l.call(null,U,0)}catch{return l.call(this,U,0)}}}function x(U){if(f===clearTimeout)return clearTimeout(U);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(U);try{return f(U)}catch{try{return f.call(null,U)}catch{return f.call(this,U)}}}var P=[],w=!1,M,j=-1;function C(){!w||!M||(w=!1,M.length?P=M.concat(P):j=-1,P.length&&_())}function _(){if(!w){var U=S(C);w=!0;for(var ie=P.length;ie;){for(M=P,P=[];++j<ie;)M&&M[j].run();j=-1,ie=P.length}M=null,w=!1,x(U)}}i.nextTick=function(U){var ie=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)ie[oe-1]=arguments[oe];P.push(new z(U,ie)),P.length===1&&!w&&S(_)};function z(U,ie){this.fun=U,this.array=ie}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function(U){return[]},i.binding=function(U){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(U){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var l=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(S,x){var P=l(S).constructor,w;return P===void 0||(w=l(P)[b])==null?x:f(w)}},function(u,c,i){var l=i(7),f=i(100),y=i(89),b=l.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a constructor")}},function(u,c,i){var l=i(16),f=i(159).trim,y=i(195);l({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=i(160),S=l("".replace),x="["+b+"]",P=RegExp("^"+x+x+"*"),w=RegExp(x+x+"*$"),M=function(j){return function(C){var _=y(f(C));return j&1&&(_=S(_,P,"")),j&2&&(_=S(_,w,"")),_}};u.exports={start:M(1),end:M(2),trim:M(3)}},function(u,c){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,c,i){var l=i(35),f=i(122),y=i(32),b=i(90),S=i(40),x=i(45),P=i(59),w=i(123),M=i(124);f("match",function(j,C,_){return[function(X){var U=x(this),ie=X==null?void 0:P(X,j);return ie?l(ie,X,U):new RegExp(X)[j](S(U))},function(z){var X=y(this),U=S(z),ie=_(C,X,U);if(ie.done)return ie.value;if(!X.global)return M(X,U);var oe=X.unicode;X.lastIndex=0;for(var ee=[],J=0,ue;(ue=M(X,U))!==null;){var L=S(ue[0]);ee[J]=L,L===""&&(X.lastIndex=w(U,b(X.lastIndex),oe)),J++}return J===0?null:ee}]})},function(u,c,i){var l=i(7),f=i(76),y=i(62),b=i(28),S=i(34),x=i(18),P=i(133),w=i(101),M=i(86),j=i(163),C=i(126),_=l.setImmediate,z=l.clearImmediate,X=l.process,U=l.Dispatch,ie=l.Function,oe=l.MessageChannel,ee=l.String,J=0,ue={},L="onreadystatechange",$,I,A,R;try{$=l.location}catch{}var W=function(me){if(S(ue,me)){var Oe=ue[me];delete ue[me],Oe()}},Q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Me=function(me){l.postMessage(ee(me),$.protocol+"//"+$.host)};(!_||!z)&&(_=function(Oe){var Pe=w(arguments,1);return ue[++J]=function(){f(b(Oe)?Oe:ie(Oe),void 0,Pe)},I(J),J},z=function(Oe){delete ue[Oe]},C?I=function(me){X.nextTick(Q(me))}:U&&U.now?I=function(me){U.now(Q(me))}:oe&&!j?(A=new oe,R=A.port2,A.port1.onmessage=ce,I=y(R.postMessage,R)):l.addEventListener&&b(l.postMessage)&&!l.importScripts&&$&&$.protocol!=="file:"&&!x(Me)?(I=Me,l.addEventListener("message",ce,!1)):L in M("script")?I=function(me){P.appendChild(M("script"))[L]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(Q(me),0)}),u.exports={set:_,clear:z}},function(u,c,i){var l=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(u,c,i){var l=i(55),f=function(y){var b,S;this.promise=new y(function(x,P){if(b!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");b=x,S=P}),this.resolve=l(b),this.reject=l(S)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function l(){return!1}c.a=l},function(u,c,i){(function(l){i.d(c,"a",function(){return J});var f=i(0);function y(L){throw new Error("[mobx-utils] "+L)}function b(L,$){$===void 0&&($="Illegal state"),L||y($)}var S=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(S(Object.getPrototypeOf(L))||[])},x=function(L){var $=S(L),I=$.filter(function(A,R){return $.indexOf(A)===R});return I},P=function(L){return x(L).filter(function($){return $!=="constructor"&&!~$.indexOf("__")})},w="pending",M="fulfilled",j="rejected";function C(L){switch(this.state){case w:return L.pending&&L.pending(this.value);case j:return L.rejected&&L.rejected(this.value);case M:return L.fulfilled?L.fulfilled(this.value):this.value}}function _(L,$){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var I=L;L.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=M}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=j})),I.isPromiseBasedObservable=!0,I.case=C;var A=$&&$.state===M?$.value:void 0;return Object(f.q)(I,{value:A,state:w},{},{deep:!1}),I}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(I){var A=L(Promise.reject(I));return A.state=j,A.value=I,A});function $(I){I===void 0&&(I=void 0);var A=L(Promise.resolve(I));return A.state=M,A.value=I,A}L.resolve=Object(f.k)("fromPromise.resolve",$)})(_||(_={}));var z=function(L,$,I,A){var R=arguments.length,W=R<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q($,I,W):Q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W};(function(){function L($,I){var A=this;Object(f.G)(function(){A.current=I,A.subscription=$.subscribe(A)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function($){this.current=$},L.prototype.complete=function(){this.dispose()},L.prototype.error=function($){this.current=$,this.dispose()},z([f.C.ref],L.prototype,"current",void 0),z([f.k.bound],L.prototype,"next",null),z([f.k.bound],L.prototype,"complete",null),z([f.k.bound],L.prototype,"error",null),L})();var X=function(){return X=Object.assign||function(L){for(var $,I=1,A=arguments.length;I<A;I++){$=arguments[I];for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(L[R]=$[R])}return L},X.apply(this,arguments)},U=function(L,$,I,A){var R=arguments.length,W=R<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q($,I,W):Q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W},ie=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L($){var I=this;this.model=$,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(A){return I.localValues.has(A)},b(Object(f.A)($),"createViewModel expects an observable object"),P($).forEach(function(A){if(!(A===f.a||A==="__mobxDidRunLazyInitializers")){if(b(ie.indexOf(A)===-1,"The propertyname "+A+" is reserved and cannot be used with viewModels"),Object(f.w)($,A)){var R=Object(f.h)($,A).derivation;I.localComputedValues.set(A,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor($,A),Q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,A,X(X({},Q),{configurable:!0,get:function(){return Object(f.w)($,A)?I.localComputedValues.get(A).get():I.isPropertyDirty(A)?I.localValues.get(A):I.model[A]},set:Object(f.k)(function(ce){ce!==I.model[A]?I.localValues.set(A,ce):I.localValues.delete(A)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var $=this;Object(f.B)(this.localValues).forEach(function(I){var A=$.localValues.get(I),R=$.model[I];Object(f.y)(R)?R.replace(A):Object(f.z)(R)?(R.clear(),R.merge(A)):Object(f.v)(A)||($.model[I]=A)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function($){this.localValues.delete($)},U([f.m],L.prototype,"isDirty",null),U([f.m],L.prototype,"changedValues",null),U([f.k.bound],L.prototype,"submit",null),U([f.k.bound],L.prototype,"reset",null),U([f.k.bound],L.prototype,"resetProperty",null),L})();function oe(L){if(!L)return"ROOT";for(var $=[];L.parent;)$.push(L.path),L=L.parent;return $.reverse().join("/")}function ee(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function J(L,$){var I=new WeakMap;function A(ce){var Me=I.get(ce.object);R(ce,Me),$(ce,oe(Me),L)}function R(ce,Me){switch(ce.type){case"add":W(ce.newValue,Me,ce.name);break;case"update":Q(ce.oldValue),W(ce.newValue,Me,ce.name||""+ce.index);break;case"remove":case"delete":Q(ce.oldValue);break;case"splice":ce.removed.map(Q),ce.added.forEach(function(Pe,Ee){return W(Pe,Me,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ee(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Me,me){if(ee(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Me||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+oe(Me)+"/"+me+"',")+(" but it already exists at '"+oe(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Me,path:me,dispose:Object(f.D)(ce,A)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],Le=Ee[1];return W(Le,Pe,Ne)})}}}function Q(ce){if(ee(ce)){var Me=I.get(ce);if(!Me)return;I.delete(ce),Me.dispose(),Object(f.L)(ce).forEach(Q)}}return W(L,void 0,""),function(){Q(L)}}var ue=function(){var L=function($,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,R){A.__proto__=R}||function(A,R){for(var W in R)R.hasOwnProperty(W)&&(A[W]=R[W])},L($,I)};return function($,I){L($,I);function A(){this.constructor=$}$.prototype=I===null?Object.create(I):(A.prototype=I.prototype,new A)}}();(function(L){ue($,L);function $(I,A,R){var W=R===void 0?{}:R,Q=W.name,ce=Q===void 0?"ogm"+(Math.random()*1e3|0):Q,Me=W.keyToName,me=Me===void 0?function(Ee){return""+Ee}:Me,Oe=L.call(this)||this;Oe._keyToName=me,Oe._groupBy=A,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,Le=Ee.removed;Ne<Le.length;Ne++){var Ve=Le[Ne];Oe._removeItem(Ve)}for(var _e=0,Se=Ee.added;_e<Se.length;_e++){var Ie=Se[_e];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return $.prototype.clear=function(){throw new Error("not supported")},$.prototype.delete=function(I){throw new Error("not supported")},$.prototype.set=function(I,A){throw new Error("not supported")},$.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var A=this._base[I],R=A[this._ogmInfoKey];R.reaction(),delete A[this._ogmInfoKey]}},$.prototype._getGroupArr=function(I){var A=L.prototype.get.call(this,I);return A===void 0&&(A=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),L.prototype.set.call(this,I,A)),A},$.prototype._removeFromGroupArr=function(I,A){var R=L.prototype.get.call(this,I);R.length===1?L.prototype.delete.call(this,I):(A===R.length-1||(R[A]=R[R.length-1],R[A][this._ogmInfoKey].groupArrIndex=A),R.length--)},$.prototype._addItem=function(I){var A=this,R=this._groupBy(I),W=this._getGroupArr(R),Q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return A._groupBy(I)},function(ce,Me){var me=I[A._ogmInfoKey];A._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=A._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Q}),W.push(I)},$.prototype._removeItem=function(I){var A=I[this._ogmInfoKey];this._removeFromGroupArr(A.groupByValue,A.groupArrIndex),A.reaction(),delete I[this._ogmInfoKey]},$})(f.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof l<"u"&&l.nextTick}).call(this,i(155))},function(u,c,i){var l;(function(f,y,b){if(!f)return;for(var S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M,j=1;j<20;++j)S[111+j]="f"+j;for(j=0;j<=9;++j)S[j+96]=j.toString();function C(A,R,W){if(A.addEventListener){A.addEventListener(R,W,!1);return}A.attachEvent("on"+R,W)}function _(A){if(A.type=="keypress"){var R=String.fromCharCode(A.which);return A.shiftKey||(R=R.toLowerCase()),R}return S[A.which]?S[A.which]:x[A.which]?x[A.which]:String.fromCharCode(A.which).toLowerCase()}function z(A,R){return A.sort().join(",")===R.sort().join(",")}function X(A){var R=[];return A.shiftKey&&R.push("shift"),A.altKey&&R.push("alt"),A.ctrlKey&&R.push("ctrl"),A.metaKey&&R.push("meta"),R}function U(A){if(A.preventDefault){A.preventDefault();return}A.returnValue=!1}function ie(A){if(A.stopPropagation){A.stopPropagation();return}A.cancelBubble=!0}function oe(A){return A=="shift"||A=="ctrl"||A=="alt"||A=="meta"}function ee(){if(!M){M={};for(var A in S)A>95&&A<112||S.hasOwnProperty(A)&&(M[S[A]]=A)}return M}function J(A,R,W){return W||(W=ee()[A]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function ue(A){return A==="+"?["+"]:(A=A.replace(/\+{2}/g,"+plus"),A.split("+"))}function L(A,R){var W,Q,ce,Me=[];for(W=ue(A),ce=0;ce<W.length;++ce)Q=W[ce],w[Q]&&(Q=w[Q]),R&&R!="keypress"&&P[Q]&&(Q=P[Q],Me.push("shift")),oe(Q)&&Me.push(Q);return R=J(Q,Me,R),{key:Q,modifiers:Me,action:R}}function $(A,R){return A===null||A===y?!1:A===R?!0:$(A.parentNode,R)}function I(A){var R=this;if(A=A||y,!(R instanceof I))return new I(A);R.target=A,R._callbacks={},R._directMap={};var W={},Q,ce=!1,Me=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,Y,q){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&oe(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||z(Ie,xe.modifiers))){var tt=!k&&xe.combo==Y,We=k&&xe.seq==k&&xe.level==q;(tt||We)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&(U(Ie),ie(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),Y,q={},he=0,xe=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;xe=!0,q[k[Y].seq]=1,Ee(k[Y].callback,ke,k[Y].combo,k[Y].seq);continue}xe||Ee(k[Y].callback,ke,k[Y].combo)}var pe=ke.type=="keypress"&&Me;ke.type==me&&!oe(Se)&&!pe&&Oe(q),Me=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=_(Se);if(Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,X(Se),Se)}}function Le(){clearTimeout(Q),Q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function Y(ze){return function(){me=ze,++W[Se],Le()}}function q(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=_(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?q:Y(k||L(Ie[he+1]).action);_e(Ie[he],pe,k,Se,he)}}function _e(Se,Ie,ke,k,Y){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var q=Se.split(" "),he;if(q.length>1){Ve(Se,q,Ie,ke);return}he=L(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)_e(Se[k],Ie,ke)},C(A,"keypress",Ne),C(A,"keydown",Ne),C(A,"keyup",Ne)}I.prototype.bind=function(A,R,W){var Q=this;return A=A instanceof Array?A:[A],Q._bindMultiple.call(Q,A,R,W),Q},I.prototype.unbind=function(A,R){var W=this;return W.bind.call(W,A,function(){},R)},I.prototype.trigger=function(A,R){var W=this;return W._directMap[A+":"+R]&&W._directMap[A+":"+R]({},A),W},I.prototype.reset=function(){var A=this;return A._callbacks={},A._directMap={},A},I.prototype.stopCallback=function(A,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||$(R,W.target))return!1;if("composedPath"in A&&typeof A.composedPath=="function"){var Q=A.composedPath()[0];Q!==A.target&&(R=Q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var A=this;return A._handleKey.apply(A,arguments)},I.addKeycodes=function(A){for(var R in A)A.hasOwnProperty(R)&&(S[R]=A[R]);M=null},I.init=function(){var A=I(y);for(var R in A)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return A[W].apply(A,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),l=function(){return I}.call(c,i,c,u),l!==b&&(u.exports=l)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var l=i(36),f=i(37),y=i(32),b=i(39),S=i(66);u.exports=l?Object.defineProperties:function(P,w){y(P);for(var M=b(w),j=S(w),C=j.length,_=0,z;C>_;)f.f(P,z=j[_++],M[z]);return P}},function(u,c,i){var l=i(7),f=i(35),y=i(28),b=i(33),S=l.TypeError;u.exports=function(x,P){var w,M;if(P==="string"&&y(w=x.toString)&&!b(M=f(w,x))||y(w=x.valueOf)&&!b(M=f(w,x))||P!=="string"&&y(w=x.toString)&&!b(M=f(w,x)))return M;throw S("Can't convert object to primitive value")}},function(u,c,i){var l=i(7),f=i(28),y=i(92),b=l.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var l=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),S=i(70),x=function(){return this};u.exports=function(P,w,M,j){var C=w+" Iterator";return P.prototype=f(l,{next:y(+!j,M)}),b(P,C,!1,!0),S[C]=x,P}},function(u,c,i){var l=i(7),f=i(28),y=l.String,b=l.TypeError;u.exports=function(S){if(typeof S=="object"||f(S))return S;throw b("Can't set "+y(S)+" as a prototype")}},function(u,c,i){var l=i(16),f=i(7),y=i(15),b=i(95),S=i(44),x=i(138),P=i(114),w=i(117),M=i(28),j=i(33),C=i(18),_=i(118),z=i(73),X=i(143);u.exports=function(U,ie,oe){var ee=U.indexOf("Map")!==-1,J=U.indexOf("Weak")!==-1,ue=ee?"set":"add",L=f[U],$=L&&L.prototype,I=L,A={},R=function(Pe){var Ee=y($[Pe]);S($,Pe,Pe=="add"?function(Le){return Ee(this,Le===0?0:Le),this}:Pe=="delete"?function(Ne){return J&&!j(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(Le){return J&&!j(Le)?void 0:Ee(this,Le===0?0:Le)}:Pe=="has"?function(Le){return J&&!j(Le)?!1:Ee(this,Le===0?0:Le)}:function(Le,Ve){return Ee(this,Le===0?0:Le,Ve),this})},W=b(U,!M(L)||!(J||$.forEach&&!C(function(){new L().entries().next()})));if(W)I=oe.getConstructor(ie,U,ee,ue),x.enable();else if(b(U,!0)){var Q=new I,ce=Q[ue](J?{}:-0,1)!=Q,Me=C(function(){Q.has(1)}),me=_(function(Pe){new L(Pe)}),Oe=!J&&C(function(){for(var Pe=new L,Ee=5;Ee--;)Pe[ue](Ee,Ee);return!Pe.has(-0)});me||(I=ie(function(Pe,Ee){w(Pe,$);var Ne=X(new L,Pe,I);return Ee!=null&&P(Ee,Ne[ue],{that:Ne,AS_ENTRIES:ee}),Ne}),I.prototype=$,$.constructor=I),(Me||Oe)&&(R("delete"),R("has"),ee&&R("get")),(Oe||ce)&&R(ue),J&&$.clear&&delete $.clear}return A[U]=I,l({global:!0,forced:I!=L},A),z(I,U),J||oe.setStrong(I,U,ee),I}},function(u,c,i){var l=i(18),f=i(33),y=i(50),b=i(175),S=Object.isExtensible,x=l(function(){});u.exports=x||b?function(w){return!f(w)||b&&y(w)=="ArrayBuffer"?!1:S?S(w):!0}:S},function(u,c,i){var l=i(18);u.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var l=i(37).f,f=i(54),y=i(144),b=i(62),S=i(117),x=i(114),P=i(111),w=i(145),M=i(36),j=i(138).fastKey,C=i(56),_=C.set,z=C.getterFor;u.exports={getConstructor:function(X,U,ie,oe){var ee=X(function(I,A){S(I,J),_(I,{type:U,index:f(null),first:void 0,last:void 0,size:0}),M||(I.size=0),A!=null&&x(A,I[oe],{that:I,AS_ENTRIES:ie})}),J=ee.prototype,ue=z(U),L=function(I,A,R){var W=ue(I),Q=$(I,A),ce,Me;return Q?Q.value=R:(W.last=Q={index:Me=j(A,!0),key:A,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Q),ce&&(ce.next=Q),M?W.size++:I.size++,Me!=="F"&&(W.index[Me]=Q)),I},$=function(I,A){var R=ue(I),W=j(A),Q;if(W!=="F")return R.index[W];for(Q=R.first;Q;Q=Q.next)if(Q.key==A)return Q};return y(J,{clear:function(){for(var A=this,R=ue(A),W=R.index,Q=R.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete W[Q.index],Q=Q.next;R.first=R.last=void 0,M?R.size=0:A.size=0},delete:function(I){var A=this,R=ue(A),W=$(A,I);if(W){var Q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Q),Q&&(Q.previous=ce),R.first==W&&(R.first=Q),R.last==W&&(R.last=ce),M?R.size--:A.size--}return!!W},forEach:function(A){for(var R=ue(this),W=b(A,arguments.length>1?arguments[1]:void 0),Q;Q=Q?Q.next:R.first;)for(W(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(A){return!!$(this,A)}}),y(J,ie?{get:function(A){var R=$(this,A);return R&&R.value},set:function(A,R){return L(this,A===0?0:A,R)}}:{add:function(A){return L(this,A=A===0?0:A,A)}}),M&&l(J,"size",{get:function(){return ue(this).size}}),ee},setStrong:function(X,U,ie){var oe=U+" Iterator",ee=z(U),J=z(oe);P(X,U,function(ue,L){_(this,{type:oe,target:ue,state:ee(ue),kind:L,last:void 0})},function(){for(var ue=J(this),L=ue.kind,$=ue.last;$&&$.removed;)$=$.previous;return!ue.target||!(ue.last=$=$?$.next:ue.state.first)?(ue.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:$.key,done:!1}:L=="values"?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}},ie?"entries":"values",!ie,!0),w(U)}}},function(u,c,i){var l=i(116),f=i(98);u.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var l=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var l=i(7),f=i(99),y=i(100),b=i(33),S=i(27),x=S("species"),P=l.Array;u.exports=function(w){var M;return f(w)&&(M=w.constructor,y(M)&&(M===P||f(M.prototype))?M=void 0:b(M)&&(M=M[x],M===null&&(M=void 0))),M===void 0?P:M}},function(u,c,i){var l=i(7);u.exports=l},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(38),S=i(183),x=i(140),P=i(100),w=i(43),M=i(61),j=i(141),C=i(115),_=l.Array;u.exports=function(X){var U=b(X),ie=P(this),oe=arguments.length,ee=oe>1?arguments[1]:void 0,J=ee!==void 0;J&&(ee=f(ee,oe>2?arguments[2]:void 0));var ue=C(U),L=0,$,I,A,R,W,Q;if(ue&&!(this==_&&x(ue)))for(R=j(U,ue),W=R.next,I=ie?new this:[];!(A=y(W,R)).done;L++)Q=J?S(R,ee,[A.value,L],!0):A.value,M(I,L,Q);else for($=w(U),I=ie?new this($):_($);$>L;L++)Q=J?ee(U[L],L):U[L],M(I,L,Q);return I.length=L,I}},function(u,c,i){var l=i(32),f=i(142);u.exports=function(y,b,S,x){try{return x?b(l(S)[0],S[1]):b(S)}catch(P){f(y,"throw",P)}}},function(u,c,i){var l=i(32);u.exports=function(){var f=l(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var l=i(16),f=i(15),y=i(55),b=i(38),S=i(43),x=i(40),P=i(18),w=i(188),M=i(120),j=i(189),C=i(190),_=i(65),z=i(191),X=[],U=f(X.sort),ie=f(X.push),oe=P(function(){X.sort(void 0)}),ee=P(function(){X.sort(null)}),J=M("sort"),ue=!P(function(){if(_)return _<70;if(!(j&&j>3)){if(C)return!0;if(z)return z<603;var I="",A,R,W,Q;for(A=65;A<76;A++){switch(R=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Q=0;Q<47;Q++)X.push({k:R+Q,v:W})}for(X.sort(function(ce,Me){return Me.v-ce.v}),Q=0;Q<X.length;Q++)R=X[Q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),L=oe||!ee||!J||!ue,$=function(I){return function(A,R){return R===void 0?-1:A===void 0?1:I!==void 0?+I(A,R)||0:x(A)>x(R)?1:-1}};l({target:"Array",proto:!0,forced:L},{sort:function(A){A!==void 0&&y(A);var R=b(this);if(ue)return A===void 0?U(R):U(R,A);var W=[],Q=S(R),ce,Me;for(Me=0;Me<Q;Me++)Me in R&&ie(W,R[Me]);for(w(W,$(A)),ce=W.length,Me=0;Me<ce;)R[Me]=W[Me++];for(;Me<Q;)delete R[Me++];return R}})},function(u,c,i){var l=i(113),f=Math.floor,y=function(x,P){var w=x.length,M=f(w/2);return w<8?b(x,P):S(x,y(l(x,0,M),P),y(l(x,M),P),P)},b=function(x,P){for(var w=x.length,M=1,j,C;M<w;){for(C=M,j=x[M];C&&P(x[C-1],j)>0;)x[C]=x[--C];C!==M++&&(x[C]=j)}return x},S=function(x,P,w,M){for(var j=P.length,C=w.length,_=0,z=0;_<j||z<C;)x[_+z]=_<j&&z<C?M(P[_],w[z])<=0?P[_++]:w[z++]:_<j?P[_++]:w[z++];return x};u.exports=y},function(u,c,i){var l=i(53),f=l.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(53);u.exports=/MSIE|Trident/.test(l)},function(u,c,i){var l=i(53),f=l.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(16),f=i(74).find,y=i(83),b="find",S=!0;b in[]&&Array(1)[b](function(){S=!1}),l({target:"Array",proto:!0,forced:S},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var l=i(7),f=i(154),y=l.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var l=i(27),f=l("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch{try{return b[f]=!1,"/./"[y](b)}catch{}}return!1}},function(u,c,i){var l=i(94).PROPER,f=i(18),y=i(160),b="​᠎";u.exports=function(S){return f(function(){return!!y[S]()||b[S]()!==b||l&&y[S].name!==S})}},function(u,c,i){var l=i(15);u.exports=l(1 .valueOf)},function(u,c,i){var l=i(15),f=i(38),y=Math.floor,b=l("".charAt),S=l("".replace),x=l("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;u.exports=function(M,j,C,_,z,X){var U=C+M.length,ie=_.length,oe=w;return z!==void 0&&(z=f(z),oe=P),S(X,oe,function(ee,J){var ue;switch(b(J,0)){case"$":return"$";case"&":return M;case"`":return x(j,0,C);case"'":return x(j,U);case"<":ue=z[x(J,1,-1)];break;default:var L=+J;if(L===0)return ee;if(L>ie){var $=y(L/10);return $===0?ee:$<=ie?_[$-1]===void 0?b(J,1):_[$-1]+b(J,1):ee}ue=_[L-1]}return ue===void 0?"":ue})}},function(u,c,i){var l=i(36),f=i(15),y=i(35),b=i(18),S=i(66),x=i(112),P=i(93),w=i(38),M=i(81),j=Object.assign,C=Object.defineProperty,_=f([].concat);u.exports=!j||b(function(){if(l&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},X={},U=Symbol(),ie="abcdefghijklmnopqrst";return z[U]=7,ie.split("").forEach(function(oe){X[oe]=oe}),j({},z)[U]!=7||S(j({},X)).join("")!=ie})?function(X,U){for(var ie=w(X),oe=arguments.length,ee=1,J=x.f,ue=P.f;oe>ee;)for(var L=M(arguments[ee++]),$=J?_(S(L),J(L)):S(L),I=$.length,A=0,R;I>A;)R=$[A++],(!l||y(ue,L,R))&&(ie[R]=L[R]);return ie}:j},function(u,c,i){var l=i(7),f=i(15),y=i(55),b=i(33),S=i(34),x=i(101),P=l.Function,w=f([].concat),M=f([].join),j={},C=function(_,z,X){if(!S(j,z)){for(var U=[],ie=0;ie<z;ie++)U[ie]="a["+ie+"]";j[z]=P("C,a","return new C("+M(U,",")+")")}return j[z](_,X)};u.exports=P.bind||function(z){var X=y(this),U=X.prototype,ie=x(arguments,1),oe=function(){var J=w(ie,x(arguments));return this instanceof oe?C(X,J.length,J):X.apply(z,J)};return b(U)&&(oe.prototype=U),oe}},function(u,c,i){var l=i(34);u.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=/"/g,S=l("".replace);u.exports=function(x,P,w,M){var j=y(f(x)),C="<"+P;return w!==""&&(C+=" "+w+'="'+S(y(M),b,"&quot;")+'"'),C+">"+j+"</"+P+">"}},function(u,c,i){var l=i(18);u.exports=function(f){return l(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var l=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,S=!!f&&f(1/0,NaN)!==1/0;l({target:"Math",stat:!0,forced:S},{hypot:function(P,w){for(var M=0,j=0,C=arguments.length,_=0,z,X;j<C;)z=y(arguments[j++]),_<z?(X=_/z,M=M*X*X+1,_=z):z>0?(X=z/_,M+=X*X):M+=z;return _===1/0?1/0:_*b(M)}})},function(u,c,i){var l=i(16),f=i(64),y=i(7),b=i(46),S=i(35),x=i(205),P=i(44),w=i(144),M=i(97),j=i(73),C=i(145),_=i(55),z=i(28),X=i(33),U=i(117),ie=i(92),oe=i(114),ee=i(118),J=i(156),ue=i(162).set,L=i(206),$=i(209),I=i(210),A=i(164),R=i(211),W=i(56),Q=i(95),ce=i(27),Me=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),Le=W.set,Ve=W.getterFor(Ee),_e=x&&x.prototype,Se=x,Ie=_e,ke=y.TypeError,k=y.document,Y=y.process,q=A.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",We=0,nt=1,ve=2,ut=1,rt=2,Be=!1,Qe,At,dt,bt,ne=Q(Ee,function(){var je=ie(Se),Ue=je!==String(Se);if(!Ue&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(H){H(1)}),Je=function(H){H(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,Be=ot.then(function(){})instanceof Je,Be?!Ue&&Me&&!pe:!0}),Ct=ne||!ee(function(je){Se.all(je).catch(function(){})}),St=function(je){var Ue;return X(je)&&z(Ue=je.then)?Ue:!1},mt=function(je,Ue){if(!je.notified){je.notified=!0;var ot=je.reactions;L(function(){for(var Je=je.value,lt=je.state==nt,H=0;ot.length>H;){var V=ot[H++],te=lt?V.ok:V.fail,re=V.resolve,we=V.reject,De=V.domain,Xe,vt,Zt;try{te?(lt||(je.rejection===rt&&xr(je),je.rejection=ut),te===!0?Xe=Je:(De&&De.enter(),Xe=te(Je),De&&(De.exit(),Zt=!0)),Xe===V.promise?we(ke("Promise-chain cycle")):(vt=St(Xe))?S(vt,Xe,re,we):re(Xe)):we(Je)}catch(Jt){De&&!Zt&&De.exit(),we(Jt)}}je.reactions=[],je.notified=!1,Ue&&!je.rejection&&pr(je)})}},Yt=function(je,Ue,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=Ue,Je.reason=ot,Je.initEvent(je,!1,!0),y.dispatchEvent(Je)):Je={promise:Ue,reason:ot},!pe&&(lt=y["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},pr=function(je){S(ue,y,function(){var Ue=je.facade,ot=je.value,Je=Vt(je),lt;if(Je&&(lt=R(function(){me?Y.emit("unhandledRejection",ot,Ue):Yt(ze,Ue,ot)}),je.rejection=me||Vt(je)?rt:ut,lt.error))throw lt.value})},Vt=function(je){return je.rejection!==ut&&!je.parent},xr=function(je){S(ue,y,function(){var Ue=je.facade;me?Y.emit("rejectionHandled",Ue):Yt(tt,Ue,je.value)})},qe=function(je,Ue,ot){return function(Je){je(Ue,Je,ot)}},Pt=function(je,Ue,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=Ue,je.state=ve,mt(je,!0))},rr=function(je,Ue,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===Ue)throw ke("Promise can't be resolved itself");var Je=St(Ue);Je?L(function(){var lt={done:!1};try{S(Je,Ue,qe(rr,lt,je),qe(Pt,lt,je))}catch(H){Pt(lt,H,je)}}):(je.value=Ue,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(ne&&(Se=function(Ue){U(this,Ie),_(Ue),S(Qe,this);var ot=Ne(this);try{Ue(qe(rr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function(Ue){Le(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:We,value:void 0})},Qe.prototype=w(Ie,{then:function(Ue,ot){var Je=Ve(this),lt=Je.reactions,H=q(J(this,Se));return H.ok=z(Ue)?Ue:!0,H.fail=z(ot)&&ot,H.domain=me?Y.domain:void 0,Je.parent=!0,lt[lt.length]=H,Je.state!=We&&mt(Je,!1),H.promise},catch:function(je){return this.then(void 0,je)}}),At=function(){var je=new Qe,Ue=Ne(je);this.promise=je,this.resolve=qe(rr,Ue),this.reject=qe(Pt,Ue)},A.f=q=function(je){return je===Se||je===dt?new At(je):he(je)},!f&&z(x)&&_e!==Object.prototype)){bt=_e.then,Be||(P(_e,"then",function(Ue,ot){var Je=this;return new Se(function(lt,H){S(bt,Je,lt,H)}).then(Ue,ot)},{unsafe:!0}),P(_e,"catch",Ie.catch,{unsafe:!0}));try{delete _e.constructor}catch{}M&&M(_e,Ie)}l({global:!0,wrap:!0,forced:ne},{Promise:Se}),j(Se,Ee,!1,!0),C(Ee),dt=b(Ee),l({target:Ee,stat:!0,forced:ne},{reject:function(Ue){var ot=q(this);return S(ot.reject,void 0,Ue),ot.promise}}),l({target:Ee,stat:!0,forced:f||ne},{resolve:function(Ue){return $(f&&this===dt?Se:this,Ue)}}),l({target:Ee,stat:!0,forced:Ct},{all:function(Ue){var ot=this,Je=q(ot),lt=Je.resolve,H=Je.reject,V=R(function(){var te=_(ot.resolve),re=[],we=0,De=1;oe(Ue,function(Xe){var vt=we++,Zt=!1;De++,S(te,ot,Xe).then(function(Jt){Zt||(Zt=!0,re[vt]=Jt,--De||lt(re))},H)}),--De||lt(re)});return V.error&&H(V.value),Je.promise},race:function(Ue){var ot=this,Je=q(ot),lt=Je.reject,H=R(function(){var V=_(ot.resolve);oe(Ue,function(te){S(V,ot,te).then(Je.resolve,lt)})});return H.error&&lt(H.value),Je.promise}})},function(u,c,i){var l=i(7);u.exports=l.Promise},function(u,c,i){var l=i(7),f=i(62),y=i(51).f,b=i(162).set,S=i(163),x=i(207),P=i(208),w=i(126),M=l.MutationObserver||l.WebKitMutationObserver,j=l.document,C=l.process,_=l.Promise,z=y(l,"queueMicrotask"),X=z&&z.value,U,ie,oe,ee,J,ue,L,$;X||(U=function(){var I,A;for(w&&(I=C.domain)&&I.exit();ie;){A=ie.fn,ie=ie.next;try{A()}catch(R){throw ie?ee():oe=void 0,R}}oe=void 0,I&&I.enter()},!S&&!w&&!P&&M&&j?(J=!0,ue=j.createTextNode(""),new M(U).observe(ue,{characterData:!0}),ee=function(){ue.data=J=!J}):!x&&_&&_.resolve?(L=_.resolve(void 0),L.constructor=_,$=f(L.then,L),ee=function(){$(U)}):w?ee=function(){C.nextTick(U)}:(b=f(b,l),ee=function(){b(U)})),u.exports=X||function(I){var A={fn:I,next:void 0};oe&&(oe.next=A),ie||(ie=A,ee()),oe=A}},function(u,c,i){var l=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(u,c,i){var l=i(53);u.exports=/web0s(?!.*chrome)/i.test(l)},function(u,c,i){var l=i(32),f=i(33),y=i(164);u.exports=function(b,S){if(l(b),f(S)&&S.constructor===b)return S;var x=y.f(b),P=x.resolve;return P(S),x.promise}},function(u,c,i){var l=i(7);u.exports=function(f,y){var b=l.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(l){return{error:!0,value:l}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var l=i(36),f=i(15),y=i(66),b=i(39),S=i(93).f,x=f(S),P=f([].push),w=function(M){return function(j){for(var C=b(j),_=y(C),z=_.length,X=0,U=[],ie;z>X;)ie=_[X++],(!l||x(C,ie))&&P(U,M?[ie,C[ie]]:C[ie]);return U}};u.exports={entries:w(!0),values:w(!1)}},function(u,c,i){var l=i(38),f=i(67),y=i(43);u.exports=function(S){for(var x=l(this),P=y(x),w=arguments.length,M=f(w>1?arguments[1]:void 0,P),j=w>2?arguments[2]:void 0,C=j===void 0?P:f(j,P);C>M;)x[M++]=S;return x}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Gr}),i.d(c,"LogicFlow",function(){return ed}),i.d(c,"h",function(){return ne.g}),i.d(c,"LogicFlowUtil",function(){return l}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return vc}),i.d(c,"CircleNode",function(){return mc}),i.d(c,"PolygonNode",function(){return Ec}),i.d(c,"DiamondNode",function(){return Pc}),i.d(c,"EllipseNode",function(){return wc}),i.d(c,"TextNode",function(){return Nc}),i.d(c,"HtmlNode",function(){return Cc}),i.d(c,"BaseEdge",function(){return Ti}),i.d(c,"LineEdge",function(){return Gc}),i.d(c,"PolylineEdge",function(){return kc}),i.d(c,"BezierEdge",function(){return Uc}),i.d(c,"Arrow",function(){return dj}),i.d(c,"BaseEdgeModel",function(){return vf}),i.d(c,"BezierEdgeModel",function(){return kf}),i.d(c,"LineEdgeModel",function(){return mf}),i.d(c,"PolylineEdgeModel",function(){return Ef}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Yf}),i.d(c,"DiamondNodeModel",function(){return Vf}),i.d(c,"EllipseNodeModel",function(){return Jf}),i.d(c,"PolygonNodeModel",function(){return ec}),i.d(c,"RectNodeModel",function(){return nc}),i.d(c,"TextNodeModel",function(){return ic}),i.d(c,"HtmlNodeModel",function(){return uc}),i.d(c,"EditConfigModel",function(){return up}),i.d(c,"GraphModel",function(){return nv}),i.d(c,"SnaplineModel",function(){return og}),i.d(c,"Keyboard",function(){return pm}),i.d(c,"get",function(){return zv}),i.d(c,"defaults",function(){return Fv});var l={};i.r(l),i.d(l,"createUuid",function(){return ro}),i.d(l,"refreshGraphId",function(){return bP}),i.d(l,"createDrag",function(){return Mf}),i.d(l,"StepDrag",function(){return no});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),S=Object(b.b)("observerBatching");function x(e){e()}function P(e){e||(e=x),Object(f.n)({reactionScheduler:e}),Object(b.a)()[S]=!0}function w(e){return Object(f.t)(e)}function M(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,C=1e4,_=new Set,z;function X(){z===void 0&&(z=setTimeout(oe,C))}function U(e){_.add(e),X()}function ie(e){_.delete(e)}function oe(){z=void 0;var e=Date.now();_.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,_.delete(r))}),_.size>0&&X()}var ee=!1,J=[];function ue(e){return function(){ee?J.push(e):e()}}function L(e){ee=!0,J=[];try{var r=e();ee=!1;var t=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ee=!1}}var $={};function I(e){return"observer"+e}function A(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=$);var n=t.useForceUpdate||b.d,o=n(),a=ue(o),s=y.d.useRef(null);if(!s.current){var p=new f.c(I(r),function(){g.mounted?a():(p.dispose(),s.current=null)}),g=M(p);s.current=g,U(s)}var E=s.current.reaction;return y.d.useDebugValue(E,w),y.d.useEffect(function(){return ie(s),s.current?s.current.mounted=!0:(s.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}},[]),L(function(){var T,D;if(E.track(function(){try{T=e()}catch(B){D=B}}),D)throw D;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,p){return A(function(){return e(s,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Me(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:A(n)}Me.propTypes={children:me,render:me},Me.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",s=typeof e[r]=="function",p=typeof e[a]=="function";return s&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function Le(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function _e(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var s;return e!=null&&(s=e.apply(this,o)),s}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function Y(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],s=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,s)}}function he(e,r,t,n,o){var a,s=Y(o,n);return a={},a[Ie]=!0,a.get=function(){return s},a.set=function(g){if(this===e)s=Y(g,n);else{var E=he(this,r,t,n,g);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),We=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Be(r,"props"),Be(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;_e(this,tt,!1),_e(this,We,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{_e(r,We,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{_e(r,We,!1),p&&a.dispose()}}});a.reactComponent=this,s[xe]=a,this.render=s;function s(){o=!1;var p=void 0,g=void 0;if(a.track(function(){try{g=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return g}return s.call(this)}function rt(e,r){return this.state!==r?!0:!Le(this.props,e)}function Be(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||_e(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return f.f&&f.e&&(s=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(s),this[t]},set:function(s){!this[We]&&!Le(this[t],s)?(_e(this,t,s),_e(this,tt,!0),o.call(this).reportChanged(),_e(this,tt,!1)):_e(this,t,s)}})}var Qe=typeof Symbol=="function"&&Symbol.for,At=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(At&&e.$$typeof===At){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Me,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):nt(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Yt=mt;function pr(e,r){return e===r||e!==e&&r!==r}var Vt=pr;function xr(e,r){for(var t=e.length;t--;)if(Vt(e[t][0],r))return t;return-1}var qe=xr,Pt=Array.prototype,rr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():rr.call(r,t,1),--this.size,!0}var Ue=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var H=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Yt,re.prototype.delete=Ue,re.prototype.get=Je,re.prototype.has=H,re.prototype.set=te;var we=re;function De(){this.__data__=new we,this.size=0}var Xe=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Zt=vt;function Jt(e){return this.__data__.get(e)}var Xn=Jt;function $r(e){return this.__data__.has(e)}var Fi=$r,Sr=i(31),Hi=Sr.a.Symbol,lr=Hi,bn=Object.prototype,Un=bn.hasOwnProperty,sn=bn.toString,Yn=lr?lr.toStringTag:void 0;function On(e){var r=Un.call(e,Yn),t=e[Yn];try{e[Yn]=void 0;var n=!0}catch{}var o=sn.call(e);return n&&(r?e[Yn]=t:delete e[Yn]),o}var En=On,po=Object.prototype,tl=po.toString;function ho(e){return tl.call(e)}var vo=ho,Gi="[object Null]",Ge="[object Undefined]",$i=lr?lr.toStringTag:void 0;function rl(e){return e==null?e===void 0?Ge:Gi:$i&&$i in Object(e)?En(e):vo(e)}var kr=rl;function ki(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Tt=ki,hr="[object AsyncFunction]",Xi="[object Function]",nl="[object GeneratorFunction]",ol="[object Proxy]";function il(e){if(!Tt(e))return!1;var r=kr(e);return r==Xi||r==nl||r==hr||r==ol}var yo=il,Ui=Sr.a["__core-js_shared__"],ln=Ui,ei=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ti(e){return!!ei&&ei in e}var Yi=ti,al=Function.prototype,go=al.toString;function ul(e){if(e!=null){try{return go.call(e)}catch{}try{return e+""}catch{}}return""}var Rt=ul,pd=/[\\^$.*+?()[\]{}|]/g,hd=/^\[object .+?Constructor\]$/,vd=Function.prototype,Wi=Object.prototype,sl=vd.toString,Ki=Wi.hasOwnProperty,ll=RegExp("^"+sl.call(Ki).replace(pd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fl(e){if(!Tt(e)||Yi(e))return!1;var r=yo(e)?ll:hd;return r.test(Rt(e))}var Xr=fl;function cl(e,r){return e==null?void 0:e[r]}var dl=cl;function ri(e,r){var t=dl(e,r);return Xr(t)?t:void 0}var Dr=ri,pl=Dr(Sr.a,"Map"),xn=pl,hl=Dr(Object,"create"),Wn=hl;function vl(){this.__data__=Wn?Wn(null):{},this.size=0}var ni=vl;function Vi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var yl=Vi,oi="__lodash_hash_undefined__",Zi=Object.prototype,Ji=Zi.hasOwnProperty;function Qi(e){var r=this.__data__;if(Wn){var t=r[e];return t===oi?void 0:t}return Ji.call(r,e)?r[e]:void 0}var qi=Qi,gl=Object.prototype,ea=gl.hasOwnProperty;function ml(e){var r=this.__data__;return Wn?r[e]!==void 0:ea.call(r,e)}var ta=ml,ra="__lodash_hash_undefined__";function bl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Wn&&r===void 0?ra:r,this}var Ol=bl;function Sn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Sn.prototype.clear=ni,Sn.prototype.delete=yl,Sn.prototype.get=qi,Sn.prototype.has=ta,Sn.prototype.set=Ol;var Pn=Sn;function Tn(){this.size=0,this.__data__={hash:new Pn,map:new(xn||we),string:new Pn}}var El=Tn;function xl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var na=xl;function Sl(e,r){var t=e.__data__;return na(r)?t[typeof r=="string"?"string":"hash"]:t.map}var mo=Sl;function Pl(e){var r=mo(this,e).delete(e);return this.size-=r?1:0,r}var Tl=Pl;function Mn(e){return mo(this,e).get(e)}var Ur=Mn;function Ml(e){return mo(this,e).has(e)}var wl=Ml;function Al(e,r){var t=mo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Pr=Al;function wn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}wn.prototype.clear=El,wn.prototype.delete=Tl,wn.prototype.get=Ur,wn.prototype.has=wl,wn.prototype.set=Pr;var Kn=wn,Nl=200;function bo(e,r){var t=this.__data__;if(t instanceof we){var n=t.__data__;if(!xn||n.length<Nl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kn(n)}return t.set(e,r),this.size=t.size,this}var Oo=bo;function An(e){var r=this.__data__=new we(e);this.size=r.size}An.prototype.clear=Xe,An.prototype.delete=Zt,An.prototype.get=Xn,An.prototype.has=Fi,An.prototype.set=Oo;var Nn=An,Tr="__lodash_hash_undefined__";function Vn(e){return this.__data__.set(e,Tr),this}var Mr=Vn;function vr(e){return this.__data__.has(e)}var Zn=vr;function Qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Kn;++r<t;)this.add(e[r])}Qt.prototype.add=Qt.prototype.push=Mr,Qt.prototype.has=Zn;var Dl=Qt;function jl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Cl=jl;function oa(e,r){return e.has(r)}var jr=oa,Rl=1,Cr=2;function ia(e,r,t,n,o,a){var s=t&Rl,p=e.length,g=r.length;if(p!=g&&!(s&&g>p))return!1;var E=a.get(e),T=a.get(r);if(E&&T)return E==r&&T==e;var D=-1,B=!0,G=t&Cr?new Dl:void 0;for(a.set(e,r),a.set(r,e);++D<p;){var Z=e[D],ae=r[D];if(n)var se=s?n(ae,Z,D,r,e,a):n(Z,ae,D,e,r,a);if(se!==void 0){if(se)continue;B=!1;break}if(G){if(!Cl(r,function(le,Ae){if(!jr(G,Ae)&&(Z===le||o(Z,le,t,n,a)))return G.push(Ae)})){B=!1;break}}else if(!(Z===ae||o(Z,ae,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var aa=ia,ii=Sr.a.Uint8Array,kt=ii;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Il=ua;function sa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var fr=sa,la=1,ai=2,fa="[object Boolean]",ca="[object Date]",_l="[object Error]",da="[object Map]",Bl="[object Number]",Ll="[object RegExp]",yr="[object Set]",wr="[object String]",Jn="[object Symbol]",zl="[object ArrayBuffer]",pa="[object DataView]",Eo=lr?lr.prototype:void 0,Qn=Eo?Eo.valueOf:void 0;function ha(e,r,t,n,o,a,s){switch(t){case pa:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case zl:return!(e.byteLength!=r.byteLength||!a(new kt(e),new kt(r)));case fa:case ca:case Bl:return Vt(+e,+r);case _l:return e.name==r.name&&e.message==r.message;case Ll:case wr:return e==r+"";case da:var p=Il;case yr:var g=n&la;if(p||(p=fr),e.size!=r.size&&!g)return!1;var E=s.get(e);if(E)return E==r;n|=ai,s.set(e,r);var T=aa(p(e),p(r),n,o,a,s);return s.delete(e),T;case Jn:if(Qn)return Qn.call(e)==Qn.call(r)}return!1}var Fl=ha;function xo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ui=xo,va=Array.isArray,d=va;function h(e,r,t){var n=r(e);return d(e)?n:ui(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var s=e[t];r(s,t,e)&&(a[o++]=s)}return a}var F=N;function K(){return[]}var fe=K,Te=Object.prototype,$e=Te.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),F(ft(e),function(r){return $e.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var _t=xt;function Xt(e){return e!=null&&typeof e=="object"}var Mt=Xt,gr="[object Arguments]";function Dn(e){return Mt(e)&&kr(e)==gr}var ya=Dn,ga=Object.prototype,ma=ga.hasOwnProperty,ba=ga.propertyIsEnumerable,si=ya(function(){return arguments}())?ya:function(e){return Mt(e)&&ma.call(e,"callee")&&!ba.call(e,"callee")},jn=si,fn=i(48),Mb=9007199254740991,wb=/^(?:0|[1-9]\d*)$/;function Ab(e,r){var t=typeof e;return r=r??Mb,!!r&&(t=="number"||t!="symbol"&&wb.test(e))&&e>-1&&e%1==0&&e<r}var Oa=Ab,Nb=9007199254740991;function Db(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nb}var Hl=Db,jb="[object Arguments]",Cb="[object Array]",Rb="[object Boolean]",Ib="[object Date]",_b="[object Error]",Bb="[object Function]",Lb="[object Map]",zb="[object Number]",Fb="[object Object]",Hb="[object RegExp]",Gb="[object Set]",$b="[object String]",kb="[object WeakMap]",Xb="[object ArrayBuffer]",Ub="[object DataView]",Yb="[object Float32Array]",Wb="[object Float64Array]",Kb="[object Int8Array]",Vb="[object Int16Array]",Zb="[object Int32Array]",Jb="[object Uint8Array]",Qb="[object Uint8ClampedArray]",qb="[object Uint16Array]",eO="[object Uint32Array]",Nt={};Nt[Yb]=Nt[Wb]=Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=!0,Nt[jb]=Nt[Cb]=Nt[Xb]=Nt[Rb]=Nt[Ub]=Nt[Ib]=Nt[_b]=Nt[Bb]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[Hb]=Nt[Gb]=Nt[$b]=Nt[kb]=!1;function tO(e){return Mt(e)&&Hl(e.length)&&!!Nt[kr(e)]}var rO=tO;function nO(e){return function(r){return e(r)}}var Gl=nO,So=i(49),yd=So.a&&So.a.isTypedArray,oO=yd?Gl(yd):rO,$l=oO,iO=Object.prototype,aO=iO.hasOwnProperty;function uO(e,r){var t=d(e),n=!t&&jn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&$l(e),s=t||n||o||a,p=s?_t(e.length,String):[],g=p.length;for(var E in e)(r||aO.call(e,E))&&!(s&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Oa(E,g)))&&p.push(E);return p}var gd=uO,sO=Object.prototype;function lO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||sO;return e===t}var Ea=lO;function fO(e,r){return function(t){return e(r(t))}}var md=fO,cO=md(Object.keys,Object),dO=cO,pO=Object.prototype,hO=pO.hasOwnProperty;function vO(e){if(!Ea(e))return dO(e);var r=[];for(var t in Object(e))hO.call(e,t)&&t!="constructor"&&r.push(t);return r}var yO=vO;function gO(e){return e!=null&&Hl(e.length)&&!yo(e)}var qn=gO;function mO(e){return qn(e)?gd(e):yO(e)}var Po=mO;function bO(e){return O(e,Po,Ot)}var kl=bO,OO=1,EO=Object.prototype,xO=EO.hasOwnProperty;function SO(e,r,t,n,o,a){var s=t&OO,p=kl(e),g=p.length,E=kl(r),T=E.length;if(g!=T&&!s)return!1;for(var D=g;D--;){var B=p[D];if(!(s?B in r:xO.call(r,B)))return!1}var G=a.get(e),Z=a.get(r);if(G&&Z)return G==r&&Z==e;var ae=!0;a.set(e,r),a.set(r,e);for(var se=s;++D<g;){B=p[D];var le=e[B],Ae=r[B];if(n)var ge=s?n(Ae,le,B,r,e,a):n(le,Ae,B,e,r,a);if(!(ge===void 0?le===Ae||o(le,Ae,t,n,a):ge)){ae=!1;break}se||(se=B=="constructor")}if(ae&&!se){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ae=!1)}return a.delete(e),a.delete(r),ae}var PO=SO,TO=Dr(Sr.a,"DataView"),Xl=TO,MO=Dr(Sr.a,"Promise"),Ul=MO,wO=Dr(Sr.a,"Set"),Yl=wO,AO=Dr(Sr.a,"WeakMap"),Wl=AO,bd="[object Map]",NO="[object Object]",Od="[object Promise]",Ed="[object Set]",xd="[object WeakMap]",Sd="[object DataView]",DO=Rt(Xl),jO=Rt(xn),CO=Rt(Ul),RO=Rt(Yl),IO=Rt(Wl),eo=kr;(Xl&&eo(new Xl(new ArrayBuffer(1)))!=Sd||xn&&eo(new xn)!=bd||Ul&&eo(Ul.resolve())!=Od||Yl&&eo(new Yl)!=Ed||Wl&&eo(new Wl)!=xd)&&(eo=function(e){var r=kr(e),t=r==NO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case DO:return Sd;case jO:return bd;case CO:return Od;case RO:return Ed;case IO:return xd}return r});var li=eo,_O=1,Pd="[object Arguments]",Td="[object Array]",xa="[object Object]",BO=Object.prototype,Md=BO.hasOwnProperty;function LO(e,r,t,n,o,a){var s=d(e),p=d(r),g=s?Td:li(e),E=p?Td:li(r);g=g==Pd?xa:g,E=E==Pd?xa:E;var T=g==xa,D=E==xa,B=g==E;if(B&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;s=!0,T=!1}if(B&&!T)return a||(a=new Nn),s||$l(e)?aa(e,r,t,n,o,a):Fl(e,r,g,t,n,o,a);if(!(t&_O)){var G=T&&Md.call(e,"__wrapped__"),Z=D&&Md.call(r,"__wrapped__");if(G||Z){var ae=G?e.value():e,se=Z?r.value():r;return a||(a=new Nn),o(ae,se,t,n,a)}}return B?(a||(a=new Nn),PO(e,r,t,n,o,a)):!1}var zO=LO;function wd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Mt(e)&&!Mt(r)?e!==e&&r!==r:zO(e,r,t,n,wd,o)}var Kl=wd,FO=1,HO=2;function GO(e,r,t,n){var o=t.length,a=o,s=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(s&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var g=p[0],E=e[g],T=p[1];if(s&&p[2]){if(E===void 0&&!(g in e))return!1}else{var D=new Nn;if(n)var B=n(E,T,g,e,r,D);if(!(B===void 0?Kl(T,E,FO|HO,n,D):B))return!1}}return!0}var $O=GO;function kO(e){return e===e&&!Tt(e)}var Ad=kO;function XO(e){for(var r=Po(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Ad(o)]}return r}var UO=XO;function YO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Nd=YO;function WO(e){var r=UO(e);return r.length==1&&r[0][2]?Nd(r[0][0],r[0][1]):function(t){return t===e||$O(t,e,r)}}var KO=WO,VO="[object Symbol]";function ZO(e){return typeof e=="symbol"||Mt(e)&&kr(e)==VO}var Sa=ZO,JO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QO=/^\w*$/;function qO(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Sa(e)?!0:QO.test(e)||!JO.test(e)||r!=null&&e in Object(r)}var Vl=qO,eE="Expected a function";function Zl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(eE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var s=e.apply(this,n);return t.cache=a.set(o,s)||a,s};return t.cache=new(Zl.Cache||Kn),t}Zl.Cache=Kn;var tE=Zl,rE=500;function nE(e){var r=tE(e,function(n){return t.size===rE&&t.clear(),n}),t=r.cache;return r}var oE=nE,iE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aE=/\\(\\)?/g,uE=oE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(iE,function(t,n,o,a){r.push(o?a.replace(aE,"$1"):n||t)}),r}),sE=uE,lE=1/0,Dd=lr?lr.prototype:void 0,jd=Dd?Dd.toString:void 0;function Cd(e){if(typeof e=="string")return e;if(d(e))return St(e,Cd)+"";if(Sa(e))return jd?jd.call(e):"";var r=e+"";return r=="0"&&1/e==-lE?"-0":r}var fE=Cd;function cE(e){return e==null?"":fE(e)}var dE=cE;function pE(e,r){return d(e)?e:Vl(e,r)?[e]:sE(dE(e))}var Pa=pE,hE=1/0;function vE(e){if(typeof e=="string"||Sa(e))return e;var r=e+"";return r=="0"&&1/e==-hE?"-0":r}var fi=vE;function yE(e,r){r=Pa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[fi(r[t++])];return t&&t==n?e:void 0}var Jl=yE;function gE(e,r,t){var n=e==null?void 0:Jl(e,r);return n===void 0?t:n}var Rd=gE;function mE(e,r){return e!=null&&r in Object(e)}var bE=mE;function OE(e,r,t){r=Pa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var s=fi(r[n]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Hl(o)&&Oa(s,o)&&(d(e)||jn(e)))}var EE=OE;function xE(e,r){return e!=null&&EE(e,r,bE)}var Id=xE,SE=1,PE=2;function TE(e,r){return Vl(e)&&Ad(r)?Nd(fi(e),r):function(t){var n=Rd(t,e);return n===void 0&&n===r?Id(t,e):Kl(r,n,SE|PE)}}var ME=TE;function wE(e){return e}var Ql=wE;function AE(e){return function(r){return r==null?void 0:r[e]}}var NE=AE;function DE(e){return function(r){return Jl(r,e)}}var jE=DE;function CE(e){return Vl(e)?NE(fi(e)):jE(e)}var RE=CE;function IE(e){return typeof e=="function"?e:e==null?Ql:typeof e=="object"?d(e)?ME(e[0],e[1]):KO(e):RE(e)}var _E=IE;function BE(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),p=s.length;p--;){var g=s[e?p:++o];if(t(a[g],g,a)===!1)break}return r}}var LE=BE,zE=LE(),_d=zE;function FE(e,r){return e&&_d(e,r,Po)}var HE=FE;function GE(e,r){return function(t,n){if(t==null)return t;if(!qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,s=Object(t);(r?a--:++a<o)&&n(s[a],a,s)!==!1;);return t}}var $E=GE,kE=$E(HE),XE=kE;function UE(e,r){var t=-1,n=qn(e)?Array(e.length):[];return XE(e,function(o,a,s){n[++t]=r(o,a,s)}),n}var YE=UE;function WE(e,r){var t=d(e)?St:YE;return t(e,_E(r))}var Ta=WE,KE=function(){try{var e=Dr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ma=KE;function VE(e,r,t){r=="__proto__"&&Ma?Ma(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var ql=VE,ZE=Object.prototype,JE=ZE.hasOwnProperty;function QE(e,r,t){var n=e[r];(!(JE.call(e,r)&&Vt(n,t))||t===void 0&&!(r in e))&&ql(e,r,t)}var wa=QE;function qE(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var p=r[a],g=n?n(t[p],e[p],p,t,e):void 0;g===void 0&&(g=e[p]),o?ql(t,p,g):wa(t,p,g)}return t}var To=qE;function ex(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var tx=ex,Bd=Math.max;function rx(e,r,t){return r=Bd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Bd(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(s),tx(e,this,p)}}var Ld=rx;function nx(e){return function(){return e}}var ox=nx,ix=Ma?function(e,r){return Ma(e,"toString",{configurable:!0,enumerable:!1,value:ox(r),writable:!0})}:Ql,ax=ix,ux=800,sx=16,lx=Date.now;function fx(e){var r=0,t=0;return function(){var n=lx(),o=sx-(n-t);if(t=n,o>0){if(++r>=ux)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var cx=fx,dx=cx(ax),zd=dx;function px(e,r){return zd(Ld(e,r,Ql),e+"")}var hx=px;function vx(e,r,t){if(!Tt(t))return!1;var n=typeof r;return(n=="number"?qn(t)&&Oa(r,t.length):n=="string"&&r in t)?Vt(t[r],e):!1}var yx=vx;function gx(e){return hx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&yx(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Fd=gx,mx=Object.prototype,bx=mx.hasOwnProperty,Ox=Fd(function(e,r){if(Ea(r)||qn(r)){To(r,Po(r),e);return}for(var t in r)bx.call(r,t)&&wa(e,t,r[t])}),nr=Ox;function Ex(e,r,t,n){if(!Tt(e))return e;r=Pa(r,e);for(var o=-1,a=r.length,s=a-1,p=e;p!=null&&++o<a;){var g=fi(r[o]),E=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=s){var T=p[g];E=n?n(T,g,p):void 0,E===void 0&&(E=Tt(T)?T:Oa(r[o+1])?[]:{})}wa(p,g,E),p=p[g]}return e}var xx=Ex;function Sx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var s=r[n],p=Jl(e,s);t(p,s)&&xx(a,Pa(s,e),p)}return a}var Px=Sx;function Tx(e,r){return Px(e,r,function(t,n){return Id(e,n)})}var Mx=Tx,Hd=lr?lr.isConcatSpreadable:void 0;function wx(e){return d(e)||jn(e)||!!(Hd&&e&&e[Hd])}var Ax=wx;function Gd(e,r,t,n,o){var a=-1,s=e.length;for(t||(t=Ax),o||(o=[]);++a<s;){var p=e[a];r>0&&t(p)?r>1?Gd(p,r-1,t,n,o):ui(o,p):n||(o[o.length]=p)}return o}var Nx=Gd;function Dx(e){var r=e==null?0:e.length;return r?Nx(e,1):[]}var jx=Dx;function Cx(e){return zd(Ld(e,void 0,jx),e+"")}var Rx=Cx,Ix=Rx(function(e,r){return e==null?{}:Mx(e,r)}),ci=Ix,It,$d,kd,Xd,Ud,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op;function Wt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _x(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ip(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bx(e,r,t){return r&&ip(e.prototype,r),t&&ip(e,t),e}function ap(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ut(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Lx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ef=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],up=(It=function(){function e(r){_x(this,e),Wt(this,"isSilentMode",$d,this),Wt(this,"stopZoomGraph",kd,this),Wt(this,"stopScrollGraph",Xd,this),Wt(this,"stopMoveGraph",Ud,this),Wt(this,"adjustEdge",Yd,this),Wt(this,"adjustEdgeMiddle",Wd,this),Wt(this,"adjustEdgeStartAndEnd",Kd,this),Wt(this,"adjustNodePosition",Vd,this),Wt(this,"hideAnchors",Zd,this),Wt(this,"hoverOutline",Jd,this),Wt(this,"nodeSelectedOutline",Qd,this),Wt(this,"edgeSelectedOutline",qd,this),Wt(this,"nodeTextEdit",ep,this),Wt(this,"edgeTextEdit",tp,this),Wt(this,"nodeTextDraggable",rp,this),Wt(this,"edgeTextDraggable",np,this),Wt(this,"autoExpand",op,this),ap(this,"multipleSelectKey",""),ap(this,"defaultConfig",{}),nr(this,this.getConfigDetail(r))}return Bx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);nr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&nr(a,this.defaultConfig),n===!0){var s=ci(Lx,ef);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},nr(a,s)}o===!1&&nr(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=ci(t,ef);return nr(a,p)}},{key:"getConfig",value:function(){return ci(this,ef)}}]),e}(),$d=Ut(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kd=Ut(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Ut(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Ut(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Ut(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=Ut(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Ut(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Ut(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zd=Ut(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=Ut(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=Ut(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Ut(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Ut(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Ut(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Ut(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),np=Ut(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Ut(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ut(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var sp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(sp||(sp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Ht;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Ht||(Ht={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var zx=9999,mr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(mr||(mr={}));var Bt,lp,fp,cp,dp,pp,hp,vp;function Aa(e,r){return $x(e)||Gx(e,r)||Hx(e,r)||Fx()}function Fx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hx(e,r){if(e){if(typeof e=="string")return yp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yp(e,r)}}function yp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Gx(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function $x(e){if(Array.isArray(e))return e}function to(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xx(e,r,t){return r&&gp(e.prototype,r),t&&gp(e,t),e}function tf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ux=(Bt=function(){function e(r){kx(this,e),tf(this,"MINI_SCALE_SIZE",.2),tf(this,"MAX_SCALE_SIZE",16),to(this,"SCALE_X",lp,this),to(this,"SKEW_Y",fp,this),to(this,"SKEW_X",cp,this),to(this,"SCALE_Y",dp,this),to(this,"TRANSLATE_X",pp,this),to(this,"TRANSLATE_Y",hp,this),to(this,"ZOOM_SIZE",vp,this),tf(this,"eventCenter",void 0),this.eventCenter=r}return Xx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Aa(t,2),s=a[0],p=a[1];return[s+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var s=this.CanvasPointToHtmlPoint([t,n]),p=Aa(s,2),g=p[0],E=p[1],T=o/2-g,D=a/2-E;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=D,this.emitGraphTransform("focusOn")}}]),e}(),lp=Rr(Bt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fp=Rr(Bt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cp=Rr(Bt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Rr(Bt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pp=Rr(Bt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Rr(Bt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Rr(Bt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Rr(Bt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"zoom"),Bt.prototype),Rr(Bt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"resetZoom"),Bt.prototype),Rr(Bt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"translate"),Bt.prototype),Rr(Bt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"focusOn"),Bt.prototype),Bt);function Yx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Wx=Yx;function Kx(e,r){return e&&To(r,Po(r),e)}var Vx=Kx;function Zx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var Jx=Zx,Qx=Object.prototype,qx=Qx.hasOwnProperty;function eS(e){if(!Tt(e))return Jx(e);var r=Ea(e),t=[];for(var n in e)n=="constructor"&&(r||!qx.call(e,n))||t.push(n);return t}var tS=eS;function rS(e){return qn(e)?gd(e,!0):tS(e)}var di=rS;function nS(e,r){return e&&To(r,di(r),e)}var oS=nS,mp=i(106);function iS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var bp=iS;function aS(e,r){return To(e,Ot(e),r)}var uS=aS,sS=md(Object.getPrototypeOf,Object),rf=sS,lS=Object.getOwnPropertySymbols,fS=lS?function(e){for(var r=[];e;)ui(r,Ot(e)),e=rf(e);return r}:fe,Op=fS;function cS(e,r){return To(e,Op(e),r)}var dS=cS;function pS(e){return O(e,di,Op)}var hS=pS,vS=Object.prototype,yS=vS.hasOwnProperty;function gS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&yS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var mS=gS;function bS(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}var nf=bS;function OS(e,r){var t=r?nf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var ES=OS,xS=/\w*$/;function SS(e){var r=new e.constructor(e.source,xS.exec(e));return r.lastIndex=e.lastIndex,r}var PS=SS,Ep=lr?lr.prototype:void 0,xp=Ep?Ep.valueOf:void 0;function TS(e){return xp?Object(xp.call(e)):{}}var MS=TS;function wS(e,r){var t=r?nf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Sp=wS,AS="[object Boolean]",NS="[object Date]",DS="[object Map]",jS="[object Number]",CS="[object RegExp]",RS="[object Set]",IS="[object String]",_S="[object Symbol]",BS="[object ArrayBuffer]",LS="[object DataView]",zS="[object Float32Array]",FS="[object Float64Array]",HS="[object Int8Array]",GS="[object Int16Array]",$S="[object Int32Array]",kS="[object Uint8Array]",XS="[object Uint8ClampedArray]",US="[object Uint16Array]",YS="[object Uint32Array]";function WS(e,r,t){var n=e.constructor;switch(r){case BS:return nf(e);case AS:case NS:return new n(+e);case LS:return ES(e,t);case zS:case FS:case HS:case GS:case $S:case kS:case XS:case US:case YS:return Sp(e,t);case DS:return new n;case jS:case IS:return new n(e);case CS:return PS(e);case RS:return new n;case _S:return MS(e)}}var KS=WS,Pp=Object.create,VS=function(){function e(){}return function(r){if(!Tt(r))return{};if(Pp)return Pp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),ZS=VS;function JS(e){return typeof e.constructor=="function"&&!Ea(e)?ZS(rf(e)):{}}var Tp=JS,QS="[object Map]";function qS(e){return Mt(e)&&li(e)==QS}var e0=qS,Mp=So.a&&So.a.isMap,t0=Mp?Gl(Mp):e0,r0=t0,n0="[object Set]";function o0(e){return Mt(e)&&li(e)==n0}var i0=o0,wp=So.a&&So.a.isSet,a0=wp?Gl(wp):i0,u0=a0,s0=1,l0=2,f0=4,Ap="[object Arguments]",c0="[object Array]",d0="[object Boolean]",p0="[object Date]",h0="[object Error]",Np="[object Function]",v0="[object GeneratorFunction]",y0="[object Map]",g0="[object Number]",Dp="[object Object]",m0="[object RegExp]",b0="[object Set]",O0="[object String]",E0="[object Symbol]",x0="[object WeakMap]",S0="[object ArrayBuffer]",P0="[object DataView]",T0="[object Float32Array]",M0="[object Float64Array]",w0="[object Int8Array]",A0="[object Int16Array]",N0="[object Int32Array]",D0="[object Uint8Array]",j0="[object Uint8ClampedArray]",C0="[object Uint16Array]",R0="[object Uint32Array]",wt={};wt[Ap]=wt[c0]=wt[S0]=wt[P0]=wt[d0]=wt[p0]=wt[T0]=wt[M0]=wt[w0]=wt[A0]=wt[N0]=wt[y0]=wt[g0]=wt[Dp]=wt[m0]=wt[b0]=wt[O0]=wt[E0]=wt[D0]=wt[j0]=wt[C0]=wt[R0]=!0,wt[h0]=wt[Np]=wt[x0]=!1;function Na(e,r,t,n,o,a){var s,p=r&s0,g=r&l0,E=r&f0;if(t&&(s=o?t(e,n,o,a):t(e)),s!==void 0)return s;if(!Tt(e))return e;var T=d(e);if(T){if(s=mS(e),!p)return bp(e,s)}else{var D=li(e),B=D==Np||D==v0;if(Object(fn.a)(e))return Object(mp.a)(e,p);if(D==Dp||D==Ap||B&&!o){if(s=g||B?{}:Tp(e),!p)return g?dS(e,oS(s,e)):uS(e,Vx(s,e))}else{if(!wt[D])return o?e:{};s=KS(e,D,p)}}a||(a=new Nn);var G=a.get(e);if(G)return G;a.set(e,s),u0(e)?e.forEach(function(se){s.add(Na(se,r,t,se,e,a))}):r0(e)&&e.forEach(function(se,le){s.set(le,Na(se,r,t,le,e,a))});var Z=E?g?hS:kl:g?di:Po,ae=T?void 0:Z(e);return Wx(ae||e,function(se,le){ae&&(le=se,se=e[le]),wa(s,le,Na(se,r,t,le,e,a))}),s}var I0=Na,_0=1,B0=4;function L0(e){return I0(e,_0|B0)}var jt=L0;function z0(e,r,t){(t!==void 0&&!Vt(e[r],t)||t===void 0&&!(r in e))&&ql(e,r,t)}var of=z0;function F0(e){return Mt(e)&&qn(e)}var H0=F0,G0="[object Object]",$0=Function.prototype,k0=Object.prototype,jp=$0.toString,X0=k0.hasOwnProperty,U0=jp.call(Object);function Y0(e){if(!Mt(e)||kr(e)!=G0)return!1;var r=rf(e);if(r===null)return!0;var t=X0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&jp.call(t)==U0}var W0=Y0;function K0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var af=K0;function V0(e){return To(e,di(e))}var Z0=V0;function J0(e,r,t,n,o,a,s){var p=af(e,t),g=af(r,t),E=s.get(g);if(E){of(e,t,E);return}var T=a?a(p,g,t+"",e,r,s):void 0,D=T===void 0;if(D){var B=d(g),G=!B&&Object(fn.a)(g),Z=!B&&!G&&$l(g);T=g,B||G||Z?d(p)?T=p:H0(p)?T=bp(p):G?(D=!1,T=Object(mp.a)(g,!0)):Z?(D=!1,T=Sp(g,!0)):T=[]:W0(g)||jn(g)?(T=p,jn(p)?T=Z0(p):(!Tt(p)||yo(p))&&(T=Tp(g))):D=!1}D&&(s.set(g,T),o(T,g,n,a,s),s.delete(g)),of(e,t,T)}var Q0=J0;function Cp(e,r,t,n,o){e!==r&&_d(r,function(a,s){if(o||(o=new Nn),Tt(a))Q0(e,r,s,t,Cp,n,o);else{var p=n?n(af(e,s),a,s+"",e,r,o):void 0;p===void 0&&(p=a),of(e,s,p)}},di)}var q0=Cp,eP=Fd(function(e,r,t){q0(e,r,t)}),Rp=eP,tP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Ip=function(r){var t=jt(tP);return r&&(t=Rp(t,r)),t};i(78),i(158);function rP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nP(e,r,t){return r&&_p(e.prototype,r),t&&_p(e,t),e}function oP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var iP="*",aP=function(){function e(){rP(this,e),oP(this,"_events",{})}return nP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var s=o._events[a]||[],p=o._events[iP]||[],g=function(T){for(var D=T.length,B=0;B<D;B++)if(T[B]){var G=T[B],Z=G.callback,ae=G.once;ae&&(T.splice(B,1),T.length===0&&delete o._events[a],D--,B--),Z.apply(o,[n])}};g(s),g(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var s=o._events[a]||[],p=s.length,g=0;g<p;g++)s[g].callback===n&&(s.splice(g,1),p--,g--);s.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Cn(e,r){return r*Math.round(e/r)||e}function Bp(e,r){return e%r}function uf(e,r){return fP(e)||lP(e,r)||sP(e,r)||uP()}function uP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(e,r){if(e){if(typeof e=="string")return Lp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lp(e,r)}}function Lp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function fP(e){if(Array.isArray(e))return e}var sf=function(r,t,n){var o=uf(r,2),a=o[0],s=o[1],p=uf(t,2),g=p[0],E=p[1],T=uf(n,2),D=T[0],B=T[1];return a>g&&a<D&&s>E&&s<B},zp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Da,cP=new Uint8Array(16);function dP(){if(!Da&&(Da=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Da))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Da(cP)}var pP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hP(e){return typeof e=="string"&&pP.test(e)}for(var vP=hP,Kt=[],lf=0;lf<256;++lf)Kt.push((lf+256).toString(16).substr(1));function yP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!vP(t))throw TypeError("Stringified UUID is invalid");return t}var gP=yP;function mP(e,r,t){e=e||{};var n=e.random||(e.rng||dP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return gP(n)}var ff=mP,ro=function(){var r=ff();return r},bP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+ff(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+ff(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var OP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(s-r.x)*(s-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:s,y:p}:!1},pi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(t){return typeof t}:ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function Fp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fp(Object(t),!0).forEach(function(n){EP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function EP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var cf=function(r){var t=r.anchors;return t},Ca=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var s=n[a],p=PP(r,s);if(p){var g=SP(r,s);if(g){var E={node:s,anchorIndex:g.index,anchor:g.anchor};(!o||xP(s,o.node,t))&&(o=E)}}}return o},xP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},SP=function(r,t){for(var n=cf(t),o,a=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var p=Yr(r.x,r.y,n[s].x,n[s].y);p<a&&(a=p,o={index:s,anchor:Hp(Hp({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Yr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Rn=function(r,t){var n=!1,o=0,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},PP=function(r,t){var n=!1,o=5,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},br=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,s={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return s},TP=function(r){var t=r,n=t.x,o=t.y,a=t.width,s=t.height,p=t.radius,g=[{x:n-a/2+p,y:o-s/2+p,r:p},{x:n+a/2-p,y:o-s/2+p,r:p},{x:n-a/2+p,y:o+s/2-p,r:p},{x:n+a/2-p,y:o+s/2-p,r:p}];return g},Gp=function(r,t,n){var o=TP(n),a,s=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var E=Yr(r.x,r.y,g.x,g.y);E<s&&(s=E,a=g)});var p=df(r,t,a);return p},df=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.r;if(t===Dt.HORIZONTAL){var E=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)),T=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)),D=Math.abs(E-r.x)<Math.abs(T-r.x)?E:T;o={x:D,y:r.y}}else if(t===Dt.VERTICAL){var B=p-Math.sqrt(g*g-(r.x-s)*(r.x-s)),G=p+Math.sqrt(g*g-(r.x-s)*(r.x-s)),Z=Math.abs(B-r.y)<Math.abs(G-r.y)?B:G;o={x:r.x,y:Z}}return o},$p=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},s=n.x,p=n.y,g=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===s+g/2||r.x===s-g/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},kp=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var T=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),D=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),B=Math.abs(T-r.x)<Math.abs(D-r.x)?T:D;o={x:B,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),Z=p+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ae=Math.abs(G-r.y)<Math.abs(Z-r.y)?G:Z;o={x:r.x,y:ae}}return o},Ra=function(r,t,n){for(var o=n,a=o.pointsPosition,s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});return g.forEach(function(T){var D=T.start,B=T.end,G=D,Z=B;D.x>B.x&&(G=B,Z=D);var ae={x:r.x,y:r.y};if(G.x===Z.x&&t===Dt.HORIZONTAL&&(ae={x:G.x,y:r.y}),G.y===Z.y&&t===Dt.VERTICAL&&(ae={x:r.x,y:G.y}),G.x!==Z.x&&G.y!==Z.y){var se=(Z.y-G.y)/(Z.x-G.x),le=(G.x*Z.y-Z.x*G.y)/(G.x-Z.x);t===Dt.HORIZONTAL?ae={x:(r.y-le)/se,y:r.y}:t===Dt.VERTICAL&&(ae={x:r.x,y:se*r.x+le})}var Ae=pi(ae,D,B);if(Ae){var ge=Yr(ae.x,ae.y,r.x,r.y);ge<s&&(s=ge,p=ae)}}),p},MP=function(r){var t=ci(r,["id","type","x","y","text","properties","virtual"]);return t},Xp=function(r,t,n,o){var a=r.x,s=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:a,y:s}},Up=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=a,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},pf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(s){var p=Bh(s);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ia=function(r){return ja(r)!=="object"?{isAllPass:!!r,msg:r?"":"不允许连接"}:r},Yp={node:!1,edge:!1},wP={node:!0,edge:!0},AP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},qt=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},NP=1e3,DP=999,hf=function(){return++NP},jP=function(){return--DP},ye,Wp,Kp,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch;function dh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dh(Object(t),!0).forEach(function(n){Or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function CP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RP(e,r,t){return r&&ph(e.prototype,r),t&&ph(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var vf=(ye=function(){function e(r,t){CP(this,e),Or(this,"id",ro()),Gt(this,"type",Wp,this),Gt(this,"sourceNodeId",Kp,this),Gt(this,"targetNodeId",Vp,this),Gt(this,"startPoint",Zp,this),Gt(this,"endPoint",Jp,this),Gt(this,"text",Qp,this),Gt(this,"properties",qp,this),Gt(this,"points",eh,this),Gt(this,"pointsList",th,this),Gt(this,"isSelected",rh,this),Gt(this,"isHovered",nh,this),Gt(this,"isHitable",oh,this),Gt(this,"draggable",ih,this),Gt(this,"visible",ah,this),Or(this,"virtual",!1),Gt(this,"isAnimation",uh,this),Or(this,"graphModel",void 0),Gt(this,"zIndex",sh,this),Or(this,"BaseType",Ht.EDGE),Or(this,"modelType",pt.EDGE),Gt(this,"state",lh,this),Or(this,"additionStateData",void 0),Or(this,"sourceAnchorId",""),Or(this,"targetAnchorId",""),Or(this,"menu",void 0),Or(this,"customTextPosition",!1),Or(this,"animationData",AP),Gt(this,"style",fh,this),Gt(this,"arrowConfig",ch,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return RP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}nr(this,xT(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||hf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ir(Ir({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,s=cf(t);return s.forEach(function(p){var g=Fh(p,n);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,s=cf(t);return s.forEach(function(p){var g=Fh(p,n.startPoint);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(s.text={x:n,y:o,value:a}),this.graphModel.overlapMode===mr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=qt(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Ir(Ir({},this.properties),qt(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Ir(Ir({},this.style),{},Or({},t,qt(n)))}},{key:"setStyles",value:function(t){this.style=Ir(Ir({},this.style),qt(t))}},{key:"updateStyles",value:function(t){this.style=Ir({},qt(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,draggable:g,x:a+t,y:s+n,editable:E}}}},{key:"setText",value:function(t){t&&nr(this.text,t)}},{key:"updateText",value:function(t){this.text=Ir(Ir({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){nr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Wp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kp=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jp=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qp=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),eh=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),th=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rh=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nh=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ih=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ah=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sh=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lh=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fh=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ch=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),yf=vf;function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){mh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _P(e,r,t){return r&&yh(e.prototype,r),t&&yh(e,t),e}function Ba(){return typeof Reflect<"u"&&Reflect.get?Ba=Reflect.get:Ba=function(r,t,n){var o=BP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ba.apply(this,arguments)}function BP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Mo(e),e!==null););return e}function LP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gf(e,r)}function zP(e){var r=HP();return function(){var n=Mo(e),o;if(r){var a=Mo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FP(this,o)}}function FP(e,r){if(r&&(_a(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(e)}function gh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}function mh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mf=function(e){LP(t,e);var r=zP(t);function t(){var n;IP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),mh(gh(n),"modelType",pt.LINE_EDGE),n}return _P(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ba(Mo(t.prototype),"getEdgeStyle",this).call(this);return vh(vh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(yf);function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}var at,bh;function GP(e,r){return UP(e)||XP(e,r)||kP(e,r)||$P()}function $P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kP(e,r){if(e){if(typeof e=="string")return Oh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oh(e,r)}}function Oh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function XP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function UP(e){if(Array.isArray(e))return e}function Eh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Eh(Object(t),!0).forEach(function(n){Of(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function YP(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function WP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KP(e,r,t){return r&&Sh(e.prototype,r),t&&Sh(e,t),e}function wo(){return typeof Reflect<"u"&&Reflect.get?wo=Reflect.get:wo=function(r,t,n){var o=VP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wo.apply(this,arguments)}function VP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=In(e),e!==null););return e}function ZP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bf(e,r)}function bf(e,r){return bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bf(e,r)}function JP(e){var r=qP();return function(){var n=In(e),o;if(r){var a=In(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QP(this,o)}}function QP(e,r){if(r&&(La(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function Of(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function or(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ef=(at=function(e){ZP(t,e);var r=JP(t);function t(){var n;WP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Of(hi(n),"modelType",pt.POLYLINE_EDGE),Of(hi(n),"draginngPointList",void 0),YP(hi(n),"dbClickPosition",bh,hi(n)),n}return KP(t,[{key:"initEdgeData",value:function(o){this.offset=30,wo(In(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=wo(In(t.prototype),"getEdgeStyle",this).call(this);return xh(xh({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition,p=s.x,g=s.y;return{x:p,y:g}}var E=Ao(this.points),T=mT(E),D=GP(T,2),B=D[0],G=D[1];return{x:(B.x+G.x)/2,y:(B.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var p,g;return s.forEach(function(E){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-E.x)),(!g||g>T)&&(g=T,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,s){var p;return o===Dt.HORIZONTAL?p={x:s.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:s.y}),p}},{key:"removeCrossPoints",value:function(o,a,s){var p=s.map(function(Re){return Re});if(o===1){var g=p[o],E=p[a],T=p[o-1],D=Ch(T,g,this.sourceNode);if(D){var B=Rh(g,E,this.sourceNode);if(B){var G=Ih(g,E,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var Z=this.sourceNode.anchors;Z.forEach(function(Re){if(Re.x===T.x&&Re.x===g.x||Re.y===T.y&&Re.y===g.y){var Ze=Yr(Re.x,Re.y,g.x,g.y),He=Yr(T.x,T.y,g.x,g.y);Ze<He&&(p[o-1]=Re)}})}}if(a===s.length-2){var ae=p[o],se=p[a],le=p[a+1],Ae=Ch(se,le,this.targetNode);if(Ae){var ge=Rh(ae,se,this.targetNode);if(ge){var be=Ih(ae,se,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===le.x&&Re.x===se.x||Re.y===le.y&&Re.y===se.y){var Ze=Yr(Re.x,Re.y,se.x,se.y),He=Yr(le.x,le.y,se.x,se.y);Ze<He&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,s,p,g){var E=g.map(function(B){return B}),T=this.getAfterAnchor(o,s,p),D=this.getCorssPoint(o,s,T);return a==="start"?(E.unshift(D),E.unshift(T)):(E.push(D),E.push(T)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),s=o[0],p=o[1],g=o[a.length-2],E=o[a.length-1],T=this.sourceNode,D=this.targetNode,B=T.modelType,G=D.modelType,Z=Xa(s,p),ae=a[0];switch(B){case pt.RECT_NODE:if(T.radius!==0){var se=$p(s,T);se||(ae=Gp(s,Z,T))}break;case pt.CIRCLE_NODE:ae=df(s,Z,T);break;case pt.ELLIPSE_NODE:ae=kp(s,Z,T);break;case pt.DIAMOND_NODE:ae=Ra(s,Z,T);break;case pt.POLYGON_NODE:ae=Ra(s,Z,T);break}a[0]=ae;var le=Xa(g,E),Ae=a[a.length-1];switch(G){case pt.RECT_NODE:if(D.radius!==0){var ge=$p(E,D);ge||(Ae=Gp(E,le,D))}break;case pt.CIRCLE_NODE:Ae=df(E,le,D);break;case pt.ELLIPSE_NODE:Ae=kp(E,le,D);break;case pt.DIAMOND_NODE:Ae=Ra(E,le,D);break;case pt.POLYGON_NODE:Ae=Ra(E,le,D);break}return a[a.length-1]=Ae,a}},{key:"getData",value:function(){var o=wo(In(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=jh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList,B=D;return T===Dt.HORIZONTAL?(D[g]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y},B=this.pointsList.map(function(G){return G})):T===Dt.VERTICAL&&(D[g]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y},B=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrag(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[g]),end:Object.assign({},D[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList;if(T===Dt.HORIZONTAL){D[g]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y};var B=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(g,E,B)),g===0){var G={x:s.x,y:s.y+a.y},Z=Rn(G,this.sourceNode);if(!Z){var ae=this.sourceNode.anchors;B=this.getDragingPoints(T,"start",G,ae,B)}}if(E===this.pointsList.length-1){var se={x:p.x,y:p.y+a.y},le=Rn(se,this.targetNode);if(!le){var Ae=this.targetNode.anchors;B=this.getDragingPoints(T,"end",se,Ae,B)}}this.updatePointsAfterDrag(B),this.draggingPointList=B}else if(T===Dt.VERTICAL){D[g]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(ge=this.removeCrossPoints(g,E,ge)),g===0){var be={x:s.x+a.x,y:s.y},Fe=Rn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(E===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},He=Rn(Ze,this.targetNode);if(!He){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}this.updatePointsAfterDrag(ge),this.draggingPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[g]),end:Object.assign({},D[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Dh(Ao(this.points));this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=jh({x:a.x,y:a.y},{x:s.x,y:s.y},p,g,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(yf),bh=or(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),or(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),or(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),or(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),or(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),or(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),or(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),or(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),or(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),or(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),or(at.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrag"),at.prototype),or(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),or(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),or(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),vi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,s=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return s==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(g+E),p.leftY=t.y-T*Math.cos(g+E),p.rightX=t.x-T*Math.sin(g-E),p.rightY=t.y+T*Math.cos(g-E)):(p.leftX=t.x-T*Math.sin(g+E),p.leftY=t.y+T*Math.cos(g+E),p.rightX=t.x+T*Math.sin(g-E),p.rightY=t.y-T*Math.cos(g-E)):s==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(g-E),p.leftY=n.y-T*Math.cos(g-E),p.rightX=n.x-T*Math.sin(g+E),p.rightY=n.y+T*Math.cos(g+E)):(p.leftX=n.x-T*Math.sin(g-E),p.leftY=n.y+T*Math.cos(g-E),p.rightX=n.x+T*Math.sin(g+E),p.rightY=n.y-T*Math.cos(g+E))),p};function Ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function za(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ph(Object(t),!0).forEach(function(n){eT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tT(e){return oT(e)||nT(e)||Th(e)||rT()}function rT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oT(e){if(Array.isArray(e))return Sf(e)}function Fa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(t){return typeof t}:Fa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function xf(e,r){return uT(e)||aT(e,r)||Th(e,r)||iT()}function iT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(e,r){if(e){if(typeof e=="string")return Sf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sf(e,r)}}function Sf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function uT(e){if(Array.isArray(e))return e}var sT=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Pf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Ha=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},lT=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ga=function(r,t){var n=lT(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Mh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:a,maxY:s,height:s-o,width:a-n}},yi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(D){n.push(D.x),o.push(D.y)});var a=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=s-a,T=g-p;return t&&(E+=t,T+=t),{centerX:(a+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:a,minY:p,x:(a+s)/2,y:(p+g)/2,height:T,width:E}},$a=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},ka=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},fT=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},cT=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},dT=function(r,t){return fT(r,t.x).concat(cT(r,t.y))},Tf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},pT=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},wh=function(r,t,n,o,a){return Tf(r,t)+Tf(r,n)+pT(r,[t,n,o,a])},hT=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},vT=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},gi=function(r,t,n,o){var a=t.x-r.x,s=t.y-r.y,p=o.x-n.x,g=o.y-n.y,E=(-s*(r.x-n.x)+a*(r.y-n.y))/(-p*s+a*g),T=(p*(r.y-n.y)-g*(r.x-n.x))/(-p*s+a*g);return E>=0&&E<=1&&T>=0&&T<=1},Ah=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=$a(n),a=xf(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return gi(r,t,s,p)||gi(r,t,s,E)||gi(r,t,p,g)||gi(r,t,g,E)},yT=function(r,t,n,o){var a=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!Ah(s,t,n)&&!Ah(s,t,o)&&a.push(s)}),Pf(a)},gT=function(r,t,n,o,a,s,p){var g=[],E=[t],T={},D={},B={};D[t.id]=0,B[t.id]=wh(t,n,t);var G={};r.forEach(function(se){G[se.id]=se});for(var Z=function(){var le=void 0,Ae=1/0;if(E.forEach(function(be){B[be.id]<Ae&&(Ae=B[be.id],le=be)}),le===n){var ge=[];return hT(ge,G,T,n.id),{v:ge}}vT(E,le),g.push(le),yT(r,le,o,a).forEach(function(be){if(g.indexOf(be)===-1){E.indexOf(be)===-1&&E.push(be);var Fe=B[le.id]+Tf(le,be);D[be.id]&&Fe>=D[be.id]||(T[be.id]=le.id,D[be.id]=Fe,B[be.id]=D[be.id]+wh(be,n,t,s,p))}})};E.length;){var ae=Z();if(Fa(ae)==="object")return ae.v}return[t,n]},Nh=function(r){var t=br(r);return t},Dh=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],s=t[n+1];o.x===a.x&&a.x===s.x||o.y===a.y&&a.y===s.y?t.splice(n,1):n++}return t},jh=function(r,t,n,o,a){var s=Nh(n),p=Nh(o),g=Ha(s,a),E=Ha(p,a),T=Ga(g,r),D=Ga(E,t);if(sT(g,E)){var B=bT(r,t,T,D);return[r,T].concat(tT(B),[D,t])}var G=yi([T,D]),Z=Mh(g,G),ae=Mh(E,G),se=[];se=se.concat($a(Z)),se=se.concat($a(ae));var le={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,Z,ae].forEach(function(ge){se=se.concat(dT(ge,le).filter(function(be){return ka(be,g)&&ka(be,E)}))}),[{x:T.x,y:D.y},{x:D.x,y:T.y}].forEach(function(ge){ka(ge,g)&&ka(ge,E)&&se.push(ge)}),se.unshift(T),se.push(D),se=Pf(se);var Ae=gT(se,T,D,s,p,r,t);return Ae.unshift(r),Ae.push(t),Ae.length>2&&(Ae=Dh(Ae)),Pf(Ae)},mT=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Yr(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var p=r[s],g=r[s+1],E=Yr(p.x,p.y,g.x,g.y);E>a&&(a=E,n=p,o=g)}t=[n,o]}return t},Ch=function(r,t,n){var o=Rn(r,n),a=Rn(t,n);return o&&a},Rh=function(r,t,n){var o=Rn(r,n),a=Rn(t,n),s=o&&a,p=o||a;return!s&&p},Ih=function(r,t,n){for(var o,a,s=br(n),p=$a(s),g=0;g<p.length;g++){var E=gi(r,t,p[g],p[(g+1)%p.length]);E&&(a=[p[g],p[(g+1)%p.length]])}return a&&(o=OP(r,t,a[0],a[1])),o},Xa=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Ao=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),s=xf(a,2),p=s[0],g=s[1];n.push({x:Number(p),y:Number(g)})}),n},bT=function(r,t,n,o){var a=[],s=Xa(r,n),p=Xa(t,o);if(s===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=pi(g,r,n),T=pi(g,t,o);if(E||T)g={x:o.x,y:n.y};else{var D=_h(g,r,n),B=_h(g,t,o);D&&B&&(g={x:o.x,y:n.y})}a.push(g)}return a},_h=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Bh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},OT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},s=vi(za(za({},a),{},{type:"start"})),p=vi(za(za({},a),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Lh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,s=r.offset,p=br(o),g=br(a),E=Ha(p,s),T=Ha(g,s),D=Ga(E,t),B=Ga(T,n);return{sNext:D,ePre:B}},Ua=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ya(t[0]),o=Ya(t[1]),a=Ya(t[2]),s=Ya(t[3]);return[n,o,a,s]},Ya=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=xf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},ET=function(r){var t=Ua(r);return[t[2],t[3]]},zh=function(r,t){for(var n=r.x,o=r.y,a=Ao(t),s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});if(g.forEach(function(G){var Z=G.start,ae=G.end;if(Z.x===ae.x){var se={x:Z.x,y:o},le=pi(se,Z,ae);if(le){var Ae=Math.abs(Z.x-n);Ae<s&&(s=Ae,p=se)}}else if(Z.y===ae.y){var ge={x:n,y:Z.y},be=pi(ge,Z,ae);if(be){var Fe=Math.abs(Z.y-o);Fe<s&&(s=Fe,p=ge)}}}),!p){var T=g[0],D=T.start,B=T.end;p={x:D.x+(B.x-D.x)/2,y:D.y+(B.y-D.y)/2}}return p},xT=function(r){return ci(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Fh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function ST(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function PT(){}var No=PT;function TT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MT(e,r,t){return r&&Hh(e.prototype,r),t&&Hh(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wr=window.document,Gh=0;function Mf(e){var r=e.onDragStart,t=r===void 0?No:r,n=e.onDraging,o=n===void 0?No:n,a=e.onDragEnd,s=a===void 0?No:a,p=e.step,g=p===void 0?1:p,E=e.isStopPropagation,T=E===void 0?!0:E,D=!1,B=!1,G=0,Z=0,ae=0,se=0;function le(be){if(T&&be.stopPropagation(),!!B&&(D=!0,ae+=be.clientX-G,se+=be.clientY-Z,G=be.clientX,Z=be.clientY,Math.abs(ae)>g||Math.abs(se)>g)){var Fe=ae%g,Re=se%g,Ze=ae-Fe,He=se-Re;ae=Fe,se=Re,o({deltaX:Ze,deltaY:He,event:be})}}function Ae(be){if(T&&be.stopPropagation(),B=!1,Wr.removeEventListener("mousemove",le,!1),Wr.removeEventListener("mouseup",Ae,!1),!!D)return D=!1,s({event:be})}function ge(be){if(be.button===Gh)return T&&be.stopPropagation(),B=!0,G=be.clientX,Z=be.clientY,Wr.addEventListener("mousemove",le,!1),Wr.addEventListener("mouseup",Ae,!1),t({event:be})}return ge}var no=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?No:n,a=r.onDraging,s=a===void 0?No:a,p=r.onDragEnd,g=p===void 0?No:p,E=r.eventType,T=E===void 0?"":E,D=r.eventCenter,B=D===void 0?null:D,G=r.step,Z=G===void 0?1:G,ae=r.isStopPropagation,se=ae===void 0?!0:ae,le=r.model,Ae=le===void 0?null:le;TT(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===Gh){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Wr.addEventListener("mousemove",t.handleMouseMove,!1),Wr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,He=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var ur,Er;t.onDraging({deltaX:Ze,deltaY:He,event:ge}),(ur=t.eventCenter)===null||ur===void 0||ur.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(Er=t.eventCenter)===null||Er===void 0||Er.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),zt(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),zt(this,"cancelDrag",function(){Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=g,this.step=Z,this.isStopPropagation=se,this.eventType=T,this.eventCenter=B,this.model=Ae}return MT(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),wT=function(r){return!r||typeof r=="boolean"?jt(r===!0?wP:Yp):Rp(jt(Yp),r)},de,$h,kh,Xh,Uh,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh;function ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ev(Object(t),!0).forEach(function(n){Kr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wf(e,r){return DT(e)||NT(e,r)||tv(e,r)||AT()}function AT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function DT(e){if(Array.isArray(e))return e}function Do(e){return RT(e)||CT(e)||tv(e)||jT()}function jT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tv(e,r){if(e){if(typeof e=="string")return Af(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(e,r)}}function CT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RT(e){if(Array.isArray(e))return Af(e)}function Af(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mi=function(t){return typeof t}:mi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}function Ar(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _T(e,r,t){return r&&rv(e.prototype,r),t&&rv(e,t),e}function Kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ka=200,nv=(de=function(){function e(r){IT(this,e),Kr(this,"rootEl",void 0),Ar(this,"width",$h,this),Ar(this,"height",kh,this),Kr(this,"theme",void 0),Kr(this,"eventCenter",void 0),Kr(this,"modelMap",new Map),Kr(this,"topElement",void 0),Kr(this,"animation",void 0),Kr(this,"idGenerator",void 0),Kr(this,"edgeGenerator",void 0),Kr(this,"nodeMoveRules",[]),Ar(this,"edgeType",Xh,this),Ar(this,"nodes",Uh,this),Ar(this,"edges",Yh,this),Ar(this,"overlapMode",Wh,this),Ar(this,"background",Kh,this),Ar(this,"transformModel",Vh,this),Ar(this,"editConfigModel",Zh,this),Ar(this,"gridSize",Jh,this),Ar(this,"partial",Qh,this),Ar(this,"fakerNode",qh,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,s=r.idGenerator,p=r.edgeGenerator,g=r.animation;this.background=o,mi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new up(r),this.eventCenter=new aP,this.transformModel=new Ux(this.eventCenter),this.theme=Ip(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=wT(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=ST(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return _T(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Do(this.nodes),Do(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,E){return g.zIndex-E.zIndex});for(var n=[],o=[-Ka,-Ka],a=[this.width+Ka,this.height+Ka],s=0;s<t.length;s++){var p=t[s];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],g=[];this.nodes.forEach(function(D){return g.push(D)}),this.edges.forEach(function(D){return g.push(D)});for(var E=0;E<g.length;E++){var T=g[E];(!s||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),s={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),g=wf(p,2),E=g[0],T=g[1];return{domOverlayPosition:s,canvasOverlayPosition:{x:E,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Ht.NODE){t=t;for(var p=br(t),g=p.minX,E=p.minY,T=p.maxX,D=p.maxY,B=[{x:g,y:E},{x:T,y:E},{x:T,y:D},{x:g,y:D}],G=s,Z=0;Z<B.length;Z++){var ae=B[Z],se=ae.x,le=ae.y,Ae=this.transformModel.CanvasPointToHtmlPoint([se,le]),ge=wf(Ae,2);if(se=ge[0],le=ge[1],sf([se,le],n,o)!==s){G=!s;break}}return G}if(t.BaseType===Ht.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),He=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=sf(Ze,n,o),yt=sf(He,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Ta(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点。"));var s=o.x,p=o.y;return s&&p&&(o.x=Cn(s,n.gridSize),o.y=Cn(p,n.gridSize),mi(o.text)==="object"&&(o.text.x-=Bp(s,n.gridSize),o.text.y-=Bp(p,n.gridSize))),new a(o,n)}),this.edges=Ta(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var s=!1,p=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){s=!0;break}else p.push(E.getHistoryData())}return s?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(s||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Ht.NODE&&o.nodes.push(a.getData()),a.BaseType===Ht.EDGE){var s=a.getData(),p=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||p)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=ro()),this.nodesMap[n]?(console.warn("当前流程图已存在节点".concat(n,", 修改失败")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("当前流程图找不到节点".concat(n,", 修改失败")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=ro()),this.edgesMap[n]?(console.warn("当前流程图已存在边: ".concat(n,", 修改失败")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("当前流程图找不到边: ".concat(n,", 修改失败")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===mr.DEFAULT){var s;(s=this.topElement)===null||s===void 0||s.setZIndex(),a.setZIndex(zx),this.topElement=a}this.overlapMode===mr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,s=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(s){var p;typeof n=="number"&&(p=n),n==="top"&&(p=hf()),n==="bottom"&&(p=jP()),s.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=qt(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("找不到".concat(n.type,"对应的节点，请确认是否已注册此类型节点。"));n.x=Cn(n.x,this.gridSize),n.y=Cn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("不存在id为".concat(t,"的节点"));return}var p=s.model,g=p.getMoveDistance(n,o,a),E=wf(g,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("不存在id为".concat(t,"的节点"));return}var p=s.model,g=p.x,E=p.y,T=n-g,D=o-E;this.moveNode(t,T,D,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=qt(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var s=new a(Wa(Wa({},n),{},{type:o}),this),p=s.getData();return this.edges.push(s),this.eventCenter.emit(it.EDGE_ADD,{data:p}),s}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var s=this.edges[a],p=s.textPosition,g=p.x,E=p.y,T=this.edges[a].sourceNodeId===t,D=this.edges[a].targetNodeId===t;if(T&&s.moveStartPoint(n,o),D&&s.moveEndPoint(n,o),T||D){var B;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===pt.POLYLINE_EDGE&&(B=s.text)!==null&&B!==void 0&&B.value){var G=s.text,Z=zh(G,s.points);s.moveText(Z.x-G.x,Z.y-G.y)}else{var ae=s.textPosition,se=ae.x,le=ae.y;s.moveText(se-g,le-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===mr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("找不到id为".concat(t,"的节点"));return}var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var p=new s(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var g=this.getNodeEdges(t);g.forEach(function(E){if(E.sourceNodeId===t){var T=Xp(p,E.startPoint,p.width,p.height);E.updateStartPoint(T)}if(E.targetNodeId===t){var D=Xp(p,E.endPoint,p.width,p.height);E.updateEndPoint(D)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("找不到id为".concat(t,"的边"));return}if(o.type!==n){var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete a.pointsList;var p=new s(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Ip(Wa(Wa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var Z=G.x,ae=G.y,se=G.width,le=G.height,Ae=G.getNodeStyle(),ge=Ae.strokeWidth,be=ge===void 0?0:ge;n=n.concat([Z+se/2+be,Z-se/2-be]),o=o.concat([ae+le/2+be,ae-le/2-be])});var a=Math.min.apply(Math,Do(n)),s=Math.max.apply(Math,Do(n)),p=Math.min.apply(Math,Do(o)),g=Math.max.apply(Math,Do(o)),E=s-a||0,T=g-p||0,D=a+E/2,B=p+T/2;return{virtualRectWidth:E,virtualRectHeight:T,virtualRectCenterPositionX:D,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,s=this.transformModel;if(t.length){var p=n||a.clientWidth,g=o||a.clientHeight,E=this.getVirtualRectSize(),T=E.virtualRectCenterPositionX,D=E.virtualRectCenterPositionY;s.focusOn(T,D,p,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(o.length){var E=a||p.clientWidth,T=s||p.clientHeight,D=this.getVirtualRectSize(),B=D.virtualRectWidth,G=D.virtualRectHeight,Z=D.virtualRectCenterPositionX,ae=D.virtualRectCenterPositionY,se=(B+n)/E,le=(G+t)/T,Ae=0;Ae=1/Math.max(se,le);var ge=[E/2,T/2];g.zoom(Ae,ge),g.focusOn(Z,ae,E,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),$h=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yh=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mr.DEFAULT}}),Kh=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qh=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qh=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),BT=nv;function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}var ov;function Nf(){return Nf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nf.apply(this,arguments)}function LT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zT(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function FT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function HT(e){var r=$T();return function(){var n=Za(e),o;if(r){var a=Za(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GT(this,o)}}function GT(e,r){if(r&&(Va(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kT=Gr(ov=function(e){FT(t,e);var r=HT(t);function t(n){var o;LT(this,t),o=r.call(this),cn(Vr(o),"stepDrag",void 0),cn(Vr(o),"stepScrollX",0),cn(Vr(o),"stepScrollY",0),cn(Vr(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY;o.setState({isDraging:!0});var D=o.props.graphModel,B=D.transformModel,G=D.editConfigModel;G.stopMoveGraph||B.translate(E,T)}),cn(Vr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Vr(o),"zoomHandler",function(g){var E=o.props,T=E.graphModel,D=T.editConfigModel,B=T.transformModel,G=T.gridSize,Z=E.graphModel,ae=g.deltaX,se=g.deltaY;if(!D.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=ae,o.stepScrollY+=se,Math.abs(o.stepScrollX)>=G){var le=o.stepScrollX%G,Ae=o.stepScrollX-le;B.translate(-Ae*B.SCALE_X,0),o.stepScrollX=le}if(Math.abs(o.stepScrollY)>=G){var ge=o.stepScrollY%G,be=o.stepScrollY-ge;B.translate(0,-be*B.SCALE_Y),o.stepScrollY=ge}return}if(!D.stopZoomGraph){g.preventDefault();var Fe=Z.getPointByClient({x:g.clientX,y:g.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,He=Re.y;B.zoom(g.deltaY<0,[Ze,He])}}),cn(Vr(o),"clickHandler",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,D=T.selectElements;D.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:g})}}),cn(Vr(o),"handleContextMenu",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){g.preventDefault();var T=o.props.graphModel,D=T.getPointByClient({x:g.clientX,y:g.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:g,position:D})}}),cn(Vr(o),"mouseDownHandler",function(g){var E=o.props.graphModel,T=E.eventCenter,D=E.editConfigModel,B=E.transformModel.SCALE_X,G=E.gridSize,Z=g.target,ae=!D.adjustEdge&&!D.adjustNodePosition;(Z.getAttribute("name")==="canvas-overlay"||ae)&&(D.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(G*B),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return zT(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props,g=p.children,E=p.dnd,T=this.state.isDraging;return Object(ne.g)("svg",Nf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(ne.g)("g",{transform:s},g))}}]),t}(ne.a))||ov,XT=kT;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}var av;function UT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YT(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}function WT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function KT(e){var r=ZT();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VT(this,o)}}function VT(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sv(e)}function sv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}function JT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var QT=Gr(av=function(e){WT(t,e);var r=KT(t);function t(){var n;UT(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),JT(sv(n),"setToolOverlayRef",function(p){var g=n.props.tool,E=g.getInstance();E.components.forEach(function(T){return T(E,p)}),E.components=[]}),n}return YT(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,p=a.getTools(),g=p.map(function(E){return Object(ne.g)(E,{graphModel:s,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(ne.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(ne.a))||av;function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function qT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eM(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function tM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function rM(e){var r=iM();return function(){var n=eu(e),o;if(r){var a=eu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nM(this,o)}}function nM(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oM(e)}function oM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}var aM=function(e){tM(t,e);var r=rM(t);function t(){return qT(this,t),r.apply(this,arguments)}return eM(t,[{key:"render",value:function(){var o=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ne.a);function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var fv;function uM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sM(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function lM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function fM(e){var r=dM();return function(){var n=ru(e),o;if(r){var a=ru(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cM(this,o)}}function cM(e,r){if(r&&(tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dv(e)}function dv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}function pM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pv=Gr(fv=function(e){lM(t,e);var r=fM(t);function t(){var n;uM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),pM(dv(n),"id",ro()),n}return sM(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?2:p,E=o.size,T=o.visible,D=Math.min(Math.max(2,g),E/2),B=1;return T||(B=0),Object(ne.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:s,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?1:p,E=o.size,T=o.visible,D=Math.min(Math.max(1,g),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),G=1;return T||(G=0),Object(ne.g)("path",{d:B,stroke:s,strokeWidth:D,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,p=o.graphModel.transformModel,g=p.SCALE_X,E=p.SKEW_Y,T=p.SKEW_X,D=p.SCALE_Y,B=p.TRANSLATE_X,G=p.TRANSLATE_Y,Z=[g,E,T,D,B,G].join(","),ae="matrix(".concat(Z,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ae,x:"0",y:"0",width:s,height:s},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ne.a))||fv;pv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function hM(e,r){return mM(e)||gM(e,r)||yM(e,r)||vM()}function vM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yM(e,r){if(e){if(typeof e=="string")return hv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hv(e,r)}}function hv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mM(e){if(Array.isArray(e))return e}function bM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=hM(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=nu(a);s!=="object"&&(r[o]=a)}}),Object(ne.g)("line",r)}var oo=bM;function ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var vv;function yv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function iu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yv(Object(t),!0).forEach(function(n){OM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function EM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xM(e,r,t){return r&&gv(e.prototype,r),t&&gv(e,t),e}function SM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function PM(e){var r=wM();return function(){var n=au(e),o;if(r){var a=au(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return TM(this,o)}}function TM(e,r){if(r&&(ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MM(e)}function MM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(e)}var AM=Gr(vv=function(e){SM(t,e);var r=PM(t);function t(){return EM(this,t),r.apply(this,arguments)}return xM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,p=o.isShowVertical,g=o.getStyle(),E=a.x,T=E===void 0?0:E,D=a.y,B=D===void 0?0:D,G=iu(iu({x1:-1e5,y1:B,x2:1e5,y2:B},g),{},{stroke:s?g.stroke:"none"}),Z=iu(iu({x1:T,y1:-1e5,x2:T,y2:1e5},g),{},{stroke:p?g.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(oo,G),Object(ne.g)(oo,Z))}}]),t}(ne.a))||vv;function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function NM(e,r){return RM(e)||CM(e,r)||jM(e,r)||DM()}function DM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(e,r){if(e){if(typeof e=="string")return mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mv(e,r)}}function mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function CM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function RM(e){if(Array.isArray(e))return e}function _n(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,s=e.radius,p=r-n/2,g=t-o/2,E={};return Object.entries(e).forEach(function(T){var D=NM(T,2),B=D[0],G=D[1],Z=uu(G);Z!=="object"&&(E[B]=G)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=p,E.y=g,Object(ne.g)("rect",E)}_n.defaultProps={className:"",radius:""};function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var bv;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Ov(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ev(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ov(Object(t),!0).forEach(function(n){IM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ov(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _M(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BM(e,r,t){return r&&xv(e.prototype,r),t&&xv(e,t),e}function LM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function zM(e){var r=GM();return function(){var n=lu(e),o;if(r){var a=lu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FM(this,o)}}function FM(e,r){if(r&&(su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HM(e)}function HM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(e)}var $M=Gr(bv=function(e){LM(t,e);var r=zM(t);function t(){return _M(this,t),r.apply(this,arguments)}return BM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,s=o.editConfigModel,p=s.hoverOutline,g=s.nodeSelectedOutline,E=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var D=T.isHovered,B=T.isSelected,G=T.x,Z=T.y,ae=T.width,se=T.height;if(g&&B||p&&D){var le=T.getOutlineStyle(),Ae={};if(Object.keys(le).forEach(function(be){be!=="hover"&&(Ae[be]=le[be])}),D){var ge=le.hover;Ae=Ev(Ev({},Ae),ge)}E.push(Object(ne.g)(_n,jo({className:"lf-outline-node",x:G,y:Z,width:ae+10,height:se+10},Ae)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfigModel,p=s.edgeSelectedOutline,g=s.hoverOutline,E=[],T=0;T<a.length;T++){var D=a[T];(p&&D.isSelected||g&&D.isHovered)&&(D.modelType===pt.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===pt.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===pt.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,p=(a.x+s.x)/2,g=(a.y+s.y)/2,E=Math.abs(a.x-s.x)+10,T=Math.abs(a.y-s.y)+10,D=o.getOutlineStyle();return Object(ne.g)(_n,jo({className:"lf-outline-edge",x:p,y:g,width:E,height:T},D))}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=Ao(a),p=yi(s,8),g=p.x,E=p.y,T=p.width,D=p.height,B=o.getOutlineStyle();return Object(ne.g)(_n,jo({className:"lf-outline",x:g,y:E,width:T,height:D},B))}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ua(a),p=yi(s,8),g=p.x,E=p.y,T=p.width,D=p.height,B=o.getOutlineStyle();return Object(ne.g)(_n,jo({className:"lf-outline",x:g,y:E,width:T,height:D},B))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ne.a))||bv;function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function kM(e,r){return WM(e)||YM(e,r)||UM(e,r)||XM()}function XM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UM(e,r){if(e){if(typeof e=="string")return Sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sv(e,r)}}function Sv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WM(e){if(Array.isArray(e))return e}function bi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,s=a===void 0?4:a,p=e.className,g={cx:t,cy:o,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var T=kM(E,2),D=T[0],B=T[1],G=fu(B);G!=="object"&&(g[D]=B)}),p?g.className="lf-basic-shape ".concat(p):g.className="lf-basic-shape",Object(ne.g)("circle",g)}function cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var Pv;function KM(e,r){return QM(e)||JM(e,r)||ZM(e,r)||VM()}function VM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZM(e,r){if(e){if(typeof e=="string")return Tv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tv(e,r)}}function Tv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QM(e){if(Array.isArray(e))return e}function Oi(){return Oi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oi.apply(this,arguments)}function Mv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Av(e,r,t){return r&&wv(e.prototype,r),t&&wv(e,t),e}function Nv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function Dv(e){var r=ew();return function(){var n=pu(e),o;if(r){var a=pu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qM(this,o)}}function qM(e,r){if(r&&(cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return du(e)}function du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}function Lf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var jv=function(e){Nv(t,e);var r=Dv(t);function t(){var n;return Mv(this,t),n=r.call(this),Lf(du(n),"dragHandler",void 0),Lf(du(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.bezierModel,E=s.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),D=T.canvasOverlayPosition,B=D.x,G=D.y;g.updateAdjustAnchor({x:B,y:G},E)}),Lf(du(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new no({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Av(t,[{key:"render",value:function(){var o=this,a=this.props.position,s=a.x,p=a.y,g=this.props.bezierModel,E=g.getEdgeStyle(),T=E.adjustAnchor;return Object(ne.g)(bi,Oi({className:"lf-bezier-adjust-anchor",x:s,y:p},T,{onMouseDown:function(B){o.dragHandler.handleMouseDown(B)}}))}}]),t}(ne.a),tw=Gr(Pv=function(e){Nv(t,e);var r=Dv(t);function t(){return Mv(this,t),r.apply(this,arguments)}return Av(t,[{key:"getBezierAdjust",value:function(o,a){var s=o.path,p=o.id,g=Ua(s),E=KM(g,4),T=E[0],D=E[1],B=E[2],G=E[3],Z=o.getEdgeStyle(),ae=Z.adjustLine,se=[];return se.push(Object(ne.g)(oo,Oi({x1:T.x,y1:T.y,x2:D.x,y2:D.y},ae))),se.push(Object(ne.g)(jv,{position:D,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),se.push(Object(ne.g)(oo,Oi({x1:G.x,y1:G.y,x2:B.x,y2:B.y},ae))),se.push(Object(ne.g)(jv,{position:B,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),se}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,s=[],p=0;p<a.length;p++){var g=a[p];g.isSelected&&g.modelType===pt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,o))}return s}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ne.a))||Pv;function hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Cv;function rw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nw(e,r,t){return r&&Rv(e.prototype,r),t&&Rv(e,t),e}function ow(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function iw(e){var r=sw();return function(){var n=vu(e),o;if(r){var a=vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aw(this,o)}}function aw(e,r){if(r&&(hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(e)}function uw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}var lw=Gr(Cv=function(e){ow(t,e);var r=iw(t);function t(){return rw(this,t),r.apply(this,arguments)}return nw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:s},p))}}]),t}(ne.a))||Cv;function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var Iv;function Ff(){return Ff=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ff.apply(this,arguments)}function fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cw(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function dw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function pw(e){var r=yw();return function(){var n=gu(e),o;if(r){var a=gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hw(this,o)}}function hw(e,r){if(r&&(yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vw(e)}function vw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(e)}var gw=Gr(Iv=function(e){dw(t,e);var r=pw(t);function t(){return fw(this,t),r.apply(this,arguments)}return cw(t,[{key:"getComponent",value:function(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,g=p(o.type);return Object(ne.g)(g,{key:o.id,model:o,graphModel:a,overlay:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,p=a.tool,g=a.options,E=a.dnd,T=a.snaplineModel,D={};g.width&&(D.width="".concat(s.width,"px")),g.height&&(D.height="".concat(s.height,"px"));var B=s.fakerNode,G=s.editConfigModel,Z=G.adjustEdge;return Object(ne.g)("div",{className:"lf-graph",style:D},Object(ne.g)(XT,{graphModel:s,dnd:E},Object(ne.g)("g",{className:"lf-base"},Ta(s.sortElements,function(ae){return o.getComponent(ae,s)})),B?this.getComponent(B,s):""),Object(ne.g)(lw,{graphModel:s},Object(ne.g)($M,{graphModel:s}),Z?Object(ne.g)(tw,{graphModel:s}):"",g.snapline!==!1?Object(ne.g)(AM,{snaplineModel:T}):""),Object(ne.g)(QT,{graphModel:s,tool:p}),g.background&&Object(ne.g)(aM,{background:g.background}),g.grid&&Object(ne.g)(pv,Ff({},g.grid,{graphModel:s})))}}]),t}(ne.a))||Iv,mw=gw;function Bv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function mu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ow(e,r,t){return r&&Lv(e.prototype,r),t&&Lv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ew=function(){function e(r){var t=this;bw(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(mu(mu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),s=a.x,p=a.y;t.fakerNode.moveTo(s,p);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:g})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(mu(mu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:s,e:o})}});var n=r.lf;this.lf=n}return Ow(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Rd(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:n,y:o}),p=s.canvasOverlayPosition,g=p.x,E=p.y;return{x:Cn(g,a),y:Cn(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function zv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("请检查 container 参数是否有效");if(typeof n=="string"||typeof o=="string")throw new Error("width或height不支持传入字符串，请传数字");return t&&(e.grid=nr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),nr({},Fv,e)}var Fv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(t){return typeof t}:bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var gt,Hv;function Gf(e,r){return Tw(e)||Pw(e,r)||Sw(e,r)||xw()}function xw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(e,r){if(e){if(typeof e=="string")return Gv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gv(e,r)}}function Gv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Pw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Tw(e){if(Array.isArray(e))return e}function $v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$v(Object(t),!0).forEach(function(n){Xv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Aw(e,r,t){return r&&kv(e.prototype,r),t&&kv(e,t),e}function Co(){return typeof Reflect<"u"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=Nw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function Nw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bn(e),e!==null););return e}function Dw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return $f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$f(e,r)}function jw(e){var r=Rw();return function(){var n=Bn(e),o;if(r){var a=Bn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Cw(this,o)}}function Cw(e,r){if(r&&(bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bn(e)}function Xv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(gt=function(e){Dw(t,e);var r=jw(t);function t(){var n;ww(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Xv(Eu(n),"modelType",pt.BEZIER_EDGE),Mw(Eu(n),"path",Hv,Eu(n)),n}return Aw(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(Bn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(Bn(t.prototype),"getEdgeStyle",this).call(this);return Ou(Ou({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var p=s.x,g=s.y;o+=p,a+=g}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(Bn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return Ou(Ou({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,s=Lh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return s}},{key:"getPath",value:function(o){var a=Gf(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,s=o.ePre;this.updatePath(a,s)}},{key:"updatePath",value:function(o,a){var s={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var g=this.getControls();o=g.sNext,a=g.ePre}this.pointsList=[s,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var s=Gf(this.pointsList,3),p=s[1],g=s[2];p.x+=o,p.y+=a,this.updatePath(p,g)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var s=Gf(this.pointsList,3),p=s[1],g=s[2];g.x+=o,g.y+=a,this.updatePath(p,g)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=Lh({start:a,end:s,sourceNode:p,targetNode:g,offset:this.offset}),T=E.sNext,D=E.ePre;this.pointsList=[a,T,D,s],this.initPoints()}}]),t}(yf),Hv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function Iw(e){return e==null}var _w=Iw,Ce,Uv,Yv,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly;function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Bw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Lw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){s=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw p}}}}function Lw(e,r){if(e){if(typeof e=="string")return fy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fy(e,r)}}function fy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cy(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $t(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fw(e,r,t){return r&&dy(e.prototype,r),t&&dy(e,t),e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ce=function(){function e(r,t){zw(this,e),cr(this,"id",ro()),$t(this,"type",Uv,this),$t(this,"x",Yv,this),$t(this,"y",Wv,this),$t(this,"text",Kv,this),$t(this,"properties",Vv,this),$t(this,"_width",Zv,this),$t(this,"_height",Jv,this),$t(this,"anchorsOffset",Qv,this),$t(this,"isSelected",qv,this),$t(this,"isHovered",ey,this),$t(this,"isShowAnchor",ty,this),$t(this,"isDragging",ry,this),$t(this,"isHitable",ny,this),$t(this,"draggable",oy,this),$t(this,"visible",iy,this),cr(this,"virtual",!1),cr(this,"graphModel",void 0),$t(this,"zIndex",ay,this),$t(this,"state",uy,this),$t(this,"autoToFront",sy,this),$t(this,"style",ly,this),cr(this,"BaseType",Ht.NODE),cr(this,"modelType",pt.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Fw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),nr(this,MP(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||hf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s=this.properties;Object(f.x)(s)&&(s=Object(f.I)(s));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===mr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ir(ir({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,this,t,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,t,this,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules),p=Bw(s),g;try{for(p.s();!(g=p.n()).done;){var E=g.value,T=E(this,t,n);if(!T)return!1;if(xu(T)==="object"){var D=T;if(D.x===!1&&D.y===!1)return!1;o=o&&D.x,a=a&&D.y}}}catch(B){p.e(B)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(s,p){return s.length?(s=s,{id:"".concat(n,"_").concat(p),x:o+s[0],y:a+s[1]}):(s=s,ir(ir({},s),{},{x:o+s.x,y:a+s.y,id:s.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!_w(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1;if(o)a=!0,s=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,s=p):(a=p.x,s=p.y)}if(a){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(s){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||s}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1,p=0,g=0;if(o)a=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,s=E):(a=E.x,s=E.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(s&&n){var D=this.y+n;this.y=D,this.text&&this.moveText(0,n),g=n}return[p,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,s=n-this.y;return!o&&!this.isAllowMoveNode(a,s)?!1:(this.text&&this.text&&this.moveText(a,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:g,x:a+t,y:s+n}}},{key:"updateText",value:function(t){this.text=ir(ir({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ir(ir({},this.properties),{},cr({},t,qt(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ir(ir({},this.properties),qt(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ir(ir({},this.style),{},cr({},t,qt(n)))}},{key:"setStyles",value:function(t){this.style=ir(ir({},this.style),qt(t))}},{key:"updateStyles",value:function(t){this.style=ir({},qt(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){nr(this,t)}}]),e}(),Uv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Vv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Jv=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Qv=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qv=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ey=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oy=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uy=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sy=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ly=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var hn,py;function hy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hy(Object(t),!0).forEach(function(n){gy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Hw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $w(e,r,t){return r&&yy(e.prototype,r),t&&yy(e,t),e}function Pu(){return typeof Reflect<"u"&&Reflect.get?Pu=Reflect.get:Pu=function(r,t,n){var o=kw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Pu.apply(this,arguments)}function kw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function Xw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function Uw(e){var r=Ww();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Yw(this,o)}}function Yw(e,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tu(e)}function Tu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ww(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function gy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Uf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yf=(hn=function(e){Xw(t,e);var r=Uw(t);function t(){var n;Gw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),gy(Tu(n),"modelType",pt.CIRCLE_NODE),Hw(Tu(n),"r",py,Tu(n)),n}return $w(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Pu(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return vy(vy({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.r;return[{x:o,y:a-s,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+s,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),py=Uf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Uf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var er,my,by;function Wf(e,r){return Jw(e)||Zw(e,r)||Vw(e,r)||Kw()}function Kw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vw(e,r){if(e){if(typeof e=="string")return Oy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oy(e,r)}}function Oy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Zw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Jw(e){if(Array.isArray(e))return e}function Ey(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ey(Object(t),!0).forEach(function(n){Ty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ey(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sy(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Qw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Py(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qw(e,r,t){return r&&Py(e.prototype,r),t&&Py(e,t),e}function wu(){return typeof Reflect<"u"&&Reflect.get?wu=Reflect.get:wu=function(r,t,n){var o=eA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wu.apply(this,arguments)}function eA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function tA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kf(e,r)}function rA(e){var r=oA();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nA(this,o)}}function nA(e,r){if(r&&(Mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function Ty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Vf=(er=function(e){tA(t,e);var r=rA(t);function t(){var n;Qw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Ty(Io(n),"modelType",pt.DIAMOND_NODE),Sy(Io(n),"rx",my,Io(n)),Sy(Io(n),"ry",by,Io(n)),n}return qw(t,[{key:"getNodeStyle",value:function(){var o=wu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return xy(xy({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[[o,a-p],[o+s,a],[o,a+p],[o-s,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,s){var p=Wf(a,2),g=p[0],E=p[1];return{x:g,y:E,id:"".concat(o.id,"_").concat(s)}})}}]),t}(pn),my=Bo(er.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),by=Bo(er.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bo(er.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"points"),er.prototype),Bo(er.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"pointsPosition"),er.prototype),Bo(er.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"width"),er.prototype),Bo(er.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"height"),er.prototype),er);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var Zr,My,wy;function Ay(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ny(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ay(Object(t),!0).forEach(function(n){Cy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ay(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Dy(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function iA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aA(e,r,t){return r&&jy(e.prototype,r),t&&jy(e,t),e}function Nu(){return typeof Reflect<"u"&&Reflect.get?Nu=Reflect.get:Nu=function(r,t,n){var o=uA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Nu.apply(this,arguments)}function uA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function sA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function lA(e){var r=cA();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fA(this,o)}}function fA(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Cy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Du(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(Zr=function(e){sA(t,e);var r=lA(t);function t(){var n;iA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Cy(Lo(n),"modelType",pt.ELLIPSE_NODE),Dy(Lo(n),"rx",My,Lo(n)),Dy(Lo(n),"ry",wy,Lo(n)),n}return aA(t,[{key:"getNodeStyle",value:function(){var o=Nu(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Ny(Ny({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),My=Du(Zr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),wy=Du(Zr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Du(Zr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Du(Zr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ju=function(t){return typeof t}:ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}var Nr,Ry;function Qf(e,r){return vA(e)||hA(e,r)||pA(e,r)||dA()}function dA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pA(e,r){if(e){if(typeof e=="string")return Iy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Iy(e,r)}}function Iy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function vA(e){if(Array.isArray(e))return e}function _y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function By(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_y(Object(t),!0).forEach(function(n){zy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function yA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function gA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ly(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mA(e,r,t){return r&&Ly(e.prototype,r),t&&Ly(e,t),e}function Cu(){return typeof Reflect<"u"&&Reflect.get?Cu=Reflect.get:Cu=function(r,t,n){var o=bA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Cu.apply(this,arguments)}function bA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function OA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function EA(e){var r=SA();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return xA(this,o)}}function xA(e,r){if(r&&(ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ru(e)}function Ru(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function zy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Iu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=(Nr=function(e){OA(t,e);var r=EA(t);function t(){var n;gA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),zy(Ru(n),"modelType",pt.POLYGON_NODE),yA(Ru(n),"points",Ry,Ru(n)),n}return mA(t,[{key:"getNodeStyle",value:function(){var o=Cu(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return By(By({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,p=this.height,g=this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+a-p/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,s=this.y,p=this.width,g=this.height,E=this.points;return E.map(function(T,D){var B=Qf(T,2),G=B[0],Z=B[1];return{x:a+G-p/2,y:s+Z-g/2,id:"".concat(o.id,"_").concat(D)}})}}]),t}(pn),Ry=Iu(Nr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Iu(Nr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"pointsPosition"),Nr.prototype),Iu(Nr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),Iu(Nr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}var tc,Fy;function Hy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hy(Object(t),!0).forEach(function(n){ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function TA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MA(e,r,t){return r&&$y(e.prototype,r),t&&$y(e,t),e}function Bu(){return typeof Reflect<"u"&&Reflect.get?Bu=Reflect.get:Bu=function(r,t,n){var o=wA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Bu.apply(this,arguments)}function wA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function AA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function NA(e){var r=jA();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DA(this,o)}}function DA(e,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lu(e)}function Lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CA(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var nc=(tc=function(e){AA(t,e);var r=NA(t);function t(){var n;TA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),ky(Lu(n),"modelType",pt.RECT_NODE),PA(Lu(n),"radius",Fy,Lu(n)),n}return MA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Bu(Ho(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Gy(Gy({},o),jt(a))}}]),t}(pn),Fy=CA(tc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tc);function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}var Ln;function Xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xy(Object(t),!0).forEach(function(n){Ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IA(e,r,t){return r&&Yy(e.prototype,r),t&&Yy(e,t),e}function Fu(){return typeof Reflect<"u"&&Reflect.get?Fu=Reflect.get:Fu=function(r,t,n){var o=_A(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Fu.apply(this,arguments)}function _A(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function BA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function LA(e){var r=FA();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zA(this,o)}}function zA(e,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wy(e)}function Wy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ic=(Ln=function(e){BA(t,e);var r=LA(t);function t(){var n;RA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Ky(Wy(n),"modelType",pt.TEXT_NODE),n}return IA(t,[{key:"getTextStyle",value:function(){var o=Fu(Go(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Uy(Uy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=pf({rows:o,fontSize:s,rowsLength:o.length}),g=p.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=pf({rows:o,fontSize:s,rowsLength:o.length}),g=p.height;return g}}]),t}(pn),Vy(Ln.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Ln.prototype,"width"),Ln.prototype),Vy(Ln.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Ln.prototype,"height"),Ln.prototype),Ln);function Hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function HA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GA(e,r,t){return r&&Zy(e.prototype,r),t&&Zy(e,t),e}function $A(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function kA(e){var r=UA();return function(){var n=Gu(e),o;if(r){var a=Gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XA(this,o)}}function XA(e,r){if(r&&(Hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jy(e)}function Jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function YA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uc=function(e){$A(t,e);var r=kA(t);function t(){var n;HA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),YA(Jy(n),"modelType",pt.HTML_NODE),n}return GA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Br,Qy,qy,eg;function tg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function WA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tg(Object(t),!0).forEach(function(n){ng(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sc(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function KA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VA(e,r,t){return r&&rg(e.prototype,r),t&&rg(e,t),e}function ng(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ei(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var og=(Br=function(){function e(r){KA(this,e),ng(this,"graphModel",void 0),sc(this,"isShowHorizontal",Qy,this),sc(this,"isShowVertical",qy,this),sc(this,"position",eg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return VA(e,[{key:"getStyle",value:function(){return WA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,s=!1,p=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(s=!0),a===E.y&&(p=!0),s&&p))break}return{isShowVertical:s,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=br(g);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var B=br(D);if(B.minY===p.minY||B.maxY===p.minY){o=!0,a=p.minY;break}if(B.minY===p.maxY||B.maxY===p.maxY){o=!0,a=p.maxY;break}}}return nr({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=br(g);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var B=br(D);if(B.minX===p.minX||B.maxX===p.minX){o=!0,a=p.minX;break}if(B.minX===p.maxX||B.maxX===p.maxX){o=!0,a=p.maxX;break}}}return nr({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!s){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),Qy=Ei(Br.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qy=Ei(Br.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=Ei(Br.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei(Br.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),Ei(Br.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),xi=new Map,ig=function(r){var t=ro();function n(){r();var a=xi.get(t);if(a){var s=window.requestAnimationFrame(n);xi.set(t,s)}}var o=window.requestAnimationFrame(n);return xi.set(t,o),t},$u=function(r){var t=xi.get(r);t&&(window.cancelAnimationFrame(t),xi.delete(r))};function ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Si(){return Si=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Si.apply(this,arguments)}function ag(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ag(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ag(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ZA(e,r){return e1(e)||qA(e,r)||QA(e,r)||JA()}function JA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QA(e,r){if(e){if(typeof e=="string")return ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ug(e,r)}}function ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function e1(e){if(Array.isArray(e))return e}function t1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r1(e,r,t){return r&&sg(e.prototype,r),t&&sg(e,t),e}function n1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},lc(e,r)}function o1(e){var r=a1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return i1(this,o)}}function i1(e,r){if(r&&(ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u1=function(e){n1(t,e);var r=o1(t);function t(){var n;return t1(this,t),n=r.call(this),Qr(Jr(n),"preTargetNode",void 0),Qr(Jr(n),"sourceRuleResults",void 0),Qr(Jr(n),"targetRuleResults",void 0),Qr(Jr(n),"dragHandler",void 0),Qr(Jr(n),"t",void 0),Qr(Jr(n),"onDragStart",function(o){var a=o.event,s=n.props,p=s.anchorData,g=s.nodeModel,E=s.graphModel,T=E.overlapMode;E.selectNodeById(g.id),T!==mr.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:g}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),Qr(Jr(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,T=p.transformModel,D=p.eventCenter,B=p.width,G=p.height,Z=p.editConfigModel,ae=Z.autoExpand,se=Z.stopMoveGraph,le=a.clientX,Ae=a.clientY,ge=p.getPointByClient({x:le,y:Ae}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,He=Ze.x,ht=Ze.y;n.t&&$u(n.t);var yt=[],ur=10;Fe<10?yt=[ur,0]:Fe+10>B?yt=[-ur,0]:Re<10?yt=[0,ur]:Re+10>G&&(yt=[0,-ur]),n.setState({endX:He,endY:ht,draging:!0}),n.moveAnchorEnd(He,ht),yt.length>0&&!se&&ae&&(n.t=ig(function(){var Er=yt,nn=ZA(Er,2),Hn=nn[0],so=nn[1];T.translate(Hn,so);var Uo=n.state,Gn=Uo.endX,Yo=Uo.endY;n.setState({endX:Gn-Hn,endY:Yo-so}),n.moveAnchorEnd(Gn-Hn,Yo-so)})),D.emit(it.ANCHOR_DRAG,{data:E,e:a,nodeModel:g})}),Qr(Jr(n),"onDragEnd",function(o){n.t&&$u(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData;s.eventCenter.emit(it.ANCHOR_DRAGEND,{data:g,e:o,nodeModel:p})}),Qr(Jr(n),"checkEnd",function(o){var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData,E=g.x,T=g.y,D=g.id;s.edgeType;var B=n.state,G=B.endX,Z=B.endY,ae=B.draging,se=Ca({x:G,y:Z},s);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ae&&se&&se.node){var le=se.node,Ae=se.anchor.id,ge="".concat(p.id,"_").concat(le.id,"_").concat(Ae,"_").concat(D),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},He=Ze.isAllPass,ht=Ze.msg;if(Fe&&He){le.setElementState(Et.DEFAULT);var yt=s.edgeGenerator(p.getData(),s.getNodeModelById(se.node.id).getData()),ur=s.addEdge(Xu(Xu({},yt),{},{sourceNodeId:p.id,sourceAnchorId:D,startPoint:{x:E,y:T},targetNodeId:se.node.id,targetAnchorId:se.anchor.id,endPoint:{x:se.anchor.x,y:se.anchor.y}})),Er=n.props.anchorData;s.eventCenter.emit(it.ANCHOR_DROP,{data:Er,e:o,nodeModel:p,edgeModel:ur})}else{var nn=le.getData();s.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:nn,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new no({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return r1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,s=o.style,p=o.node,g=p.getAnchorShape(a);if(g)return g;var E=a.x,T=a.y,D=Xu(Xu({},s),s.hover);return Object(ne.g)("g",null,Object(ne.g)(bi,Si({className:"lf-node-anchor-hover"},D,{x:E,y:T})),Object(ne.g)(bi,Si({className:"lf-node-anchor"},s,{x:E,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var s=this.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,T=Ca({x:o,y:a},p);if(T){var D=T.node,B=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===B)return;this.preTargetNode=D;var G="".concat(g.id,"_").concat(D.id,"_").concat(B,"_").concat(E.id);if(!this.targetRuleResults.has(G)){var Z=T.anchor,ae=g.isAllowConnectedAsSource(D,E,Z),se=D.isAllowConnectedAsTarget(g,E,Z);this.sourceRuleResults.set(G,Ia(ae)),this.targetRuleResults.set(G,Ia(se))}var le=this.sourceRuleResults.get(G),Ae=le.isAllPass,ge=this.targetRuleResults.get(G),be=ge.isAllPass;Ae&&be?D.setElementState(Et.ALLOW_CONNECT):D.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,p=o.endX,g=o.endY,E=Yr(a,s,p,g);return E>10}},{key:"render",value:function(){var o=this,a=this.state,s=a.startX,p=a.startY,g=a.endX,E=a.endY,T=this.props,D=T.anchorData.edgeAddable,B=T.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(Z){D!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(oo,Si({x1:s,y1:p,x2:g,y2:E},B,{"pointer-events":"none"})))}}]),t}(ne.a),s1=u1;i(63);function lg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function l1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lg(Object(t),!0).forEach(function(n){f1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function c1(e,r){return v1(e)||h1(e,r)||p1(e,r)||d1()}function d1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1(e,r){if(e){if(typeof e=="string")return fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fg(e,r)}}function fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function v1(e){if(Array.isArray(e))return e}function cg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,s=e.fontSize,p=e.fill,g=p===void 0?"currentColor":p,E=e.overflowMode,T=E===void 0?"default":E,D=e.textWidth,B=D===void 0?"":D,G=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(be){var Fe=c1(be,2),Re=Fe[0],Ze=Fe[1],He=Yu(Ze);He!=="object"&&(Z[Re]=Ze)}),a){var ae=String(a).split(/[\r\n]/g),se=ae.length;if(T!=="default"){var le=G.BaseType,Ae=G.modelType;if(le===Ht.NODE&&Ae!==pt.TEXT_NODE||le===Ht.EDGE&&B)return y1(e)}if(se>1){var ge=ae.map(function(be,Fe){var Re=s+2,Ze=(Fe-(se-1)/2)*Re;return Object(ne.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(ne.g)("text",Z,ge)}return Object(ne.g)("text",Z,a)}}function y1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,s=e.lineHeight,p=e.wrapPadding,g=p===void 0?"0, 0":p,E=e.overflowMode,T=e.x,D=e.y,B=n.width,G=n.textHeight,Z=e.textWidth||B,ae=String(r).split(/[\r\n]/g),se=ae.length,le=Up({rows:ae,style:{fontSize:"".concat(t,"px"),width:"".concat(Z,"px"),fontFamily:a,lineHeight:s,padding:g},rowsLength:se,className:"lf-get-text-height"}),Ae=n.height>le?n.height:le;G&&(Ae=G);var ge=E==="ellipsis";return Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:Z,height:Ae,x:T-Z/2,y:D-Ae/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ae,width:Z,padding:g}},Object(ne.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:l1({},e)},ae.map(function(be){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function g1(e,r){return E1(e)||O1(e,r)||b1(e,r)||m1()}function m1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1(e,r){if(e){if(typeof e=="string")return dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dg(e,r)}}function dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function E1(e){if(Array.isArray(e))return e}function x1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S1(e,r,t){return r&&pg(e.prototype,r),t&&pg(e,t),e}function P1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function T1(e){var r=w1();return function(){var n=Ku(e),o;if(r){var a=Ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return M1(this,o)}}function M1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}function zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}function io(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hg=function(e){P1(t,e);var r=T1(t);function t(n){var o;x1(this,t),o=r.call(this),io(zn(o),"dragHandler",void 0),io(zn(o),"sumDeltaX",0),io(zn(o),"sumDeltaY",0),io(zn(o),"stepDrag",void 0),io(zn(o),"onDraging",function(p){var g=p.deltaX,E=p.deltaY,T=o.props,D=T.model,B=T.graphModel.transformModel,G=B.fixDeltaXY(g,E),Z=g1(G,2),ae=Z[0],se=Z[1];D.moveText(ae,se)}),io(zn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var g=o.props.model;g.setElementState(Et.TEXT_EDIT)}}),io(zn(o),"mouseDownHandle",function(p){var g=o.props,E=g.draggable,T=g.graphModel.editConfigModel.nodeTextDraggable;(E||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,s=n.draggable;return o.stepDrag=new no({onDraging:o.onDraging,step:1,model:a,isStopPropagation:s}),o}return S1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.text,g=s.editConfigModel,E=p.value,T=p.x,D=p.y,B=p.editable,G=p.draggable,Z={x:T,y:D,className:"",value:E};B?Z.className="lf-element-text":G||g.nodeTextDraggable?Z.className="lf-text-draggable":Z.className="lf-text-disabled";var ae=a.getTextStyle();return Object(ne.g)(cg,fc({},Z,ae,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ne.a),A1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Zu(e,r){return C1(e)||j1(e,r)||D1(e,r)||N1()}function N1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1(e,r){if(e){if(typeof e=="string")return vg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vg(e,r)}}function vg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function j1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function C1(e){if(Array.isArray(e))return e}function R1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I1(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function _1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function B1(e){var r=z1();return function(){var n=Ju(e),o;if(r){var a=Ju(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return L1(this,o)}}function L1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(e)}function ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){_1(t,e);var r=B1(t);function t(n){var o;R1(this,t),o=r.call(this),ar(tr(o),"t",void 0),ar(tr(o),"moveOffset",void 0),ar(tr(o),"stepDrag",void 0),ar(tr(o),"contextMenuTime",void 0),ar(tr(o),"startTime",void 0),ar(tr(o),"clickTimer",void 0),ar(tr(o),"onDragStart",function(E){var T=E.event,D=T.clientX,B=T.clientY,G=o.props,Z=G.model,ae=G.graphModel,se=ae.getPointByClient({x:D,y:B}),le=se.canvasOverlayPosition,Ae=le.x,ge=le.y;o.moveOffset={x:Z.x-Ae,y:Z.y-ge}}),ar(tr(o),"onDraging",function(E){var T=E.event,D=o.props,B=D.model,G=D.graphModel,Z=G.editConfigModel,ae=Z.stopMoveGraph,se=Z.autoExpand,le=G.transformModel,Ae=G.width,ge=G.height,be=G.gridSize;B.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=G.getPointByClient({x:Fe,y:Re}),He=Ze.canvasOverlayPosition,ht=He.x,yt=He.y,ur=le.CanvasPointToHtmlPoint([ht,yt]),Er=Zu(ur,2),nn=Er[0],Hn=Er[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=Cn(ht,be),yt=Cn(yt,be),!Ae||!ge){G.moveNode2Coordinate(B.id,ht,yt);return}var so=nn<0||Hn<0||nn>Ae||Hn>ge;if(!(se&&!ae&&so)){var Uo=le.CanvasPointToHtmlPoint([ht-B.width/2,yt-B.height/2]),Gn=Zu(Uo,2),Yo=Gn[0],td=Gn[1],TC=le.CanvasPointToHtmlPoint([ht+B.width/2,yt+B.height/2]),mm=Zu(TC,2),MC=mm[0],wC=mm[1],ks=Math.max(be,20),Wo=[];Yo<0?Wo=[ks,0]:MC>G.width?Wo=[-ks,0]:td<0?Wo=[0,ks]:wC>G.height&&(Wo=[0,-ks]),o.t&&$u(o.t),Wo.length>0&&!ae&&se?o.t=ig(function(){var AC=Wo,bm=Zu(AC,2),Om=bm[0],Em=bm[1];le.translate(Om,Em),G.moveNode(B.id,-Om/le.SCALE_X,-Em/le.SCALE_X)}):G.moveNode2Coordinate(B.id,ht,yt)}}),ar(tr(o),"onDragEnd",function(){o.t&&$u(o.t);var E=o.props.model;E.isDragging=!1}),ar(tr(o),"handleClick",function(E){if(o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var D=o.props,B=D.model,G=D.graphModel,Z=B.getData(),ae=G.getPointByClient({x:E.clientX,y:E.clientY}),se={data:Z,e:E,position:ae},le=E.button===2,Ae=E.detail===2;if(!le){var ge=G.editConfigModel;G.selectNodeById(B.id,zp(E,ge)),o.toFront(),Ae?(ge.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),G.setElementStateById(B.id,Et.TEXT_EDIT)),G.eventCenter.emit(it.NODE_DBCLICK,se)):(G.eventCenter.emit(it.ELEMENT_CLICK,se),G.eventCenter.emit(it.NODE_CLICK,se))}}}}),ar(tr(o),"handleContextMenu",function(E){E.preventDefault();var T=o.props,D=T.model,B=T.graphModel,G=D.getData(),Z=B.getPointByClient({x:E.clientX,y:E.clientY});B.setElementStateById(D.id,Et.SHOW_MENU,Z.domOverlayPosition),B.selectNodeById(D.id),B.eventCenter.emit(it.NODE_CONTEXTMENU,{data:G,e:E,position:Z}),o.toFront()}),ar(tr(o),"handleMouseDown",function(E){var T=o.props,D=T.model,B=T.graphModel;o.startTime=new Date().getTime();var G=B.editConfigModel;G.adjustNodePosition&&D.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ar(tr(o),"setHoverON",function(E){var T=o.props,D=T.model,B=T.graphModel;if(!D.isHovered){var G=D.getData();D.setHovered(!0),B.eventCenter.emit(it.NODE_MOUSEENTER,{data:G,e:E})}}),ar(tr(o),"setHoverOFF",function(E){var T=o.props,D=T.model,B=T.graphModel,G=D.getData();D.isHovered&&(D.setHovered(!1),B.eventCenter.emit(it.NODE_MOUSELEAVE,{data:G,e:E}))}),ar(tr(o),"onMouseOut",function(E){A1&&o.setHoverOFF(E)});var a=n.graphModel,s=a.gridSize,p=a.eventCenter,g=n.model;return o.stepDrag=new no({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:g}),o}return I1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.isSelected,E=s.isHitable,T=s.isDragging,D=s.isShowAnchor;return E&&(g||D)&&!T?Ta(s.anchors,function(B,G){var Z=s.getAnchorLineStyle(B),ae=s.getAnchorStyle(B);return Object(ne.g)(s1,{anchorData:B,node:o,style:ae,edgeStyle:Z,anchorIndex:G,nodeModel:s,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=s.editConfigModel,g=!1;return(a.text.draggable||p.nodeTextDraggable)&&(g=!0),Object(ne.g)(hg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,s=o.isDraging,p=o.isSelected,g="lf-node";switch(a){case Et.ALLOW_CONNECT:g+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return s&&(g+=" lf-isDragging"),p&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.overlapMode;p!==mr.INCREASE&&a.autoToFront&&s.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.editConfigModel,g=p.hideAnchors,E=p.adjustNodePosition,T=s.gridSize,D=s.transformModel.SCALE_X,B=a.isHitable,G=a.draggable,Z=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),ae;return B?(E&&G&&this.stepDrag.setStep(T*D),ae=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):ae=Object(ne.g)("g",{className:this.getStateClassName()},Z),ae}}],[{key:"getModel",value:function(o){return o}}]),t}(ne.a);function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function F1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function G1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function $1(e){var r=U1();return function(){var n=qu(e),o;if(r){var a=qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return k1(this,o)}}function k1(e,r){if(r&&(Qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1(e)}function X1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}var vc=function(e){G1(t,e);var r=$1(t);function t(){return F1(this,t),r.apply(this,arguments)}return H1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(_n,pc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function Y1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function K1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function V1(e){var r=Q1();return function(){var n=ts(e),o;if(r){var a=ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Z1(this,o)}}function Z1(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1(e)}function J1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var mc=function(e){K1(t,e);var r=V1(t);function t(){return Y1(this,t),r.apply(this,arguments)}return W1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.r,g=o.getNodeStyle();return Object(ne.g)(bi,yc({},g,{x:a,y:s,r:p}))}}]),t}(vn);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function q1(e,r){return nN(e)||rN(e,r)||tN(e,r)||eN()}function eN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(e,r){if(e){if(typeof e=="string")return bg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bg(e,r)}}function bg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function nN(e){if(Array.isArray(e))return e}function Og(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=q1(o,2),s=a[0],p=a[1],g=rs(p);g!=="object"&&(n[s]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ne.g)("polygon",n)}function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function oN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iN(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function aN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Oc(e,r)}function uN(e){var r=fN();return function(){var n=os(e),o;if(r){var a=os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sN(this,o)}}function sN(e,r){if(r&&(ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lN(e)}function lN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var Ec=function(e){aN(t,e);var r=uN(t);function t(){return oN(this,t),r.apply(this,arguments)}return iN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.width,g=o.height,E=o.points,T=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(s-g/2,")")};return Object(ne.g)("g",D,Object(ne.g)(Og,bc({},T,{points:E,x:a,y:s})))}}]),t}(vn);function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function xc(){return xc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xc.apply(this,arguments)}function cN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function pN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function hN(e){var r=gN();return function(){var n=as(e),o;if(r){var a=as(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vN(this,o)}}function vN(e,r){if(r&&(is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yN(e)}function yN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(e)}var Pc=function(e){pN(t,e);var r=hN(t);function t(){return cN(this,t),r.apply(this,arguments)}return dN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(Og,xc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function mN(e,r){return xN(e)||EN(e,r)||ON(e,r)||bN()}function bN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ON(e,r){if(e){if(typeof e=="string")return Sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,r)}}function Sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function EN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xN(e){if(Array.isArray(e))return e}function SN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,s=a===void 0?4:a,p=e.ry,g=p===void 0?4:p,E=e.className,T={cx:t,cy:o,rx:s,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(D){var B=mN(D,2),G=B[0],Z=B[1],ae=us(Z);ae!=="object"&&(T[G]=Z)}),E?T.className="lf-basic-shape ".concat(E):T.className="lf-basic-shape",Object(ne.g)("ellipse",T)}function ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(t){return typeof t}:ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function PN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TN(e,r,t){return r&&Pg(e.prototype,r),t&&Pg(e,t),e}function MN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mc(e,r)}function wN(e){var r=DN();return function(){var n=ls(e),o;if(r){var a=ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return AN(this,o)}}function AN(e,r){if(r&&(ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NN(e)}function NN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(e)}var wc=function(e){MN(t,e);var r=wN(t);function t(){return PN(this,t),r.apply(this,arguments)}return TN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(SN,Tc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Tg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tg(Object(t),!0).forEach(function(n){jN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RN(e,r,t){return r&&wg(e.prototype,r),t&&wg(e,t),e}function IN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function _N(e){var r=zN();return function(){var n=cs(e),o;if(r){var a=cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BN(this,o)}}function BN(e,r){if(r&&(fs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LN(e)}function LN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}var Nc=function(e){IN(t,e);var r=_N(t);function t(){return CN(this,t),r.apply(this,arguments)}return RN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text;if(s&&s.value&&a.background&&a.background.fill!=="transparnet"){var p=s.x,g=s.y,E=o.width,T=o.height,D=Mg(Mg({},a.background),{},{x:p,y:g-1,width:E,height:T});return Object(ne.g)(_n,D)}}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackground())}}]),t}(vn);function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function FN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function GN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function $N(e){var r=XN();return function(){var n=ps(e),o;if(r){var a=ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kN(this,o)}}function kN(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function hs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cc=function(e){GN(t,e);var r=$N(t);function t(){var n;FN(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),hs(Pi(n),"ref",void 0),hs(Pi(n),"currentProperties",void 0),hs(Pi(n),"preProperties",void 0),hs(Pi(n),"setRef",function(p){n.ref=p}),n}return HN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ne.g)("foreignObject",Dc({},E,{x:a-g/2,y:s-p/2,width:g,height:p,ref:this.setRef}))}}]),t}(vn);function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Rc(){return Rc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Rc.apply(this,arguments)}function Ng(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ao(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ng(Object(t),!0).forEach(function(n){Bc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ng(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function UN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YN(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function WN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function KN(e){var r=ZN();return function(){var n=ys(e),o;if(r){var a=ys(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VN(this,o)}}function VN(e,r){if(r&&(vs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}function _c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(e)}function Bc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var JN=function(e){WN(t,e);var r=KN(t);function t(n){var o;return UN(this,t),o=r.call(this,n),Bc(_c(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Bc(_c(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return YN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text,p=a.background||{},g=this.state.isHoverd;if(g&&a.hover&&a.hover.background&&(p=ao(ao({},p),a.hover.background)),s&&s.value&&p.fill!=="transparent"){var E=a.fontSize,T=a.overflowMode,D=a.lineHeight,B=a.wrapPadding,G=a.textWidth,Z=s.value,ae=s.x,se=s.y,le=String(Z).split(/[\r\n]/g),Ae=le.length,ge;if(T==="autoWrap"&&G){var be=Up({rows:le,style:{fontSize:"".concat(E,"px"),width:"".concat(G,"px"),lineHeight:D,padding:B},rowsLength:Ae,className:"lf-get-text-height"});ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:G,height:be})}else{le&&le.forEach(function(ht){Bh(ht)});var Fe=pf({rows:le,fontSize:E,rowsLength:Ae}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var He=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});He.length>0&&He.length<=4&&(He.length===1?He=[He[0],He[0],He[0],He[0]]:He.length===2?He=[He[0],He[1],He[0],He[1]]:He.length===3&&(He=[He[0],He[1],He[2],He[1]]),Re+=He[1]+He[3],Ze+=He[0]+He[2],ae=ae+(He[1]-He[3])/2,se=se+(He[2]-He[0])/2)}ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:Re,height:Ze})}return Object(ne.g)(_n,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,s=a.value,p=a.x,g=a.y;if(s){var E=o.getTextStyle(),T=ao({x:p,y:g,className:"lf-element-text",value:s},E);return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ne.g)(cg,Rc({},T,{model:o})))}}}]),t}(hg);function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QN(e,r){return rD(e)||tD(e,r)||eD(e,r)||qN()}function qN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(e,r){if(e){if(typeof e=="string")return Cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cg(e,r)}}function Cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rD(e){if(Array.isArray(e))return e}function nD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oD(e,r,t){return r&&Rg(e.prototype,r),t&&Rg(e,t),e}function iD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function aD(e){var r=sD();return function(){var n=ms(e),o;if(r){var a=ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uD(this,o)}}function uD(e,r){if(r&&(gs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(e)}function zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qr||(qr={}));var Ig=function(e){iD(t,e);var r=aD(t);function t(){var n;return nD(this,t),n=r.call(this),zr(Lr(n),"dragHandler",void 0),zr(Lr(n),"oldEdge",void 0),zr(Lr(n),"preTargetNode",void 0),zr(Lr(n),"targetRuleResults",void 0),zr(Lr(n),"sourceRuleResults",void 0),zr(Lr(n),"onDragStart",function(){var o=n.props,a=o.x,s=o.y,p=o.edgeModel,g=p.startPoint,E=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:g,endPoint:E,pointsList:T},n.setState({endX:a,endY:s,draging:!0}),p.isHitable=!1}),zr(Lr(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.state,g=p.endX,E=p.endY,T=n.props,D=T.graphModel,B=T.type,G=D.transformModel,Z=G.moveCanvasPointByHtml([g,E],a,s),ae=QN(Z,2),se=ae[0],le=ae[1];n.setState({endX:se,endY:le,draging:!0});var Ae=n.props.edgeModel,ge=Ca({x:g,y:E},D);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=Ae.startPoint,Re=Ae.endPoint,Ze=Ae.sourceNode,He=Ae.targetNode;B===qr.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:He}:B===qr.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),Ae.updateAfterAdjustStartAndEnd(be)}else B===qr.SOURCE?Ae.updateStartPoint({x:se,y:le}):B===qr.TARGET&&Ae.updateEndPoint({x:se,y:le})}),zr(Lr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,s=a.graphModel,p=a.edgeModel,g=a.type;p.isHitable=!0;var E=n.state,T=E.endX,D=E.endY,B=E.draging,G=Ca({x:T,y:D},s);if(B){if(G&&G.node&&n.isAllowAdjust(G)){var Z,ae=p.getData(),se=yn(yn({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(Z=ae.text)===null||Z===void 0?void 0:Z.value)||""});if(g===qr.SOURCE){var le=s.edgeGenerator(s.getNodeModelById(G.node.id).getData(),s.getNodeModelById(p.targetNodeId).getData(),se);se=yn(yn({},le),{},{sourceNodeId:G.node.id,sourceAnchorId:G.anchor.id,startPoint:{x:G.anchor.x,y:G.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(g===qr.TARGET){var Ae=s.edgeGenerator(s.getNodeModelById(p.sourceNodeId).getData(),s.getNodeModelById(G.node.id).getData(),se);se=yn(yn({},Ae),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:G.node.id,targetAnchorId:G.anchor.id,endPoint:{x:G.anchor.x,y:G.anchor.y}})}s.deleteEdgeById(p.id);var ge=s.addEdge(yn({},se));s.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),zr(Lr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,s=a.startPoint,p=a.endPoint,g=a.pointsList;o.updateStartPoint(s),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),zr(Lr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return oD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,s=a.edgeModel;s.id;var p=s.sourceNode,g=s.targetNode,E=s.sourceAnchorId,T=s.targetAnchorId,D=a.type,B=null,G=null,Z=null,ae=null;if(D===qr.SOURCE?(B=o.node,G=g,Z=o.anchor,ae=g.getAnchorInfo(T)):(B=p,G=o.node,ae=o.anchor,Z=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ae.id===Z.id)return!1;var se="".concat(B.id,"_").concat(G.id,"_").concat(Z.id,"_").concat(ae.id);if(!this.targetRuleResults.has(se)){var le=B.isAllowConnectedAsSource(G,Z,ae),Ae=G.isAllowConnectedAsTarget(B,Z,ae);this.sourceRuleResults.set(se,Ia(le)),this.targetRuleResults.set(se,Ia(Ae))}var ge=this.sourceRuleResults.get(se),be=ge.isAllPass,Fe=this.targetRuleResults.get(se),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return D===qr.SOURCE?B.setElementState(Ze):G.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,p=this.state.draging,g=this.getAdjustPointStyle();return Object(ne.g)("g",null,Object(ne.g)(bi,Lc({className:"lf-edge-adjust-point"},g,{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(ne.a);function bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Os(){return Os=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Os.apply(this,arguments)}function _g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Bg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_g(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fD(e,r,t){return r&&Lg(e.prototype,r),t&&Lg(e,t),e}function cD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function dD(e){var r=hD();return function(){var n=Es(e),o;if(r){var a=Es(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pD(this,o)}}function pD(e,r){if(r&&(bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ti=function(e){cD(t,e);var r=dD(t);function t(){var n;lD(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Hr(Fr(n),"startTime",void 0),Hr(Fr(n),"contextMenuTime",void 0),Hr(Fr(n),"clickTimer",void 0),Hr(Fr(n),"handleHover",function(p,g){var E=n.props,T=E.model,D=E.graphModel.eventCenter;T.setHovered(p);var B=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,G=T.getData();D.emit(B,{data:G,e:g})}),Hr(Fr(n),"setHoverON",function(p){var g=n.props.model.isHovered;g||n.handleHover(!0,p)}),Hr(Fr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Fr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,T=g.graphModel,D=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(E.id,Et.SHOW_MENU,D.domOverlayPosition),n.toFront(),T.selectEdgeById(E.id);var B=E==null?void 0:E.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:B,e:p,position:D})}),Hr(Fr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Fr(n),"handleMouseUp",function(p){if(n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var E=p.button===2;if(!E){var T=p.detail===2,D=n.props,B=D.model,G=D.graphModel,Z=B==null?void 0:B.getData(),ae=G.getPointByClient({x:p.clientX,y:p.clientY});if(T){var se=G.editConfigModel,le=G.textEditElement;if(le&&le.id===B.id&&G.setElementStateById(B.id,Et.DEFAULT),se.edgeTextEdit&&B.text.editable&&G.setElementStateById(B.id,Et.TEXT_EDIT),B.modelType===pt.POLYLINE_EDGE){var Ae=B,ge=G.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=zh({x:Fe,y:Re},Ae.points);Ae.dbClickPosition=Ze}G.eventCenter.emit(it.EDGE_DBCLICK,{data:Z,e:p,position:ae})}else G.eventCenter.emit(it.ELEMENT_CLICK,{data:Z,e:p,position:ae}),G.eventCenter.emit(it.EDGE_CLICK,{data:Z,e:p,position:ae});var He=G.editConfigModel;G.selectEdgeById(B.id,zp(p,He)),n.toFront()}}}}),Hr(Fr(n),"getIsDragging",function(){return!1}),n}return fD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,g=s.editConfigModel;return(a.text.draggable||g.edgeTextDraggable)&&(p=!0),Object(ne.g)(JN,{editable:g.edgeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isSelected,g=this.state,E=g.hover;return{start:a,end:s,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getEdgeStyle(),g=a.getEdgeAnimationStyle(),E=s.theme.arrow,T=a.isAnimation?g.stroke:p.stroke;return Bg(Bg({},p),{},{fill:T,stroke:T},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),s=a.refY,p=s===void 0?0:s,g=a.refX,E=g===void 0?2:g;return Object(ne.g)("g",null,Object(ne.g)("defs",null,Object(ne.g)("marker",{id:"marker-start-".concat(o),refX:-E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ne.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:s,d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getAdjustStart(),g=a.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Ig,Os({type:"SOURCE"},p,{edgeModel:a,graphModel:s})),Object(ne.g)(Ig,Os({type:"TARGET"},g,{edgeModel:a,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model,p=a.overlapMode;p!==mr.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=a.isSelected,p=a.isHitable,g=o.graphModel,E=this.getIsDragging(),T=g.editConfigModel.adjustEdgeStartAndEnd,D=g.animation,B=s&&D.edge&&g.getSelectElements().edges.length===1;return Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!p&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),T&&s&&!E?this.getAdjustPoints():"")}}]),t}(ne.a);function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function vD(e,r){return bD(e)||mD(e,r)||gD(e,r)||yD()}function yD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gD(e,r){if(e){if(typeof e=="string")return zg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zg(e,r)}}function zg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function bD(e){if(Array.isArray(e))return e}function OD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=vD(t,2),o=n[0],a=n[1],s=xs(a);(o==="style"||s!=="object")&&(r[o]=a)}),Object(ne.g)("path",r)}var $o=OD;function Ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Ps(){return Ps=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ps.apply(this,arguments)}function ED(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xD(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}function SD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function PD(e){var r=wD();return function(){var n=Ts(e),o;if(r){var a=Ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return TD(this,o)}}function TD(e,r){if(r&&(Ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MD(e)}function MD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(e)}var Gc=function(e){SD(t,e);var r=PD(t);function t(){return ED(this,t),r.apply(this,arguments)}return xD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),D=T.strokeDasharray,B=T.stroke,G=T.strokeDashoffset,Z=T.animationName,ae=T.animationDuration,se=T.animationIterationCount,le=T.animationTimingFunction,Ae=T.animationDirection;return Object(ne.g)(oo,Ps({},E,{x1:a.x,y1:a.y,x2:s.x,y2:s.y},g,p?{strokeDasharray:D,stroke:B,style:{strokeDashoffset:G,animationName:Z,animationDuration:ae,animationIterationCount:se,animationTimingFunction:le,animationDirection:Ae}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.startPoint,T=o.endPoint,D=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(oo,Ps({},D,{x1:E.x,y1:E.y,x2:T.x,y2:T.y,className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p={start:a,end:s},g=OT(p),E=g.d,T=g.strokeWidth,D=g.fill,B=g.strokeDasharray,G=g.stroke;return Object(ne.g)($o,{d:E,fill:D,strokeWidth:T,stroke:G,strokeDasharray:B})}}]),t}(Ti);function Ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function AD(e,r){return CD(e)||jD(e,r)||DD(e,r)||ND()}function ND(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(e,r){if(e){if(typeof e=="string")return Hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hg(e,r)}}function Hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CD(e){if(Array.isArray(e))return e}function RD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=AD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=Ms(a);s!=="object"&&(r[o]=a)}}),Object(ne.g)("polyline",r)}var Gg=RD;function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function $g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function As(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$g(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ns(){return Ns=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ns.apply(this,arguments)}function ID(e,r){return zD(e)||LD(e,r)||BD(e,r)||_D()}function _D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BD(e,r){if(e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function LD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function zD(e){if(Array.isArray(e))return e}function FD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HD(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function GD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function $D(e){var r=XD();return function(){var n=Ds(e),o;if(r){var a=Ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kD(this,o)}}function kD(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ds(e){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ds(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){GD(t,e);var r=$D(t);function t(){var n;return FD(this,t),n=r.call(this),tn(en(n),"drag",void 0),tn(en(n),"isDraging",void 0),tn(en(n),"appendInfo",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),tn(en(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.props,g=p.model,E=p.graphModel;n.isDraging=!0;var T=E.transformModel,D=E.editConfigModel,B=T.fixDeltaXY(a,s),G=ID(B,2),Z=G[0],ae=G[1],se=g,le=D.adjustEdgeMiddle;le?n.appendInfo=se.dragAppendSimple(n.appendInfo,{x:Z,y:ae}):n.appendInfo=se.dragAppend(n.appendInfo,{x:Z,y:ae})}),tn(en(n),"onDragEnd",function(){var o=n.props,a=o.model,s=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(it.EDGE_ADJUST,{data:p.getData()})}),tn(en(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),tn(en(n),"getIsDragging",function(){return n.isDraging}),n.drag=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return HD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,s=o.isAnimation,p=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,B=E.strokeDashoffset,G=E.animationName,Z=E.animationDuration,ae=E.animationIterationCount,se=E.animationTimingFunction,le=E.animationDirection;return Object(ne.g)(Gg,Ns({points:a},g,p,s?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Gg,Ns({points:o.points},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,p=this.state,g=p.hover,E={start:null,end:null,hover:g,isSelected:s},T=Ao(a);return T.length>=2&&(E.start=T[T.length-2],E.end=T[T.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,s=o.end,p;if(a.x===s.x&&a.y===s.y)p="";else{var g={start:a,end:s,offset:10,verticalLength:5},E=vi(As(As({},g),{},{type:"start"})),T=vi(As(As({},g),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),s=a.d,p=a.strokeWidth,g=a.fill,E=a.strokeDasharray,T=a.stroke;return Object(ne.g)($o,{d:s,fill:g,strokeWidth:p,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.pointsList,E=s.draggable,T=[],D=g.length,B=function(ae){var se="lf-polyline-append",le={start:{x:g[ae].x,y:g[ae].y},end:{x:g[ae+1].x,y:g[ae+1].y},startIndex:ae,endIndex:ae+1,direction:"",dragAble:!0},Ae=Object(ne.g)("g",{className:se},o.getAppendShape(le)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=le.startIndex,Ze=le.endIndex,He=Fe&&(Re===0||Ze===D-1);le.dragAble=!He,le.start.x===le.end.x?(le.dragAble&&(se+="-ew-resize"),le.direction=Dt.VERTICAL):le.start.y===le.end.y&&(le.dragAble&&(se+="-ns-resize"),le.direction=Dt.HORIZONTAL),Ae=Object(ne.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,le)}},Object(ne.g)("g",{className:se},o.getAppendShape(le)))}T.push(Ae)},G=0;G<D-1;G++)B(G);return Object(ne.g)("g",null,T)}}]),t}(Ti);function js(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?js=function(t){return typeof t}:js=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function UD(e,r){return VD(e)||KD(e,r)||WD(e,r)||YD()}function YD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WD(e,r){if(e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VD(e){if(Array.isArray(e))return e}function Cs(){return Cs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cs.apply(this,arguments)}function ZD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JD(e,r,t){return r&&Yg(e.prototype,r),t&&Yg(e,t),e}function QD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xc(e,r)}function qD(e){var r=rj();return function(){var n=Rs(e),o;if(r){var a=Rs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ej(this,o)}}function ej(e,r){if(r&&(js(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tj(e)}function tj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(e)}var Uc=function(e){QD(t,e);var r=qD(t);function t(){return ZD(this,t),r.apply(this,arguments)}return JD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),s=o.path,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,B=E.strokeDashoffset,G=E.animationName,Z=E.animationDuration,ae=E.animationIterationCount,se=E.animationTimingFunction,le=E.animationDirection;return Object(ne.g)($o,Cs({d:s},a,g,p?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)($o,Cs({d:o.path},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ne.g)($o,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,s=a.hover,p=o,g=p.path,E=p.isSelected,T=ET(g),D=UD(T,2),B=D[0],G=D[1],Z={start:B,end:G,hover:s,isSelected:E};return Z}}]),t}(Ti);function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Wg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wg(Object(t),!0).forEach(function(n){oj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ij(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aj(e,r,t){return r&&Kg(e.prototype,r),t&&Kg(e,t),e}function uj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function sj(e){var r=cj();return function(){var n=_s(e),o;if(r){var a=_s(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lj(this,o)}}function lj(e,r){if(r&&(Is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fj(e)}function fj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(e)}var dj=function(e){uj(t,e);var r=sj(t);function t(){return ij(this,t),r.apply(this,arguments)}return aj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,p=a.start,g=a.end,E={start:p,end:g,offset:s.offset,verticalLength:s.verticalLength,type:"end"},T=vi(E),D=T.leftX,B=T.leftY,G=T.rightX,Z=T.rightY;return nj({d:"M".concat(D," ").concat(B," L").concat(g.x," ").concat(g.y," L").concat(G," ").concat(Z," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,s=o.strokeWidth,p=o.stroke,g=o.fill;return Object(ne.g)($o,{d:a,fill:g,strokeWidth:s,stroke:p})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ne.a);function pj(e,r){return Kl(e,r)}var Vg=pj;function hj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var vj=hj,yj=function(){return Sr.a.Date.now()},Wc=yj,gj=/\s/;function mj(e){for(var r=e.length;r--&&gj.test(e.charAt(r)););return r}var bj=mj,Oj=/^\s+/;function Ej(e){return e&&e.slice(0,bj(e)+1).replace(Oj,"")}var xj=Ej,Zg=0/0,Sj=/^[-+]0x[0-9a-f]+$/i,Pj=/^0b[01]+$/i,Tj=/^0o[0-7]+$/i,Mj=parseInt;function wj(e){if(typeof e=="number")return e;if(Sa(e))return Zg;if(Tt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=xj(e);var t=Pj.test(e);return t||Tj.test(e)?Mj(e.slice(2),t?2:8):Sj.test(e)?Zg:+e}var Jg=wj,Aj="Expected a function",Nj=Math.max,Dj=Math.min;function jj(e,r,t){var n,o,a,s,p,g,E=0,T=!1,D=!1,B=!0;if(typeof e!="function")throw new TypeError(Aj);r=Jg(r)||0,Tt(t)&&(T=!!t.leading,D="maxWait"in t,a=D?Nj(Jg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function G(Re){var Ze=n,He=o;return n=o=void 0,E=Re,s=e.apply(He,Ze),s}function Z(Re){return E=Re,p=setTimeout(le,r),T?G(Re):s}function ae(Re){var Ze=Re-g,He=Re-E,ht=r-Ze;return D?Dj(ht,a-He):ht}function se(Re){var Ze=Re-g,He=Re-E;return g===void 0||Ze>=r||Ze<0||D&&He>=a}function le(){var Re=Wc();if(se(Re))return Ae(Re);p=setTimeout(le,ae(Re))}function Ae(Re){return p=void 0,B&&n?G(Re):(n=o=void 0,s)}function ge(){p!==void 0&&clearTimeout(p),E=0,n=g=o=p=void 0}function be(){return p===void 0?s:Ae(Wc())}function Fe(){var Re=Wc(),Ze=se(Re);if(n=arguments,o=this,g=Re,Ze){if(p===void 0)return Z(g);if(D)return clearTimeout(p),p=setTimeout(le,r),G(g)}return p===void 0&&(p=setTimeout(le,r)),s}return Fe.cancel=ge,Fe.flush=be,Fe}var Cj=jj,Rj=i(166);function Ij(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _j(e,r,t){return r&&Qg(e.prototype,r),t&&Qg(e,t),e}function Fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Bj=function(){function e(r){Ij(this,e),Fn(this,"undos",[]),Fn(this,"redos",[]),Fn(this,"callbacks",[]),Fn(this,"stopWatch",null),Fn(this,"curData",null),Fn(this,"maxSize",50),Fn(this,"waitTime",100),Fn(this,"eventCenter",void 0),this.eventCenter=r}return _j(e,[{key:"add",value:function(t){Vg(vj(this.undos),t)||(this.undos.push(t),Vg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Rj.a)(t,Cj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Lj=Bj;function Bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var qg,em,tm;function zj(e,r){return $j(e)||Gj(e,r)||Hj(e,r)||Fj()}function Fj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hj(e,r){if(e){if(typeof e=="string")return rm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rm(e,r)}}function rm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Gj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function $j(e){if(Array.isArray(e))return e}function nm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ko(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nm(Object(t),!0).forEach(function(n){uo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function om(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xj(e,r,t){return r&&om(e.prototype,r),t&&om(e,t),e}function Uj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kc(e,r)}function Kc(e,r){return Kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kc(e,r)}function Yj(e){var r=Kj();return function(){var n=Ls(e),o;if(r){var a=Ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Wj(this,o)}}function Wj(e,r){if(r&&(Bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}function Xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(e)}function uo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vc=Gr(qg=(tm=em=function(e){Uj(t,e);var r=Yj(t);function t(){var n;return kj(this,t),n=r.call(this),uo(Xo(n),"ref",Object(ne.f)()),uo(Xo(n),"__prevText",{type:"",text:"",id:""}),uo(Xo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),uo(Xo(n),"inputHandler",function(o){var a=o.target,s=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:s.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),uo(Xo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Xj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter;a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){var s=o.textEditElement,p=o.editConfigModel,g=p.edgeTextEdit,E=p.nodeTextEdit;(g||E)&&s&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,s=a.text,p=a.id;o.updateText(p,s),o.eventCenter.emit(it.TEXT_UPDATE,ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,s=this.state.style;return a?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,s=a.transformModel,p=a.theme,g=a.textEditElement,E;if(g){var T;if(!((T=g.text)!==null&&T!==void 0&&T.value))if(g.BaseType===Ht.EDGE){g=g;var D=g.text,B=g.textPosition,G=B.x,Z=B.y;D.x=G,D.y=Z,g.setText(D)}else g=g;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===Ht.EDGE){var se=p.edgeText,le=se.overflowMode,Ae=se.lineHeight,ge=se.wrapPadding,be=se.textWidth;be&&le==="autoWrap"&&(E=ko(ko({},ae),{},{width:be,minWidth:be,lineHeight:Ae,padding:ge}))}else if(g.BaseType===Ht.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,He=Fe.wrapPadding,ht=Fe.textWidth,yt=g,ur=yt.width,Er=yt.modelType;(Er!==pt.TEXT_NODE&&Re==="autoWrap"||Er===pt.TEXT_NODE&&ht)&&(E=ko(ko({},ae),{},{width:ht||ur,minWidth:ht||ur,lineHeight:Ze,padding:He}))}var nn=g.text,Hn=nn.x,so=nn.y,Uo=s.CanvasPointToHtmlPoint([Hn,so]),Gn=zj(Uo,2),Yo=Gn[0],td=Gn[1];return{style:ko({left:Yo,top:td},E)}}}}]),t}(ne.a),uo(em,"toolName","textEdit"),tm))||qg,Vj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Zj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:a-p/2,x1:o+s/2,y1:a+p/2}},Jj=function(r){var t=r.points,n=Ao(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},Qj=function(r){var t=r.path,n=Ua(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},qj=function(r){if(r.modelType===pt.LINE_EDGE)return Zj(r);if(r.modelType===pt.POLYLINE_EDGE)return Jj(r);if(r.modelType===pt.BEZIER_EDGE)return Qj(r)};function zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zs=function(t){return typeof t}:zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}var im,am,um;function sm(e,r){return rC(e)||tC(e,r)||lm(e,r)||eC()}function eC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tC(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rC(e){if(Array.isArray(e))return e}function nC(e){return aC(e)||iC(e)||lm(e)||oC()}function oC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lm(e,r){if(e){if(typeof e=="string")return Zc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zc(e,r)}}function iC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aC(e){if(Array.isArray(e))return Zc(e)}function Zc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function uC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sC(e,r,t){return r&&fm(e.prototype,r),t&&fm(e,t),e}function lC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jc(e,r)}function Jc(e,r){return Jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jc(e,r)}function fC(e){var r=dC();return function(){var n=Fs(e),o;if(r){var a=Fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cC(this,o)}}function cC(e,r){if(r&&(zs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fs(e){return Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fs(e)}function wi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=Gr(im=(um=am=function(e){lC(t,e);var r=fC(t);function t(n){var o;uC(this,t),o=r.call(this),wi(Mi(o),"stepDrag",void 0),wi(Mi(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),wi(Mi(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY,D=o.props.graphModel,B=D.getSelectElements(!0);D.moveNodes(B.nodes.map(function(G){return G.id}),E,T)}),wi(Mi(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,T=E.graphModel,D=E.graphModel,B=D.eventCenter,G=D.selectElements,Z=T.getPointByClient({x:g.clientX,y:g.clientY}),ae={nodes:[],edges:[]},se=nC(G.values());se.forEach(function(le){le.BaseType===Ht.NODE&&ae.nodes.push(le.getData()),le.BaseType===Ht.EDGE&&ae.edges.push(le.getData())}),B.emit(it.SELECTION_CONTEXTMENU,{data:ae,e:g,position:Z})});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,step:s,eventType:"SELECTION",eventCenter:p}),o}return sC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(se){var le={x:0,y:0,x1:0,y1:0};se.BaseType===Ht.NODE&&(le=Vj(se)),se.BaseType===Ht.EDGE&&(le=qj(se)),p=Math.min(p,le.x),g=Math.min(g,le.y),E=Math.max(E,le.x1),T=Math.max(T,le.y1)});var D=s.CanvasPointToHtmlPoint([p,g]),B=sm(D,2);p=B[0],g=B[1];var G=s.CanvasPointToHtmlPoint([E,T]),Z=sm(G,2);E=Z[0],T=Z[1];var ae={left:"".concat(p-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(T-g+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:ae,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ne.a),wi(am,"toolName","multipleSelect"),um))||im;function pC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function Hs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vC=function(){function e(r){pC(this,e),Hs(this,"tools",void 0),Hs(this,"components",void 0),Hs(this,"toolMap",new Map),Hs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Vc.toolName)||this.registerTool(Vc.toolName,Vc),this.isDisabledTool(Qc.toolName)||this.registerTool(Qc.toolName,Qc)}return hC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),yC=i(167),gC=i.n(yC);function mC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bC(e,r,t){return r&&dm(e.prototype,r),t&&dm(e,t),e}function qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pm=function(){function e(r){mC(this,e),qc(this,"mousetrap",void 0),qc(this,"options",void 0),qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new gC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return bC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var g=p.keys,E=p.callback,T=p.action;return t.on(g,E,T)});else{var o=n.keys,a=n.callback,s=n.action;this.on(o,a,s)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),OC=pm,rn=null;function hm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function vm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Gs=40;function EC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),s=o&&o.beforeClone?o.beforeClone(a):!0;return s?(rn=a,rn.nodes.forEach(function(p){return hm(p,Gs)}),rn.edges.forEach(function(p){return vm(p,Gs)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return hm(a,Gs)}),rn.edges.forEach(function(a){return vm(a,Gs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function xC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function $s(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$s=function(t){return typeof t}:$s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function ym(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ai(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ym(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ym(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PC(e,r,t){return r&&gm(e.prototype,r),t&&gm(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ed=function(){function e(r){var t=this;SC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=zv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new BT(Ai({},r)),this.tool=new vC(this),this.history=new Lj(this.graphModel.eventCenter),this.dnd=new Ew({lf:this}),this.keyboard=new OC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new og(this.graphModel),xC(this.graphModel.eventCenter,this.snaplineModel)),EC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return PC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Ti,BaseEdgeModel:vf,BaseNode:vn,BaseNodeModel:pn,RectNode:vc,RectNodeModel:nc,CircleNode:mc,CircleNodeModel:Yf,PolygonNode:Ec,PolygonNodeModel:ec,TextNode:Nc,TextNodeModel:ic,LineEdge:Gc,LineEdgeModel:mf,DiamondNode:Pc,DiamondNodeModel:Vf,PolylineEdge:kc,PolylineEdgeModel:Ef,BezierEdge:Uc,BezierEdgeModel:kf,EllipseNode:wc,EllipseNodeModel:Jf,HtmlNode:Cc,HtmlNodeModel:uc,h:ne.g,type:t};this.viewMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)}),this.graphModel.modelMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)});var s=n(a),p=s.view,g=s.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=bt(E)),this.setView(t,E),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:vc,model:nc,type:"rect"}),this.registerElement({type:"circle",view:mc,model:Yf}),this.registerElement({type:"polygon",view:Ec,model:ec}),this.registerElement({type:"line",view:Gc,model:mf}),this.registerElement({type:"polyline",view:kc,model:Ef}),this.registerElement({type:"bezier",view:Uc,model:kf}),this.registerElement({type:"text",view:Nc,model:ic}),this.registerElement({type:"ellipse",view:wc,model:Jf}),this.registerElement({type:"diamond",view:Pc,model:Vf}),this.registerElement({type:"html",view:Cc,model:uc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var s=this.getNodeModelById(a);s&&(o=s.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var g=o,E=g.x,T=g.y;n.focusOn(E,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,s=this.getModelById(t);if(!s)return!1;var p=(n={},Lt(n,Ht.NODE,this.deleteNode),Lt(n,Ht.EDGE,this.deleteEdge),n),g=s.BaseType;return(o=(a=p[g])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,s=a&&a.beforeDelete?a.beforeDelete(o):!0;return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,s=a&&a.beforeClone?a.beforeClone(o):!0;if(s)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),s=n&&n.beforeDelete?n.beforeDelete(a):!0;return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&s.push(E)}),s}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var g=[];return n.forEach(function(E){E.targetNodeId===a&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(qt(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,s={},p={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],T=E.id,D=this.addNode(E);if(!D)return;T&&(s[T]=D.id),p.nodes.push(D)}return a.forEach(function(B){var G=B.sourceNodeId,Z=B.targetNodeId;s[G]&&(G=s[G]),s[Z]&&(Z=s[Z]);var ae=n.graphModel.addEdge(Ai(Ai({},B),{},{sourceNodeId:G,targetNodeId:Z}));p.edges.push(ae)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,s).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=qt(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=qt(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,s=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:s}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(s){var p=s.pluginName||s.name;o.indexOf(p)===-1&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if($s(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,s=new a({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[a.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("不存在为".concat(t.type,"类型的节点"));return}var o=new n(Ai(Ai({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(qt(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(mw,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("请给插件".concat(t.name||t.constructor.name,"指定pluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(ed,"extensions",new Map);function Gr(e){return bt(e)}c.default=ed}])})})(zC,Ye);const Xs=NC(Ye),FC=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];function HC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var GC=HC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),l=2;i===1/0;l*=2)i=Math.log(Math.pow(2,u/l))/Math.log(c)*l;for(var f=i-Math.floor(i),y="",l=0;l<Math.floor(i);l++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(f){var S=Math.pow(c,f),b=Math.floor(Math.random()*S).toString(c);y=b+y}var x=parseInt(y,c);return x!==1/0&&x>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var l=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var S=v(u,c)}while(Object.hasOwnProperty.call(f,S));return f[S]=y,S},f=l.hats={};return l.get=function(y){return l.hats[y]},l.set=function(y,b){return l.hats[y]=b,l},l.bits=u||128,l.base=c||16,l}});function an(m){if(!(this instanceof an))return new an(m);m=m||[128,36,1],this._seed=m.length?GC.rack(m[0],m[1],m[2]):m}an.prototype.next=function(m){return this._seed(m||!0)};an.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(m,v){this._seed.set(m,v||!0)};an.prototype.assigned=function(m){return this._seed.get(m)||!1};an.prototype.unclaim=function(m){delete this._seed.hats[m]};an.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var $C=new an([32,32,1]);function qo(){return $C.next()}var tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),kC=function(m){tb(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(Ye.CircleNodeModel),XC=function(m){tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(Ye.CircleNode),UC={type:"bpmn:startEvent",view:XC,model:kC},rb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ws.apply(this,arguments)},YC=function(m){rb(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(Ye.CircleNodeModel),WC=function(m){rb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,l=u.y,f=u.r,y=m.prototype.getShape.call(this);return Ye.h("g",{},y,Ye.h("circle",Ws(Ws({},c),{cx:i,cy:l,r:f-5})))},v.extendKey="EndEventView",v}(Ye.CircleNode),KC={type:"bpmn:endEvent",view:WC,model:YC},nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ri=globalThis&&globalThis.__assign||function(){return Ri=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ri.apply(this,arguments)},VC=function(m){nb(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(Ye.PolygonNodeModel),ZC=function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return Ye.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(i-f/2)+")"},Ye.h("polygon",Ri(Ri({},b),{x:c,y:i,points:y})),Ye.h("path",Ri({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(Ye.PolygonNode),JC={type:"bpmn:exclusiveGateway",view:ZC,model:VC},ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ks=globalThis&&globalThis.__assign||function(){return Ks=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ks.apply(this,arguments)},QC=function(m){ob(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(Ye.RectNodeModel),qC=function(m){ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return Ye.h("svg",{x:c-l/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ye.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ye.h("g",{},[Ye.h("rect",Ks(Ks({},b),{x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ye.RectNode),eR={type:"bpmn:userTask",view:qC,model:QC},ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),nd=globalThis&&globalThis.__assign||function(){return nd=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},nd.apply(this,arguments)},tR=function(m){ib(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(Ye.RectNodeModel),rR=function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return Ye.h("svg",{x:c-l/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ye.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ye.h("g",{},[Ye.h("rect",nd({x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ye.RectNode),nR={type:"bpmn:serviceTask",view:rR,model:tR},ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),oR=function(m){ab(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(Ye.PolylineEdgeModel),iR=function(m){ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ye.PolylineEdge),aR={type:"bpmn:sequenceFlow",view:iR,model:oR},Tm={width:40,height:40},Mm={width:40,height:40},wm={width:40,height:40},Am={width:100,height:80},Nm={width:100,height:80},uR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},sR=function(){function m(v){var u=v.lf;u.setTheme(uR),u.register(UC),u.register(KC),u.register(JC),u.register(eR),u.register(nR),u.options.customBpmnEdge||(u.register(aR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),lR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,l){u.getSnapshot(i,l)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var l=i.x,f=i.width,y=i.y,b=i.height,S=l-f/2,x=y-b/2;S<u.offsetX&&(u.offsetX=S-5),x<u.offsetY&&(u.offsetY=x-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(l){var f=l.x,y=l.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var l=u[i],f=l.classList&&Array.from(l.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(l){var f=l.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){var f=l.toDataURL("image/png");i({data:f,width:l.width,height:l.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){l.toBlob(function(f){i({data:f,width:l.width,height:l.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],l=0;l<i.cssRules.length;l++)v+=i.cssRules[l].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),l=i.lastChild,f=l.childNodes&&l.childNodes.length;if(f)for(var y=0;y<f;y++){var b=l.childNodes[y],S=b.classList&&Array.from(b.classList);if(S&&S.indexOf("lf-base")<0)l.removeChild(l.childNodes[y]),f--,y--;else{var x=l.childNodes[y];x&&x.childNodes.forEach(function(L){var $=L;c.removeAnchor($.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,w=document.createElement("canvas"),M=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=M.getBoundingClientRect(),C=this.lf.graphModel,_=C.transformModel,z=_.SCALE_X,X=_.SCALE_Y,U=Math.ceil(j.width/z),ie=Math.ceil(j.height/X);w.style.width=U+"px",w.style.height=ie+"px",w.width=U*P+80,w.height=ie*P+80;var oe=w.getContext("2d");oe.clearRect(0,0,w.width,w.height),oe.scale(P,P),u?(oe.fillStyle=u,oe.fillRect(0,0,U*P+80,ie*P+80)):oe.clearRect(0,0,U,ie);var ee=new Image,J=document.createElement("style");J.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(J),i.appendChild(ue),new Promise(function(L){ee.onload=function(){oe.drawImage(ee,0,0),L(w)};var $="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=$.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ee.src=I})},m.pluginName="snapshot",m}(),fR=new an([32,32,1]);function Dm(){return fR.next()}var dr=function(){};dr.ObjTree=function(){return this};dr.ObjTree.VERSION="0.23";dr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dr.ObjTree.prototype.attr_prefix="-";dr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(v)return this.parseDOM(v)};dr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var l=this,f=u,y=c.onComplete;c.onComplete=function(x){var P;x&&x.responseXML&&x.responseXML.documentElement&&(P=l.parseDOM(x.responseXML.documentElement)),f(P,x),y&&y(x)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var S=new HTTP.Request(c);S&&(b=S.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var S=new Ajax.Request(m,c);S&&(b=S.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};dr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};dr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var l=m.attributes[i].nodeName;if(typeof l=="string"){var f=m.attributes[i].nodeValue;f&&(l=this.attr_prefix+l,typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}if(m.childNodes&&m.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<m.childNodes.length&&y;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var l=m.childNodes[i].nodeName;if(typeof l=="string"){var f=this.parseElement(m.childNodes[i]);f&&(typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}}return u}};dr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};dr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};dr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(v.hasOwnProperty(i)){var l=v[i];i.charAt(0)!=this.attr_prefix?typeof l>"u"||l==null?u[u.length]="<"+i+" />":typeof l=="object"&&l.constructor==Array?u[u.length]=this.array_to_xml(i,l):typeof l=="object"?u[u.length]=this.hash_to_xml(i,l):u[u.length]=this.scalar_to_xml(i,l):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),y=u.join("");return typeof m>"u"||m==null||(u.length>0?y.match(/\n/)?y="<"+m+f+`>
`+y+"</"+m+`>
`:y="<"+m+f+">"+y+"</"+m+`>
`:y="<"+m+f+` />
`),y};dr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};dr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};dr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var qs=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},un;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(un||(un={}));var ub=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function od(m){var v={};return Object.entries(m).forEach(function(u){var c=qs(u,2),i=c[0],l=c[1];typeof l!="object"?i.indexOf("-")===0?v[i]=l:v["-"+i]=l:v[i]=od(l)}),v}function ld(m){var v={};return Object.entries(m).forEach(function(u){var c=qs(u,2),i=c[0],l=c[1];typeof l=="string"?i.indexOf("-")===0?v[i.substr(1)]=l:v[i]=l:typeof l=="object"?v[i]=ld(l):v[i]=l}),v}function cR(m,v){var u=new Map;v.nodes.forEach(function(i){var l,f={"-id":i.id};if(!((l=i.text)===null||l===void 0)&&l.value&&(f["-name"]=i.text.value),i.properties){var y=od(i.properties);Object.assign(f,y)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var l,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var S={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((l=i.text)===null||l===void 0)&&l.value&&(S["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var x=od(i.properties);Object.assign(S,x)}return S});m[un.FLOW]=c}function dR(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,l=u.pointsList.map(function(y){var b=y.x,S=y.y;return{"-x":b,"-y":S}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":l};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,l=100,f=80,y=u.x,b=u.y,S=co.shapeConfigMap.get(u.type);S&&(l=S.width,f=S.height),y-=l/2,b-=f/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":l,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),x})}function pR(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=i[l];if(l===un.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=vR(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(hR(f,b,l))}}})}return{nodes:v,edges:u}}function hR(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(S){return S["-bpmnElement"]===f["-id"]}):y=v;var b=jm(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var l=jm(i,u,m);c.push(l)}return c}function jm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),l=u["-name"],f=co.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var w=qs(P,2),M=w[0],j=w[1];ub.indexOf(M)===-1&&(y||(y={}),y[M]=j)}),y&&(y=ld(y));var b;if(l&&(b={x:c,y:i,value:l},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(S["-x"])+Number(S["-width"])/2,b.y=Number(S["-y"])+Number(S["-height"])/2}var x={id:m["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(x.text=b),x}function vR(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var l;Array.isArray(v)?l=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):l=v,u.push(Cm(l,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(Cm(c,m))}return u}function Cm(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(b){l<b.length&&(l=b.length)}),u={value:c,x:Number(i["-x"])+l*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var S=qs(b,2),x=S[0],P=S[1];ub.indexOf(x)===-1&&(f||(f={}),f[x]=P)}),f&&(f=ld(f));var y={id:v["-id"],type:un.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var co={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Dm(),"-isExecutable":"false"};cR(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};dR(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Dm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return pR(m)}};co.shapeConfigMap.set(un.START,{width:Tm.width,height:Tm.height});co.shapeConfigMap.set(un.END,{width:Mm.width,height:Mm.height});co.shapeConfigMap.set(un.GATEWAY,{width:wm.width,height:wm.height});co.shapeConfigMap.set(un.SYSTEM,{width:Am.width,height:Am.height});co.shapeConfigMap.set(un.USER,{width:Nm.width,height:Nm.height});var Rm=globalThis&&globalThis.__assign||function(){return Rm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Rm.apply(this,arguments)};globalThis&&globalThis.__read;var Im;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(Im||(Im={}));var yR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var gR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var mR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},bR=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(mR(arguments[v]));return m},Ni="lf:defaultNodeMenu",Di="lf:defaultEdgeMenu",ji="lf:defaultGraphMenu",_m="lf:defaultSelectionMenu",OR=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"删除",callback:function(l){v.lf.deleteNode(l.id)}},{text:"编辑文本",callback:function(l){v.lf.graphModel.editText(l.id)}},{text:"复制",callback:function(l){v.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Ni,u);var c=[{text:"删除",callback:function(l){v.lf.deleteEdge(l.id)}},{text:"编辑文本",callback:function(l){v.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(Di,c),this.menuTypeMap.set(ji,[]);var i=[{text:"删除",callback:function(l){v.lf.clearSelectElements(),l.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(_m,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var l=i.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,x=l.id,P=c.lf.graphModel.getNodeModelById(x),w=[],M=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?w=P.menu:M?w=M:w=c.menuTypeMap.get(Ni),c.__currentData=l,c.showMenu(b,S,w)}),this.lf.on("edge:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,x=l.id,P=c.lf.graphModel.getEdgeModelById(x),w=[],M=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?w=P.menu:M?w=M:w=c.menuTypeMap.get(Di),c.__currentData=l,c.showMenu(b,S,w)}),this.lf.on("blank:contextmenu",function(i){var l=i.position,f=c.menuTypeMap.get(ji),y=l.domOverlayPosition,b=y.x,S=y.y;c.showMenu(b,S,f)}),this.lf.on("selection:contextmenu",function(i){var l=i.data,f=i.position,y=c.menuTypeMap.get(_m),b=f.domOverlayPosition,S=b.x,x=b.y;c.__currentData=l,c.showMenu(S,x,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,bR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",i.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){v&&(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ni,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Di,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(ji,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(ji);this.menuTypeMap.set(ji,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zo=globalThis&&globalThis.__assign||function(){return Zo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zo.apply(this,arguments)},$n=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};(function(m){sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var l=$n(c[i-1],2),f=l[0],y=l[1],b=$n(c[i],2),S=b[0],x=b[1],P=$n(c[i+1],2),w=P[0],M=P[1];f===S&&S===w||y===x&&x===M?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,l=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),S=u.getEdgeAnimationStyle(),x=this.pointFilter(c.split(" ").map(function(Q){return Q.split(",").map(function(ce){return Number(ce)})})),P=$n(x[0],2),w=P[0],M=P[1],j="M"+w+" "+M,C=1;C<x.length-1;C++){var _=$n(x[C-1],2),z=_[0],X=_[1],U=$n(x[C],2),ie=U[0],oe=U[1],ee=$n(x[C+1],2),J=ee[0],ue=ee[1];if(ie===z&&oe!==X){var L=oe>X?oe-y:oe+y;j=j+" L "+ie+" "+L}if(oe===X&&ie!==z){var $=ie>z?ie-y:ie+y;j=j+" L "+$+" "+oe}if(j=j+" Q "+ie+" "+oe,ie===J&&oe!==ue){var L=oe>ue?oe-y:oe+y;j=j+" "+ie+" "+L}if(oe===ue&&ie!==J){var $=ie>J?ie-y:ie+y;j=j+" "+$+" "+oe}}var I=$n(x[x.length-1],2),A=I[0],R=I[1];j=j+" L "+A+" "+R;var W=Zo(Zo(Zo({d:j,style:i?S:{}},b),l),{fill:"none"});return Ye.h("path",Zo({d:j},W))},v})(Ye.PolylineEdge);(function(m){sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(Ye.PolylineEdgeModel);var fd,Ft,lb,Ii,Bm,fb={},cb=[],ER=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function kn(m,v){for(var u in v)m[u]=v[u];return m}function db(m){var v=m.parentNode;v&&v.removeChild(m)}function _i(m,v,u){var c,i,l,f={};for(l in v)l=="key"?c=v[l]:l=="ref"?i=v[l]:f[l]=v[l];if(arguments.length>2&&(f.children=arguments.length>3?fd.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(l in m.defaultProps)f[l]===void 0&&(f[l]=m.defaultProps[l]);return Us(m,f,c,i,null)}function Us(m,v,u,c,i){var l={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++lb};return i==null&&Ft.vnode!=null&&Ft.vnode(l),l}function cd(m){return m.children}function Qo(m,v){this.props=m,this.context=v}function Li(m,v){if(v==null)return m.__?Li(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Li(m):null}function pb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return pb(m)}}function Lm(m){(!m.__d&&(m.__d=!0)&&Ii.push(m)&&!Vs.__r++||Bm!==Ft.debounceRendering)&&((Bm=Ft.debounceRendering)||setTimeout)(Vs)}function Vs(){for(var m;Vs.__r=Ii.length;)m=Ii.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ii=[],m.some(function(v){var u,c,i,l,f,y;v.__d&&(f=(l=(u=v).__v).__e,(y=u.__P)&&(c=[],(i=kn({},l)).__v=l.__v+1,gb(y,l,i,u.__n,y.ownerSVGElement!==void 0,l.__h!=null?[f]:null,c,f??Li(l),l.__h),SR(c,l),l.__e!=f&&pb(l)))})}function hb(m,v,u,c,i,l,f,y,b,S){var x,P,w,M,j,C,_,z=c&&c.__k||cb,X=z.length;for(u.__k=[],x=0;x<v.length;x++)if((M=u.__k[x]=(M=v[x])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?Us(null,M,null,null,M):Array.isArray(M)?Us(cd,{children:M},null,null,null):M.__b>0?Us(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null){if(M.__=u,M.__b=u.__b+1,(w=z[x])===null||w&&M.key==w.key&&M.type===w.type)z[x]=void 0;else for(P=0;P<X;P++){if((w=z[P])&&M.key==w.key&&M.type===w.type){z[P]=void 0;break}w=null}gb(m,M,w=w||fb,i,l,f,y,b,S),j=M.__e,(P=M.ref)&&w.ref!=P&&(_||(_=[]),w.ref&&_.push(w.ref,null,M),_.push(P,M.__c||j,M)),j!=null?(C==null&&(C=j),typeof M.type=="function"&&M.__k===w.__k?M.__d=b=vb(M,b,m):b=yb(m,M,w,z,j,b),typeof u.type=="function"&&(u.__d=b)):b&&w.__e==b&&b.parentNode!=m&&(b=Li(w))}for(u.__e=C,x=X;x--;)z[x]!=null&&bb(z[x],z[x]);if(_)for(x=0;x<_.length;x++)mb(_[x],_[++x],_[++x])}function vb(m,v,u){for(var c,i=m.__k,l=0;i&&l<i.length;l++)(c=i[l])&&(c.__=m,v=typeof c.type=="function"?vb(c,v,u):yb(u,c,c,i,c.__e,v));return v}function yb(m,v,u,c,i,l){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=l||i.parentNode==null)e:if(l==null||l.parentNode!==m)m.appendChild(i),f=null;else{for(y=l,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;m.insertBefore(i,l),f=l}return f!==void 0?f:i.nextSibling}function xR(m,v,u,c,i){var l;for(l in u)l==="children"||l==="key"||l in v||Zs(m,l,null,u[l],c);for(l in v)i&&typeof v[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||u[l]===v[l]||Zs(m,l,v[l],u[l],c)}function zm(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||ER.test(v)?u:u+"px"}function Zs(m,v,u,c,i){var l;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||zm(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||zm(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")l=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+l]=u,u?c||m.addEventListener(v,l?Hm:Fm,l):m.removeEventListener(v,l?Hm:Fm,l);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&v.indexOf("-")==-1?m.removeAttribute(v):m.setAttribute(v,u))}}function Fm(m){this.l[m.type+!1](Ft.event?Ft.event(m):m)}function Hm(m){this.l[m.type+!0](Ft.event?Ft.event(m):m)}function gb(m,v,u,c,i,l,f,y,b){var S,x,P,w,M,j,C,_,z,X,U,ie,oe,ee,J,ue=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,l=[y]),(S=Ft.__b)&&S(v);try{e:if(typeof ue=="function"){if(_=v.props,z=(S=ue.contextType)&&c[S.__c],X=S?z?z.props.value:S.__:c,u.__c?C=(x=v.__c=u.__c).__=x.__E:("prototype"in ue&&ue.prototype.render?v.__c=x=new ue(_,X):(v.__c=x=new Qo(_,X),x.constructor=ue,x.render=TR),z&&z.sub(x),x.props=_,x.state||(x.state={}),x.context=X,x.__n=c,P=x.__d=!0,x.__h=[],x._sb=[]),x.__s==null&&(x.__s=x.state),ue.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=kn({},x.__s)),kn(x.__s,ue.getDerivedStateFromProps(_,x.__s))),w=x.props,M=x.state,P)ue.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(ue.getDerivedStateFromProps==null&&_!==w&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(_,X),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(_,x.__s,X)===!1||v.__v===u.__v){for(x.props=_,x.state=x.__s,v.__v!==u.__v&&(x.__d=!1),x.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(L){L&&(L.__=v)}),U=0;U<x._sb.length;U++)x.__h.push(x._sb[U]);x._sb=[],x.__h.length&&f.push(x);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(_,x.__s,X),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(w,M,j)})}if(x.context=X,x.props=_,x.__v=v,x.__P=m,ie=Ft.__r,oe=0,"prototype"in ue&&ue.prototype.render){for(x.state=x.__s,x.__d=!1,ie&&ie(v),S=x.render(x.props,x.state,x.context),ee=0;ee<x._sb.length;ee++)x.__h.push(x._sb[ee]);x._sb=[]}else do x.__d=!1,ie&&ie(v),S=x.render(x.props,x.state,x.context),x.state=x.__s;while(x.__d&&++oe<25);x.state=x.__s,x.getChildContext!=null&&(c=kn(kn({},c),x.getChildContext())),P||x.getSnapshotBeforeUpdate==null||(j=x.getSnapshotBeforeUpdate(w,M)),J=S!=null&&S.type===cd&&S.key==null?S.props.children:S,hb(m,Array.isArray(J)?J:[J],v,u,c,i,l,f,y,b),x.base=v.__e,v.__h=null,x.__h.length&&f.push(x),C&&(x.__E=x.__=null),x.__e=!1}else l==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=PR(u.__e,v,u,c,i,l,f,b);(S=Ft.diffed)&&S(v)}catch(L){v.__v=null,(b||l!=null)&&(v.__e=y,v.__h=!!b,l[l.indexOf(y)]=null),Ft.__e(L,v,u)}}function SR(m,v){Ft.__c&&Ft.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ft.__e(c,u.__v)}})}function PR(m,v,u,c,i,l,f,y){var b,S,x,P=u.props,w=v.props,M=v.type,j=0;if(M==="svg"&&(i=!0),l!=null){for(;j<l.length;j++)if((b=l[j])&&"setAttribute"in b==!!M&&(M?b.localName===M:b.nodeType===3)){m=b,l[j]=null;break}}if(m==null){if(M===null)return document.createTextNode(w);m=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,w.is&&w),l=null,y=!1}if(M===null)P===w||y&&m.data===w||(m.data=w);else{if(l=l&&fd.call(m.childNodes),S=(P=u.props||fb).dangerouslySetInnerHTML,x=w.dangerouslySetInnerHTML,!y){if(l!=null)for(P={},j=0;j<m.attributes.length;j++)P[m.attributes[j].name]=m.attributes[j].value;(x||S)&&(x&&(S&&x.__html==S.__html||x.__html===m.innerHTML)||(m.innerHTML=x&&x.__html||""))}if(xR(m,w,P,i,y),x)v.__k=[];else if(j=v.props.children,hb(m,Array.isArray(j)?j:[j],v,u,c,i&&M!=="foreignObject",l,f,l?l[0]:u.__k&&Li(u,0),y),l!=null)for(j=l.length;j--;)l[j]!=null&&db(l[j]);y||("value"in w&&(j=w.value)!==void 0&&(j!==m.value||M==="progress"&&!j||M==="option"&&j!==P.value)&&Zs(m,"value",j,P.value,!1),"checked"in w&&(j=w.checked)!==void 0&&j!==m.checked&&Zs(m,"checked",j,P.checked,!1))}return m}function mb(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ft.__e(c,u)}}function bb(m,v,u){var c,i;if(Ft.unmount&&Ft.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||mb(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){Ft.__e(l,v)}c.base=c.__P=null,m.__c=void 0}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&bb(c[i],v,u||typeof m.type!="function");u||m.__e==null||db(m.__e),m.__=m.__e=m.__d=void 0}function TR(m,v,u){return this.constructor(m,u)}fd=cb.slice,Ft={__e:function(m,v,u,c){for(var i,l,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(m)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),f=i.__d),f)return i.__E=i}catch(y){m=y}throw m}},lb=0,Qo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kn({},this.state),typeof m=="function"&&(m=m(kn({},u),this.props)),m&&kn(u,m),m!=null&&this.__v&&(v&&this._sb.push(v),Lm(this))},Qo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Lm(this))},Qo.prototype.render=cd,Ii=[],Vs.__r=0;var Bi=globalThis&&globalThis.__assign||function(){return Bi=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Bi.apply(this,arguments)};function dd(m){var v=m.x,u=m.y,c=m.width,i=m.height,l=m.radius,f=m.className,y=v-c/2,b=u-i/2,S=Bi(Bi({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:y,y:b});return Ye.h("rect",Bi({},S))}dd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Jo;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Jo||(Jo={}));function Ys(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Gm(m){var v=Ys(m),u=m.radius,c=v.minX,i=v.minY,l=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:l-u,y:i+u},{x:l-u,y:f-u},{x:c+u,y:f-u}]}function $m(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,l=v.y,f={x:i,y:l},y=u.radius,b=Ys(u),S=Ys(c);if(i===b.minX){f.x=S.minX;var x=(l-u.y)/(u.height/2-y);x?f.y=c.y+(c.height/2-y)*x:f.y=c.y}else if(i===b.maxX){f.x=S.maxX;var x=(l-u.y)/(u.height/2-y);x?f.y=c.y+(c.height/2-y)*x:f.y=c.y}else if(l===b.minY){f.y=S.minY;var x=(i-u.x)/(u.width/2-y);x?f.x=c.x+(c.width/2-y)*x:f.x=c.x}else if(l===b.maxY){f.y=S.maxY;var x=(i-u.x)/(u.width/2-y);x?f.x=c.x+(c.width/2-y)*x:f.x=c.x}else{var P=Gm(u),w=Gm(c),M=Ys(u),j=M.minX,C=M.minY,_=M.maxX,z=M.maxY,X=-1;if(i-j<y&&l-C<y?X=0:_-i<y&&l-C<y?X=1:_-i<y&&z-l<y?X=2:i-j<y&&C-l<y&&(X=3),X>-1){var U=Math.atan2(l-P[X].y,i-P[X].x);f.x=w[X].x+y*Math.cos(U),f.y=w[X].y+y*Math.sin(U)}}return f}function km(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,l=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,S=l,x,P;return y>=1/0?(x=0,P=S):y<=-1/0?(x=0,P=-S):v.x-u.x>0?(x=b*S/Math.sqrt(S*S+b*b*y*y),P=b*S*y/Math.sqrt(S*S+b*b*y*y)):(x=-(b*S)/Math.sqrt(S*S+b*b*y*y),P=-(b*S*y)/Math.sqrt(S*S+b*b*y*y)),f={x:x+c.x,y:P+c.y},f}function Xm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,l,f,y=v.x-u.x,b=v.y-u.y,S=u.rx,x=u.ry,P=Math.sqrt((S-Math.abs(y))*(S-Math.abs(y))+b*b)/Math.sqrt(S*S+x*x),w=c.rx,M=c.ry,j=Math.sqrt((w*w+M*M)*P*P*(w*w/(w*w+M*M))),C=j*(M/w);return y>=0?l=w-j:l=j-w,b>0?f=C:f=-C,i={x:l+c.x,y:f+c.y},i}var MR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},lo.apply(this,arguments)},wR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},AR=Ye.LogicFlowUtil.StepDrag,NR=function(m){MR(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,S=y.y;c.nodeModel.x=b+l/2,c.nodeModel.y=S+f/2,c.nodeModel.moveText(l/2,f/2)},c.getResize=function(i){var l=i.index,f=i.deltaX,y=i.deltaY,b=i.width,S=i.height,x=i.PCTResizeInfo,P=i.pct,w=P===void 0?1:P,M={width:b,height:S,deltaX:f,deltaY:y};if(x){var j=4,C=0,_=0;switch(l){case 0:_=(f*-1-y)/j;break;case 1:_=(f-y)/j;break;case 2:_=(f+y)/j;break;case 3:_=(f*-1+y)/j;break}_!==0&&(C=Math.round(_/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+C,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.hightPCT=Math.max(Math.min(x.ResizePCT.hightPCT+C,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var z=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),X=Math.round(x.ResizePCT.hightPCT*x.ResizeBasis.basisHeight/100);switch(l){case 0:f=b-z,y=S-X;break;case 1:f=z-b,y=S-X;break;case 2:f=z-b,y=X-S;break;case 3:f=b-z,y=X-S;break}return M.width=z,M.height=X,M.deltaX=f/w,M.deltaY=y/w,M}switch(l){case 0:M.width=b-f*w,M.height=S-y*w;break;case 1:M.width=b+f*w,M.height=S-y*w;break;case 2:M.width=b+f*w,M.height=S+y*w;break;case 3:M.width=b-f*w,M.height=S+y*w;break}return M},c.updateRect=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.x,x=y.y,P=y.width,w=y.height,M=y.radius,j=y.PCTResizeInfo,C=c.index,_=c.getResize({index:C,deltaX:l,deltaY:f,width:P,height:w,PCTResizeInfo:j,pct:1}),z=c.nodeModel,X=z.minWidth,U=z.minHeight,ie=z.maxWidth,oe=z.maxHeight;if(_.width<X||_.width>ie||_.height<U||_.height>oe){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),c.nodeModel.width=_.width,c.nodeModel.height=_.height,c.nodeModel.setProperties({nodeSize:{width:_.width,height:_.height}});var ee=c.getNodeEdges(b),J={x:S,y:x,width:P,height:w,radius:M},ue={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:M},L={point:"",beforeNode:J,afterNode:ue},$;ee.sourceEdges.forEach(function(I){L.point=I.startPoint,$=$m(L),I.updateStartPoint($)}),ee.targetEdges.forEach(function(I){L.point=I.endPoint,$=$m(L),I.updateEndPoint($)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.updateEllipse=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,x=y.ry,P=y.x,w=y.y,M=y.PCTResizeInfo,j=c.index,C=S,_=x,z=c.getResize({index:j,deltaX:l,deltaY:f,width:C,height:_,PCTResizeInfo:M,pct:1/2}),X=c.nodeModel,U=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<U/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J=c.getNodeEdges(b),ue={x:P,y:w},L={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},$={point:{},beforeNode:ue,afterNode:L},I;J.sourceEdges.forEach(function(A){$.point=A.startPoint,I=km($),A.updateStartPoint(I)}),J.targetEdges.forEach(function(A){$.point=A.endPoint,I=km($),A.updateEndPoint(I)}),c.eventEmit({beforeNode:lo(lo({},ue),{rx:S,ry:x}),afterNode:L})},c.updateDiamond=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,x=y.ry,P=y.x,w=y.y,M=y.PCTResizeInfo,j=c.index,C=S,_=x,z=c.getResize({index:j,deltaX:l,deltaY:f,width:C,height:_,PCTResizeInfo:M,pct:1/2}),X=c.nodeModel,U=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<U/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J={x:P,y:w,rx:S,ry:x},ue={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:J,afterNode:ue},$,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(A){L.point=A.startPoint,$=Xm(L),A.updateStartPoint($)}),I.targetEdges.forEach(function(A){L.point=A.endPoint,$=Xm(L),A.updateEndPoint($)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.eventEmit=function(i){var l=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,S=y.modelType,x=y.type,P=lo({id:b,modelType:S,type:x},l),w=lo({id:b,modelType:S,type:x},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:w})},c.onDraging=function(i){var l,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,S=c.nodeModel.modelType;l=wR(b.fixDeltaXY(f,y),2),f=l[0],y=l[1],S===Jo.RECT_NODE||S===Jo.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):S===Jo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):S===Jo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,l=i===void 0?1:i,f=l*Math.round(c.nodeModel.x/l),y=l*Math.round(c.nodeModel.y/l);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new AR({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,l=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?l.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:l,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,l=u.index,f=u.model,y=f.getControlPointStyle();return _i("g",{className:"lf-resize-control-"+l},_i(dd,lo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Qo),DR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Js=globalThis&&globalThis.__assign||function(){return Js=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Js.apply(this,arguments)},el=function(m){DR(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,l=c.x,f=c.y,y=c.width,b=c.height,S={minX:l-y/2,minY:f-b/2,maxX:l+y/2,maxY:f+b/2},x=S.minX,P=S.minY,w=S.maxX,M=S.maxY,j=[{x,y:P},{x:w,y:P},{x:w,y:M},{x,y:M}];return j.map(function(C,_){return _i(NR,Js({index:_},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getResizeOutlineStyle();return _i(dd,Js({fill:"none"},y,{x:c,y:i,width:l,height:f}))},v.prototype.render=function(){return _i("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Qo),Ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),jR=function(m){Ob(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v}(Ye.RectNodeModel),CR=function(m){Ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ye.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(Ye.RectNode),Eb={type:"rect",view:CR,model:jR},xb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){xb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(Ye.EllipseNodeModel);(function(m){xb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ye.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(Ye.EllipseNode);var id=globalThis&&globalThis.__assign||function(){return id=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},id.apply(this,arguments)};function RR(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,l=m.strokeOpacity,f=l===void 0?1:l,y=m.fill,b=y===void 0?"transparent":y,S=m.stroke,x=S===void 0?"#000":S,P=m.points,w=m.className,M=w===void 0?"lf-basic-shape":w,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:x,strokeOpacity:f,points:"",className:M};return j.points=P.map(function(C){return C.join(",")}).join(" "),Ye.h("polygon",id({},j))}var Sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ad.apply(this,arguments)};(function(m){Sb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(Ye.DiamondNodeModel);(function(m){Sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ye.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ye.h("g",null,Ye.h(RR,ad({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ye.DiamondNode);var Pb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Pb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(Ye.HtmlNodeModel);(function(m){Pb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ye.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ye.HtmlNode);var Tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Qs=globalThis&&globalThis.__assign||function(){return Qs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Qs.apply(this,arguments)},IR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Um=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(IR(arguments[v]));return m},Ym=500,Wm=300,_R=-1e4;(function(m){Tb(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Ym,u.unfoldedHight=Wm,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Ym,this.height=Wm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=_R,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(l,f){var y=l.id,b=l.sourceNodeId,S=l.targetNodeId,x=l.startPoint,P=l.endPoint,w=l.type,M=l.properties,j=l.text,C={id:y+"__"+f,sourceNodeId:b,targetNodeId:S,startPoint:x,endPoint:P,type:w,properties:M,text:j==null?void 0:j.value};l.virtual&&i.graphModel.deleteEdgeById(l.id);var _=i.graphModel.group.getNodeGroup(S);_||(_=i.graphModel.getNodeModelById(S));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&l.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(_.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(C),l.visible=!1),!u&&l.visible===!1&&(_&&_.isGroup&&_.isFolded?(C.targetNodeId=_.id,C.endPoint=void 0,i.createVirtualEdge(C)):z&&z.isGroup&&z.isFolded?(C.sourceNodeId=z.id,C.startPoint=void 0,i.createVirtualEdge(C)):l.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Um(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Um(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(Eb.model);(function(m){Tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,l=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var S=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),P=c+S+8,w=i+S+8;return Ye.h("rect",Qs(Qs({},x),{width:P,height:w,x:l-P/2,y:f-w/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var l=Ye.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ye.h("g",{},[Ye.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),l])},v.prototype.getResizeShape=function(){return Ye.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Eb.view);var BR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var Km=globalThis&&globalThis.__assign||function(){return Km=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Km.apply(this,arguments)},Vm=globalThis&&globalThis.__assign||function(){return Vm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Vm.apply(this,arguments)},LR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const zR={class:"control-container"},FR=["title","onMouseenter"],HR=["disabled","onClick"],GR=zi({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(m,{emit:v}){const u=m,c=gn(),i=gn(),l=gn(-1),f=gn([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),y=(S,x)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,w)=>{const M=u.lf;x===1&&M.zoom(!0),x===6&&v("catData"),x===w&&M[P]()})},b=S=>{l.value=S};return Zm(()=>{u.lf.on("history:change",({data:{undoAble:S,redoAble:x}})=>{sr(f)[3].disabled=sr(c).disabled=!S,sr(f)[4].disabled=sr(i).disabled=!x})}),(S,x)=>{const P=Ci("el-tooltip");return on(),fo("div",zR,[mn("ul",null,[(on(!0),fo(Jm,null,Qm(f.value,(w,M)=>(on(),fo("li",{key:M,title:w.text,class:"dark:text-bg_color",onMouseenter:xm(j=>b(M),["prevent"]),onMouseleave:x[0]||(x[0]=xm(j=>l.value=-1,["prevent"]))},[Ko(P,{content:w.text,visible:l.value===M,placement:"right"},{default:Vo(()=>[mn("button",{ref_for:!0,ref:"controlButton"+M,disabled:w.disabled,style:Sm({cursor:w.disabled===!1?"pointer":"not-allowed",color:w.disabled===!1?"":"#00000040",background:"transparent"}),onClick:j=>y(w,M)},[mn("span",{class:qm("iconfont "+w.icon),style:Sm({fontSize:`${w.size}px`})},null,6)],12,HR)]),_:2},1032,["content","visible"])],40,FR))),128))])])}}});const $R=ud(GR,[["__scopeId","data-v-8ed94ee6"]]),kR={class:"node-panel"},XR=["onMousedown"],UR={key:0,class:"shape"},YR={class:"node-label"},WR=zi({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(m){const v=m,u=gn({a:"efrwe",b:"wewe"}),c=i=>{v.lf.dnd.startDrag({type:i.type,properties:sr(u)})};return(i,l)=>(on(),fo("div",kR,[(on(!0),fo(Jm,null,Qm(v.nodeList,f=>(on(),fo("div",{class:"node-item dark:text-bg_color",key:f.text,onMousedown:y=>c(f)},[mn("div",{class:qm(["node-item-icon",f.class])},[f.type==="user"||f.type==="time"?(on(),fo("div",UR)):eb("",!0)],2),mn("span",YR,jC(f.text),1)],40,XR))),128))]))}});const KR=ud(WR,[["__scopeId","data-v-9049943f"]]),VR=zi({__name:"DataDialog",props:{graphData:Object},setup(m){const v=m;return(u,c)=>(on(),rd(sr(IC),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),ZR=sd($R),JR=sd(KR),QR=sd(VR),qR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function e2(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:l,startPoint:f,endPoint:y,pointsList:b,logicFlowType:S}=c,x={id:i,type:S,sourceNodeId:v[0],targetNodeId:u[0],text:l,startPoint:f,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(w=>{P.indexOf(w)===-1&&(x.properties[w]=m.properties[w])}),x}function t2(m){const{properties:v,key:u}=m,{x:c,y:i,text:l,logicFlowType:f}=v,y={id:u,type:f,x:c,y:i,text:l,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(S=>{b.indexOf(S)===-1&&(y.properties[S]=m.properties[S])}),y}function r2(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===qR.SEQUENCE_FLOW){const i=e2(c);v.edges.push(i)}else{const i=t2(c);v.nodes.push(i)}}),v}const n2=m=>(CC("data-v-ab034b5a"),m=m(),RC(),m),o2={class:"card-header"},i2={class:"font-medium"},a2={class:"logic-flow-view"},u2=n2(()=>mn("div",{id:"LF-Turbo"},null,-1)),s2=zi({name:"FlowChart"}),l2=zi({...s2,setup(m){const v=gn(null),u=gn(null),c=gn(!1),i=gn({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),l=FC;function f(){Xs.use(lR),Xs.use(sR),Xs.use(OR);const S=new Xs({...sr(i),container:document.querySelector("#LF-Turbo")});v.value=S,sr(v).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const S=r2(LC);v.value.render(S)}function b(){u.value=sr(v).getGraphData(),c.value=!0}return Zm(()=>{f()}),(S,x)=>{const P=Ci("el-link"),w=Ci("el-scrollbar"),M=Ci("el-dialog"),j=Ci("el-card");return on(),rd(j,null,{header:Vo(()=>[mn("div",o2,[mn("span",i2,[Pm(" 流程图组件，采用开源的 "),Ko(P,{href:"http://logic-flow.org/",target:"_blank",icon:sr(DC)(sr(_C)),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Vo(()=>[Pm(" LogicFlow ")]),_:1},8,["icon"])])])]),default:Vo(()=>[mn("div",a2,[v.value?(on(),rd(sr(ZR),{key:0,class:"demo-control",lf:v.value,catTurboData:!1,onCatData:b},null,8,["lf"])):eb("",!0),Ko(sr(JR),{lf:v.value,nodeList:sr(l)},null,8,["lf","nodeList"]),u2,Ko(M,{class:"flow-dialog",title:"数据",modelValue:c.value,"onUpdate:modelValue":x[0]||(x[0]=C=>c.value=C),width:"50%"},{default:Vo(()=>[Ko(w,null,{default:Vo(()=>[Ko(sr(QR),{graphData:u.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});const E2=ud(l2,[["__scopeId","data-v-ab034b5a"]]);export{E2 as default};
